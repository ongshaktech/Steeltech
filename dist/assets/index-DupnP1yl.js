function $3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var O3={exports:{}},_h={},V3={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=Symbol.for("react.element"),JC=Symbol.for("react.portal"),e7=Symbol.for("react.fragment"),t7=Symbol.for("react.strict_mode"),n7=Symbol.for("react.profiler"),r7=Symbol.for("react.provider"),i7=Symbol.for("react.context"),s7=Symbol.for("react.forward_ref"),o7=Symbol.for("react.suspense"),a7=Symbol.for("react.memo"),l7=Symbol.for("react.lazy"),yx=Symbol.iterator;function c7(t){return t===null||typeof t!="object"?null:(t=yx&&t[yx]||t["@@iterator"],typeof t=="function"?t:null)}var H3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U3=Object.assign,z3={};function ya(t,e,n){this.props=t,this.context=e,this.refs=z3,this.updater=n||H3}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W3(){}W3.prototype=ya.prototype;function k1(t,e,n){this.props=t,this.context=e,this.refs=z3,this.updater=n||H3}var A1=k1.prototype=new W3;A1.constructor=k1;U3(A1,ya.prototype);A1.isPureReactComponent=!0;var _x=Array.isArray,q3=Object.prototype.hasOwnProperty,T1={current:null},G3={key:!0,ref:!0,__self:!0,__source:!0};function K3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)q3.call(e,r)&&!G3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cc,type:t,key:s,ref:o,props:i,_owner:T1.current}}function u7(t,e){return{$$typeof:Cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cc}function h7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wx=/\/+/g;function Vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h7(""+t.key):e.toString(36)}function $u(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cc:case JC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vd(o,0):r,_x(i)?(n="",t!=null&&(n=t.replace(wx,"$&/")+"/"),$u(i,e,n,"",function(c){return c})):i!=null&&(I1(i)&&(i=u7(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_x(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Vd(s,a);o+=$u(s,e,n,l,i)}else if(l=c7(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Vd(s,a++),o+=$u(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lu(t,e,n){if(t==null)return t;var r=[],i=0;return $u(t,r,"","",function(s){return e.call(n,s,i++)}),r}function d7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Ou={transition:null},f7={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:T1};function Q3(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:lu,forEach:function(t,e,n){lu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lu(t,function(){e++}),e},toArray:function(t){return lu(t,function(e){return e})||[]},only:function(t){if(!I1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=ya;we.Fragment=e7;we.Profiler=n7;we.PureComponent=k1;we.StrictMode=t7;we.Suspense=o7;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f7;we.act=Q3;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=T1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)q3.call(e,l)&&!G3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cc,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:i7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r7,_context:t},t.Consumer=t};we.createElement=K3;we.createFactory=function(t){var e=K3.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:s7,render:t}};we.isValidElement=I1;we.lazy=function(t){return{$$typeof:l7,_payload:{_status:-1,_result:t},_init:d7}};we.memo=function(t,e){return{$$typeof:a7,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};we.unstable_act=Q3;we.useCallback=function(t,e){return dn.current.useCallback(t,e)};we.useContext=function(t){return dn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};we.useEffect=function(t,e){return dn.current.useEffect(t,e)};we.useId=function(){return dn.current.useId()};we.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return dn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};we.useRef=function(t){return dn.current.useRef(t)};we.useState=function(t){return dn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return dn.current.useTransition()};we.version="18.3.1";V3.exports=we;var N=V3.exports;const Fn=N1(N),p7=$3({__proto__:null,default:Fn},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m7=N,g7=Symbol.for("react.element"),x7=Symbol.for("react.fragment"),v7=Object.prototype.hasOwnProperty,y7=m7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_7={key:!0,ref:!0,__self:!0,__source:!0};function Y3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)v7.call(e,r)&&!_7.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:g7,type:t,key:s,ref:o,props:i,_owner:y7.current}}_h.Fragment=x7;_h.jsx=Y3;_h.jsxs=Y3;O3.exports=_h;var h=O3.exports,Z3={exports:{}},Hn={},X3={exports:{}},J3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var z=$.length;$.push(H);e:for(;0<z;){var M=z-1>>>1,j=$[M];if(0<i(j,H))$[M]=H,$[z]=j,z=M;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var H=$[0],z=$.pop();if(z!==H){$[0]=z;e:for(var M=0,j=$.length,O=j>>>1;M<O;){var L=2*(M+1)-1,ge=$[L],ue=L+1,Be=$[ue];if(0>i(ge,z))ue<j&&0>i(Be,ge)?($[M]=Be,$[ue]=z,M=ue):($[M]=ge,$[L]=z,M=L);else if(ue<j&&0>i(Be,z))$[M]=Be,$[ue]=z,M=ue;else break e}}return H}function i($,H){var z=$.sortIndex-H.sortIndex;return z!==0?z:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=$)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function _($){if(y=!1,x($),!g)if(n(l)!==null)g=!0,X(S);else{var H=n(c);H!==null&&ee(_,H.startTime-$)}}function S($,H){g=!1,y&&(y=!1,v(D),D=-1),m=!0;var z=f;try{for(x(H),d=n(l);d!==null&&(!(d.expirationTime>H)||$&&!k());){var M=d.callback;if(typeof M=="function"){d.callback=null,f=d.priorityLevel;var j=M(d.expirationTime<=H);H=t.unstable_now(),typeof j=="function"?d.callback=j:d===n(l)&&r(l),x(H)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var L=n(c);L!==null&&ee(_,L.startTime-H),O=!1}return O}finally{d=null,f=z,m=!1}}var C=!1,E=null,D=-1,A=5,b=-1;function k(){return!(t.unstable_now()-b<A)}function R(){if(E!==null){var $=t.unstable_now();b=$;var H=!0;try{H=E(!0,$)}finally{H?F():(C=!1,E=null)}}else C=!1}var F;if(typeof p=="function")F=function(){p(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=R,F=function(){G.postMessage(null)}}else F=function(){w(R,0)};function X($){E=$,C||(C=!0,F())}function ee($,H){D=w(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,X(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var z=f;f=H;try{return $()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=f;f=$;try{return H()}finally{f=z}},t.unstable_scheduleCallback=function($,H,z){var M=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,$){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=z+j,$={id:u++,callback:H,priorityLevel:$,startTime:z,expirationTime:j,sortIndex:-1},z>M?($.sortIndex=z,e(c,$),n(l)===null&&$===n(c)&&(y?(v(D),D=-1):y=!0,ee(_,z-M))):($.sortIndex=j,e(l,$),g||m||(g=!0,X(S))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var H=f;return function(){var z=f;f=H;try{return $.apply(this,arguments)}finally{f=z}}}})(J3);X3.exports=J3;var w7=X3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C7=N,Bn=w7;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e5=new Set,Bl={};function Ws(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(Bl[t]=e,t=0;t<e.length;t++)e5.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k2=Object.prototype.hasOwnProperty,E7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cx={},Ex={};function S7(t){return k2.call(Ex,t)?!0:k2.call(Cx,t)?!1:E7.test(t)?Ex[t]=!0:(Cx[t]=!0,!1)}function b7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D7(t,e,n,r){if(e===null||typeof e>"u"||b7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var R1=/[\-:]([a-z])/g;function F1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(R1,F1);Ht[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(R1,F1);Ht[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(R1,F1);Ht[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function M1(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D7(e,n,i,r)&&(n=null),r||i===null?S7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var di=C7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),xo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),A2=Symbol.for("react.profiler"),t5=Symbol.for("react.provider"),n5=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),T2=Symbol.for("react.suspense"),I2=Symbol.for("react.suspense_list"),L1=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),r5=Symbol.for("react.offscreen"),Sx=Symbol.iterator;function Wa(t){return t===null||typeof t!="object"?null:(t=Sx&&t[Sx]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Hd;function ll(t){if(Hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hd=e&&e[1]||""}return`
`+Hd+t}var Ud=!1;function zd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ll(t):""}function N7(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function R2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case xo:return"Portal";case A2:return"Profiler";case P1:return"StrictMode";case T2:return"Suspense";case I2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n5:return(t.displayName||"Context")+".Consumer";case t5:return(t._context.displayName||"Context")+".Provider";case j1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L1:return e=t.displayName||null,e!==null?e:R2(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return R2(t(e))}catch{}}return null}function k7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R2(e);case 8:return e===P1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A7(t){var e=i5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uu(t){t._valueTracker||(t._valueTracker=A7(t))}function s5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=i5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function f0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function F2(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o5(t,e){e=e.checked,e!=null&&M1(t,"checked",e,!1)}function M2(t,e){o5(t,e);var n=Vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?P2(t,e.type,n):e.hasOwnProperty("defaultValue")&&P2(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function P2(t,e,n){(e!=="number"||f0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cl=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function j2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(cl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function a5(t,e){var n=Vi(e.value),r=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function l5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hu,c5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T7=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(t){T7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yl[e]=yl[t]})});function u5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yl.hasOwnProperty(t)&&yl[t]?(""+e).trim():e+"px"}function h5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=u5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var I7=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function B2(t,e){if(e){if(I7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function $2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O2=null;function B1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var V2=null,Mo=null,Po=null;function Ax(t){if(t=bc(t)){if(typeof V2!="function")throw Error(W(280));var e=t.stateNode;e&&(e=bh(e),V2(t.stateNode,t.type,e))}}function d5(t){Mo?Po?Po.push(t):Po=[t]:Mo=t}function f5(){if(Mo){var t=Mo,e=Po;if(Po=Mo=null,Ax(t),e)for(t=0;t<e.length;t++)Ax(e[t])}}function p5(t,e){return t(e)}function m5(){}var Wd=!1;function g5(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return p5(t,e,n)}finally{Wd=!1,(Mo!==null||Po!==null)&&(m5(),f5())}}function Ol(t,e){var n=t.stateNode;if(n===null)return null;var r=bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var H2=!1;if(ni)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){H2=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{H2=!1}function R7(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var _l=!1,p0=null,m0=!1,U2=null,F7={onError:function(t){_l=!0,p0=t}};function M7(t,e,n,r,i,s,o,a,l){_l=!1,p0=null,R7.apply(F7,arguments)}function P7(t,e,n,r,i,s,o,a,l){if(M7.apply(this,arguments),_l){if(_l){var c=p0;_l=!1,p0=null}else throw Error(W(198));m0||(m0=!0,U2=c)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tx(t){if(qs(t)!==t)throw Error(W(188))}function j7(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tx(i),t;if(s===r)return Tx(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function v5(t){return t=j7(t),t!==null?y5(t):null}function y5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y5(t);if(e!==null)return e;t=t.sibling}return null}var _5=Bn.unstable_scheduleCallback,Ix=Bn.unstable_cancelCallback,L7=Bn.unstable_shouldYield,B7=Bn.unstable_requestPaint,mt=Bn.unstable_now,$7=Bn.unstable_getCurrentPriorityLevel,$1=Bn.unstable_ImmediatePriority,w5=Bn.unstable_UserBlockingPriority,g0=Bn.unstable_NormalPriority,O7=Bn.unstable_LowPriority,C5=Bn.unstable_IdlePriority,wh=null,Pr=null;function V7(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:z7,H7=Math.log,U7=Math.LN2;function z7(t){return t>>>=0,t===0?32:31-(H7(t)/U7|0)|0}var du=64,fu=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function x0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ul(a):(s&=o,s!==0&&(r=ul(s)))}else o=n&~i,o!==0?r=ul(o):s!==0&&(r=ul(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function W7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=W7(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function z2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E5(){var t=du;return du<<=1,!(du&4194240)&&(du=64),t}function qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function G7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function O1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function S5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b5,V1,D5,N5,k5,W2=!1,pu=[],Ni=null,ki=null,Ai=null,Vl=new Map,Hl=new Map,wi=[],K7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rx(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function Ga(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bc(e),e!==null&&V1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Q7(t,e,n,r,i){switch(e){case"focusin":return Ni=Ga(Ni,t,e,n,r,i),!0;case"dragenter":return ki=Ga(ki,t,e,n,r,i),!0;case"mouseover":return Ai=Ga(Ai,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vl.set(s,Ga(Vl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hl.set(s,Ga(Hl.get(s)||null,t,e,n,r,i)),!0}return!1}function A5(t){var e=xs(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=x5(n),e!==null){t.blockedOn=e,k5(t.priority,function(){D5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=q2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);O2=r,n.target.dispatchEvent(r),O2=null}else return e=bc(n),e!==null&&V1(e),t.blockedOn=n,!1;e.shift()}return!0}function Fx(t,e,n){Vu(t)&&n.delete(e)}function Y7(){W2=!1,Ni!==null&&Vu(Ni)&&(Ni=null),ki!==null&&Vu(ki)&&(ki=null),Ai!==null&&Vu(Ai)&&(Ai=null),Vl.forEach(Fx),Hl.forEach(Fx)}function Ka(t,e){t.blockedOn===e&&(t.blockedOn=null,W2||(W2=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,Y7)))}function Ul(t){function e(i){return Ka(i,t)}if(0<pu.length){Ka(pu[0],t);for(var n=1;n<pu.length;n++){var r=pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ni!==null&&Ka(Ni,t),ki!==null&&Ka(ki,t),Ai!==null&&Ka(Ai,t),Vl.forEach(e),Hl.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)A5(n),n.blockedOn===null&&wi.shift()}var jo=di.ReactCurrentBatchConfig,v0=!0;function Z7(t,e,n,r){var i=$e,s=jo.transition;jo.transition=null;try{$e=1,H1(t,e,n,r)}finally{$e=i,jo.transition=s}}function X7(t,e,n,r){var i=$e,s=jo.transition;jo.transition=null;try{$e=4,H1(t,e,n,r)}finally{$e=i,jo.transition=s}}function H1(t,e,n,r){if(v0){var i=q2(t,e,n,r);if(i===null)nf(t,e,r,y0,n),Rx(t,r);else if(Q7(i,t,e,n,r))r.stopPropagation();else if(Rx(t,r),e&4&&-1<K7.indexOf(t)){for(;i!==null;){var s=bc(i);if(s!==null&&b5(s),s=q2(t,e,n,r),s===null&&nf(t,e,r,y0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nf(t,e,r,null,n)}}var y0=null;function q2(t,e,n,r){if(y0=null,t=B1(r),t=xs(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return y0=t,null}function T5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($7()){case $1:return 1;case w5:return 4;case g0:case O7:return 16;case C5:return 536870912;default:return 16}default:return 16}}var Ei=null,U1=null,Hu=null;function I5(){if(Hu)return Hu;var t,e=U1,n=e.length,r,i="value"in Ei?Ei.value:Ei.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hu=i.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mu(){return!0}function Mx(){return!1}function Un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mu:Mx,this.isPropagationStopped=Mx,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z1=Un(_a),Sc=ot({},_a,{view:0,detail:0}),J7=Un(Sc),Gd,Kd,Qa,Ch=ot({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(Gd=t.screenX-Qa.screenX,Kd=t.screenY-Qa.screenY):Kd=Gd=0,Qa=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Kd}}),Px=Un(Ch),eE=ot({},Ch,{dataTransfer:0}),tE=Un(eE),nE=ot({},Sc,{relatedTarget:0}),Qd=Un(nE),rE=ot({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),iE=Un(rE),sE=ot({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oE=Un(sE),aE=ot({},_a,{data:0}),jx=Un(aE),lE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uE[t])?!!e[t]:!1}function W1(){return hE}var dE=ot({},Sc,{key:function(t){if(t.key){var e=lE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W1,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fE=Un(dE),pE=ot({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=Un(pE),mE=ot({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W1}),gE=Un(mE),xE=ot({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),vE=Un(xE),yE=ot({},Ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_E=Un(yE),wE=[9,13,27,32],q1=ni&&"CompositionEvent"in window,wl=null;ni&&"documentMode"in document&&(wl=document.documentMode);var CE=ni&&"TextEvent"in window&&!wl,R5=ni&&(!q1||wl&&8<wl&&11>=wl),Bx=" ",$x=!1;function F5(t,e){switch(t){case"keyup":return wE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function EE(t,e){switch(t){case"compositionend":return M5(e);case"keypress":return e.which!==32?null:($x=!0,Bx);case"textInput":return t=e.data,t===Bx&&$x?null:t;default:return null}}function SE(t,e){if(yo)return t==="compositionend"||!q1&&F5(t,e)?(t=I5(),Hu=U1=Ei=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return R5&&e.locale!=="ko"?null:e.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bE[t.type]:e==="textarea"}function P5(t,e,n,r){d5(r),e=_0(e,"onChange"),0<e.length&&(n=new z1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,zl=null;function DE(t){q5(t,0)}function Eh(t){var e=Co(t);if(s5(e))return t}function NE(t,e){if(t==="change")return e}var j5=!1;if(ni){var Yd;if(ni){var Zd="oninput"in document;if(!Zd){var Vx=document.createElement("div");Vx.setAttribute("oninput","return;"),Zd=typeof Vx.oninput=="function"}Yd=Zd}else Yd=!1;j5=Yd&&(!document.documentMode||9<document.documentMode)}function Hx(){Cl&&(Cl.detachEvent("onpropertychange",L5),zl=Cl=null)}function L5(t){if(t.propertyName==="value"&&Eh(zl)){var e=[];P5(e,zl,t,B1(t)),g5(DE,e)}}function kE(t,e,n){t==="focusin"?(Hx(),Cl=e,zl=n,Cl.attachEvent("onpropertychange",L5)):t==="focusout"&&Hx()}function AE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eh(zl)}function TE(t,e){if(t==="click")return Eh(e)}function IE(t,e){if(t==="input"||t==="change")return Eh(e)}function RE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:RE;function Wl(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!k2.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function Ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zx(t,e){var n=Ux(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ux(n)}}function B5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $5(){for(var t=window,e=f0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=f0(t.document)}return e}function G1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FE(t){var e=$5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B5(n.ownerDocument.documentElement,n)){if(r!==null&&G1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zx(n,s);var o=zx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ME=ni&&"documentMode"in document&&11>=document.documentMode,_o=null,G2=null,El=null,K2=!1;function Wx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;K2||_o==null||_o!==f0(r)||(r=_o,"selectionStart"in r&&G1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&Wl(El,r)||(El=r,r=_0(G2,"onSelect"),0<r.length&&(e=new z1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wo={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Xd={},O5={};ni&&(O5=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Sh(t){if(Xd[t])return Xd[t];if(!wo[t])return t;var e=wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in O5)return Xd[t]=e[n];return t}var V5=Sh("animationend"),H5=Sh("animationiteration"),U5=Sh("animationstart"),z5=Sh("transitionend"),W5=new Map,qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(t,e){W5.set(t,e),Ws(e,[t])}for(var Jd=0;Jd<qx.length;Jd++){var ef=qx[Jd],PE=ef.toLowerCase(),jE=ef[0].toUpperCase()+ef.slice(1);Ki(PE,"on"+jE)}Ki(V5,"onAnimationEnd");Ki(H5,"onAnimationIteration");Ki(U5,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(z5,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Gx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P7(r,e,void 0,t),t.currentTarget=null}function q5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Gx(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Gx(i,a,c),s=l}}}if(m0)throw t=U2,m0=!1,U2=null,t}function We(t,e){var n=e[J2];n===void 0&&(n=e[J2]=new Set);var r=t+"__bubble";n.has(r)||(G5(e,t,2,!1),n.add(r))}function tf(t,e,n){var r=0;e&&(r|=4),G5(n,t,r,e)}var xu="_reactListening"+Math.random().toString(36).slice(2);function ql(t){if(!t[xu]){t[xu]=!0,e5.forEach(function(n){n!=="selectionchange"&&(LE.has(n)||tf(n,!1,t),tf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xu]||(e[xu]=!0,tf("selectionchange",!1,e))}}function G5(t,e,n,r){switch(T5(e)){case 1:var i=Z7;break;case 4:i=X7;break;default:i=H1}n=i.bind(null,e,n,t),i=void 0,!H2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}g5(function(){var c=s,u=B1(n),d=[];e:{var f=W5.get(t);if(f!==void 0){var m=z1,g=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":m=fE;break;case"focusin":g="focus",m=Qd;break;case"focusout":g="blur",m=Qd;break;case"beforeblur":case"afterblur":m=Qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gE;break;case V5:case H5:case U5:m=iE;break;case z5:m=vE;break;case"scroll":m=J7;break;case"wheel":m=_E;break;case"copy":case"cut":case"paste":m=oE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Lx}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var p=c,x;p!==null;){x=p;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,v!==null&&(_=Ol(p,v),_!=null&&y.push(Gl(p,_,x)))),w)break;p=p.return}0<y.length&&(f=new m(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==O2&&(g=n.relatedTarget||n.fromElement)&&(xs(g)||g[ri]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?xs(g):null,g!==null&&(w=qs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=Px,_="onMouseLeave",v="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Lx,_="onPointerLeave",v="onPointerEnter",p="pointer"),w=m==null?f:Co(m),x=g==null?f:Co(g),f=new y(_,p+"leave",m,n,u),f.target=w,f.relatedTarget=x,_=null,xs(u)===c&&(y=new y(v,p+"enter",g,n,u),y.target=x,y.relatedTarget=w,_=y),w=_,m&&g)t:{for(y=m,v=g,p=0,x=y;x;x=ao(x))p++;for(x=0,_=v;_;_=ao(_))x++;for(;0<p-x;)y=ao(y),p--;for(;0<x-p;)v=ao(v),x--;for(;p--;){if(y===v||v!==null&&y===v.alternate)break t;y=ao(y),v=ao(v)}y=null}else y=null;m!==null&&Kx(d,f,m,y,!1),g!==null&&w!==null&&Kx(d,w,g,y,!0)}}e:{if(f=c?Co(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=NE;else if(Ox(f))if(j5)S=IE;else{S=AE;var C=kE}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=TE);if(S&&(S=S(t,c))){P5(d,S,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&P2(f,"number",f.value)}switch(C=c?Co(c):window,t){case"focusin":(Ox(C)||C.contentEditable==="true")&&(_o=C,G2=c,El=null);break;case"focusout":El=G2=_o=null;break;case"mousedown":K2=!0;break;case"contextmenu":case"mouseup":case"dragend":K2=!1,Wx(d,n,u);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":Wx(d,n,u)}var E;if(q1)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else yo?F5(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(R5&&n.locale!=="ko"&&(yo||D!=="onCompositionStart"?D==="onCompositionEnd"&&yo&&(E=I5()):(Ei=u,U1="value"in Ei?Ei.value:Ei.textContent,yo=!0)),C=_0(c,D),0<C.length&&(D=new jx(D,t,null,n,u),d.push({event:D,listeners:C}),E?D.data=E:(E=M5(n),E!==null&&(D.data=E)))),(E=CE?EE(t,n):SE(t,n))&&(c=_0(c,"onBeforeInput"),0<c.length&&(u=new jx("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}q5(d,e)})}function Gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ol(t,n),s!=null&&r.unshift(Gl(t,s,i)),s=Ol(t,e),s!=null&&r.push(Gl(t,s,i))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ol(n,s),l!=null&&o.unshift(Gl(n,l,a))):i||(l=Ol(n,s),l!=null&&o.push(Gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function Qx(t){return(typeof t=="string"?t:""+t).replace(BE,`
`).replace($E,"")}function vu(t,e,n){if(e=Qx(e),Qx(t)!==e&&n)throw Error(W(425))}function w0(){}var Q2=null,Y2=null;function Z2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X2=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,VE=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(t){return Yx.resolve(null).then(t).catch(HE)}:X2;function HE(t){setTimeout(function(){throw t})}function rf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ul(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),kr="__reactFiber$"+wa,Kl="__reactProps$"+wa,ri="__reactContainer$"+wa,J2="__reactEvents$"+wa,UE="__reactListeners$"+wa,zE="__reactHandles$"+wa;function xs(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zx(t);t!==null;){if(n=t[kr])return n;t=Zx(t)}return e}t=n,n=t.parentNode}return null}function bc(t){return t=t[kr]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function bh(t){return t[Kl]||null}var ep=[],Eo=-1;function Qi(t){return{current:t}}function Ye(t){0>Eo||(t.current=ep[Eo],ep[Eo]=null,Eo--)}function ze(t,e){Eo++,ep[Eo]=t.current,t.current=e}var Hi={},rn=Qi(Hi),Sn=Qi(!1),Rs=Hi;function qo(t,e){var n=t.type.contextTypes;if(!n)return Hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function C0(){Ye(Sn),Ye(rn)}function Xx(t,e,n){if(rn.current!==Hi)throw Error(W(168));ze(rn,e),ze(Sn,n)}function K5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,k7(t)||"Unknown",i));return ot({},n,r)}function E0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hi,Rs=rn.current,ze(rn,t),ze(Sn,Sn.current),!0}function Jx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=K5(t,e,Rs),r.__reactInternalMemoizedMergedChildContext=t,Ye(Sn),Ye(rn),ze(rn,t)):Ye(Sn),ze(Sn,n)}var Gr=null,Dh=!1,sf=!1;function Q5(t){Gr===null?Gr=[t]:Gr.push(t)}function WE(t){Dh=!0,Q5(t)}function Yi(){if(!sf&&Gr!==null){sf=!0;var t=0,e=$e;try{var n=Gr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,Dh=!1}catch(i){throw Gr!==null&&(Gr=Gr.slice(t+1)),_5($1,Yi),i}finally{$e=e,sf=!1}}return null}var So=[],bo=0,S0=null,b0=0,qn=[],Gn=0,Fs=null,Kr=1,Qr="";function hs(t,e){So[bo++]=b0,So[bo++]=S0,S0=t,b0=e}function Y5(t,e,n){qn[Gn++]=Kr,qn[Gn++]=Qr,qn[Gn++]=Fs,Fs=t;var r=Kr;t=Qr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var s=32-dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kr=1<<32-dr(e)+i|n<<i|r,Qr=s+t}else Kr=1<<s|n<<i|r,Qr=t}function K1(t){t.return!==null&&(hs(t,1),Y5(t,1,0))}function Q1(t){for(;t===S0;)S0=So[--bo],So[bo]=null,b0=So[--bo],So[bo]=null;for(;t===Fs;)Fs=qn[--Gn],qn[Gn]=null,Qr=qn[--Gn],qn[Gn]=null,Kr=qn[--Gn],qn[Gn]=null}var Mn=null,Rn=null,nt=!1,lr=null;function Z5(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ev(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Rn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Kr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Rn=null,!0):!1;default:return!1}}function tp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function np(t){if(nt){var e=Rn;if(e){var n=e;if(!ev(t,e)){if(tp(t))throw Error(W(418));e=Ti(n.nextSibling);var r=Mn;e&&ev(t,e)?Z5(r,n):(t.flags=t.flags&-4097|2,nt=!1,Mn=t)}}else{if(tp(t))throw Error(W(418));t.flags=t.flags&-4097|2,nt=!1,Mn=t}}}function tv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function yu(t){if(t!==Mn)return!1;if(!nt)return tv(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Z2(t.type,t.memoizedProps)),e&&(e=Rn)){if(tp(t))throw X5(),Error(W(418));for(;e;)Z5(t,e),e=Ti(e.nextSibling)}if(tv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=Mn?Ti(t.stateNode.nextSibling):null;return!0}function X5(){for(var t=Rn;t;)t=Ti(t.nextSibling)}function Go(){Rn=Mn=null,nt=!1}function Y1(t){lr===null?lr=[t]:lr.push(t)}var qE=di.ReactCurrentBatchConfig;function Ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function _u(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nv(t){var e=t._init;return e(t._payload)}function J5(t){function e(v,p){if(t){var x=v.deletions;x===null?(v.deletions=[p],v.flags|=16):x.push(p)}}function n(v,p){if(!t)return null;for(;p!==null;)e(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=Mi(v,p),v.index=0,v.sibling=null,v}function s(v,p,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<p?(v.flags|=2,p):x):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,p,x,_){return p===null||p.tag!==6?(p=df(x,v.mode,_),p.return=v,p):(p=i(p,x),p.return=v,p)}function l(v,p,x,_){var S=x.type;return S===vo?u(v,p,x.props.children,_,x.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yi&&nv(S)===p.type)?(_=i(p,x.props),_.ref=Ya(v,p,x),_.return=v,_):(_=Yu(x.type,x.key,x.props,null,v.mode,_),_.ref=Ya(v,p,x),_.return=v,_)}function c(v,p,x,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=ff(x,v.mode,_),p.return=v,p):(p=i(p,x.children||[]),p.return=v,p)}function u(v,p,x,_,S){return p===null||p.tag!==7?(p=Ns(x,v.mode,_,S),p.return=v,p):(p=i(p,x),p.return=v,p)}function d(v,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=df(""+p,v.mode,x),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cu:return x=Yu(p.type,p.key,p.props,null,v.mode,x),x.ref=Ya(v,null,p),x.return=v,x;case xo:return p=ff(p,v.mode,x),p.return=v,p;case yi:var _=p._init;return d(v,_(p._payload),x)}if(cl(p)||Wa(p))return p=Ns(p,v.mode,x,null),p.return=v,p;_u(v,p)}return null}function f(v,p,x,_){var S=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,p,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cu:return x.key===S?l(v,p,x,_):null;case xo:return x.key===S?c(v,p,x,_):null;case yi:return S=x._init,f(v,p,S(x._payload),_)}if(cl(x)||Wa(x))return S!==null?null:u(v,p,x,_,null);_u(v,x)}return null}function m(v,p,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(x)||null,a(p,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cu:return v=v.get(_.key===null?x:_.key)||null,l(p,v,_,S);case xo:return v=v.get(_.key===null?x:_.key)||null,c(p,v,_,S);case yi:var C=_._init;return m(v,p,x,C(_._payload),S)}if(cl(_)||Wa(_))return v=v.get(x)||null,u(p,v,_,S,null);_u(p,_)}return null}function g(v,p,x,_){for(var S=null,C=null,E=p,D=p=0,A=null;E!==null&&D<x.length;D++){E.index>D?(A=E,E=null):A=E.sibling;var b=f(v,E,x[D],_);if(b===null){E===null&&(E=A);break}t&&E&&b.alternate===null&&e(v,E),p=s(b,p,D),C===null?S=b:C.sibling=b,C=b,E=A}if(D===x.length)return n(v,E),nt&&hs(v,D),S;if(E===null){for(;D<x.length;D++)E=d(v,x[D],_),E!==null&&(p=s(E,p,D),C===null?S=E:C.sibling=E,C=E);return nt&&hs(v,D),S}for(E=r(v,E);D<x.length;D++)A=m(E,v,D,x[D],_),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?D:A.key),p=s(A,p,D),C===null?S=A:C.sibling=A,C=A);return t&&E.forEach(function(k){return e(v,k)}),nt&&hs(v,D),S}function y(v,p,x,_){var S=Wa(x);if(typeof S!="function")throw Error(W(150));if(x=S.call(x),x==null)throw Error(W(151));for(var C=S=null,E=p,D=p=0,A=null,b=x.next();E!==null&&!b.done;D++,b=x.next()){E.index>D?(A=E,E=null):A=E.sibling;var k=f(v,E,b.value,_);if(k===null){E===null&&(E=A);break}t&&E&&k.alternate===null&&e(v,E),p=s(k,p,D),C===null?S=k:C.sibling=k,C=k,E=A}if(b.done)return n(v,E),nt&&hs(v,D),S;if(E===null){for(;!b.done;D++,b=x.next())b=d(v,b.value,_),b!==null&&(p=s(b,p,D),C===null?S=b:C.sibling=b,C=b);return nt&&hs(v,D),S}for(E=r(v,E);!b.done;D++,b=x.next())b=m(E,v,D,b.value,_),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?D:b.key),p=s(b,p,D),C===null?S=b:C.sibling=b,C=b);return t&&E.forEach(function(R){return e(v,R)}),nt&&hs(v,D),S}function w(v,p,x,_){if(typeof x=="object"&&x!==null&&x.type===vo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cu:e:{for(var S=x.key,C=p;C!==null;){if(C.key===S){if(S=x.type,S===vo){if(C.tag===7){n(v,C.sibling),p=i(C,x.props.children),p.return=v,v=p;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yi&&nv(S)===C.type){n(v,C.sibling),p=i(C,x.props),p.ref=Ya(v,C,x),p.return=v,v=p;break e}n(v,C);break}else e(v,C);C=C.sibling}x.type===vo?(p=Ns(x.props.children,v.mode,_,x.key),p.return=v,v=p):(_=Yu(x.type,x.key,x.props,null,v.mode,_),_.ref=Ya(v,p,x),_.return=v,v=_)}return o(v);case xo:e:{for(C=x.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(v,p.sibling),p=i(p,x.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else e(v,p);p=p.sibling}p=ff(x,v.mode,_),p.return=v,v=p}return o(v);case yi:return C=x._init,w(v,p,C(x._payload),_)}if(cl(x))return g(v,p,x,_);if(Wa(x))return y(v,p,x,_);_u(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,x),p.return=v,v=p):(n(v,p),p=df(x,v.mode,_),p.return=v,v=p),o(v)):n(v,p)}return w}var Ko=J5(!0),e6=J5(!1),D0=Qi(null),N0=null,Do=null,Z1=null;function X1(){Z1=Do=N0=null}function J1(t){var e=D0.current;Ye(D0),t._currentValue=e}function rp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){N0=t,Z1=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(Z1!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(N0===null)throw Error(W(308));Do=t,N0.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var vs=null;function em(t){vs===null?vs=[t]:vs.push(t)}function t6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,em(e)):(n.next=i.next,i.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _i=!1;function tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ii(t,n)}return i=r.interleaved,i===null?(e.next=e,em(r)):(e.next=i.next,i.next=e),r.interleaved=e,ii(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O1(t,n)}}function rv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function k0(t,e,n,r){var i=t.updateQueue;_i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=ot({},d,f);break e;case 2:_i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ps|=o,t.lanes=o,t.memoizedState=d}}function iv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Dc={},jr=Qi(Dc),Ql=Qi(Dc),Yl=Qi(Dc);function ys(t){if(t===Dc)throw Error(W(174));return t}function nm(t,e){switch(ze(Yl,e),ze(Ql,t),ze(jr,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:L2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=L2(e,t)}Ye(jr),ze(jr,e)}function Qo(){Ye(jr),Ye(Ql),Ye(Yl)}function r6(t){ys(Yl.current);var e=ys(jr.current),n=L2(e,t.type);e!==n&&(ze(Ql,t),ze(jr,n))}function rm(t){Ql.current===t&&(Ye(jr),Ye(Ql))}var it=Qi(0);function A0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var of=[];function im(){for(var t=0;t<of.length;t++)of[t]._workInProgressVersionPrimary=null;of.length=0}var Wu=di.ReactCurrentDispatcher,af=di.ReactCurrentBatchConfig,Ms=0,st=null,Et=null,kt=null,T0=!1,Sl=!1,Zl=0,GE=0;function zt(){throw Error(W(321))}function sm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function om(t,e,n,r,i,s){if(Ms=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wu.current=t===null||t.memoizedState===null?ZE:XE,t=n(r,i),Sl){s=0;do{if(Sl=!1,Zl=0,25<=s)throw Error(W(301));s+=1,kt=Et=null,e.updateQueue=null,Wu.current=JE,t=n(r,i)}while(Sl)}if(Wu.current=I0,e=Et!==null&&Et.next!==null,Ms=0,kt=Et=st=null,T0=!1,e)throw Error(W(300));return t}function am(){var t=Zl!==0;return Zl=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?st.memoizedState=kt=t:kt=kt.next=t,kt}function Jn(){if(Et===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=kt===null?st.memoizedState:kt.next;if(e!==null)kt=e,Et=t;else{if(t===null)throw Error(W(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},kt===null?st.memoizedState=kt=t:kt=kt.next=t}return kt}function Xl(t,e){return typeof e=="function"?e(t):e}function lf(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ms&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,st.lanes|=u,Ps|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,Ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cf(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vr(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function i6(){}function s6(t,e){var n=st,r=Jn(),i=e(),s=!vr(r.memoizedState,i);if(s&&(r.memoizedState=i,wn=!0),r=r.queue,lm(l6.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Jl(9,a6.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(W(349));Ms&30||o6(n,e,i)}return i}function o6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a6(t,e,n,r){e.value=n,e.getSnapshot=r,c6(e)&&u6(t)}function l6(t,e,n){return n(function(){c6(e)&&u6(t)})}function c6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function u6(t){var e=ii(t,1);e!==null&&fr(e,t,1,-1)}function sv(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:t},e.queue=t,t=t.dispatch=YE.bind(null,st,t),[e.memoizedState,t]}function Jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h6(){return Jn().memoizedState}function qu(t,e,n,r){var i=Dr();st.flags|=t,i.memoizedState=Jl(1|e,n,void 0,r===void 0?null:r)}function Nh(t,e,n,r){var i=Jn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&sm(r,o.deps)){i.memoizedState=Jl(e,n,s,r);return}}st.flags|=t,i.memoizedState=Jl(1|e,n,s,r)}function ov(t,e){return qu(8390656,8,t,e)}function lm(t,e){return Nh(2048,8,t,e)}function d6(t,e){return Nh(4,2,t,e)}function f6(t,e){return Nh(4,4,t,e)}function p6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m6(t,e,n){return n=n!=null?n.concat([t]):null,Nh(4,4,p6.bind(null,e,t),n)}function cm(){}function g6(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x6(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v6(t,e,n){return Ms&21?(vr(n,e)||(n=E5(),st.lanes|=n,Ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function KE(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=af.transition;af.transition={};try{t(!1),e()}finally{$e=n,af.transition=r}}function y6(){return Jn().memoizedState}function QE(t,e,n){var r=Fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_6(t))w6(e,n);else if(n=t6(t,e,n,r),n!==null){var i=cn();fr(n,t,r,i),C6(n,e,r)}}function YE(t,e,n){var r=Fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_6(t))w6(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vr(a,o)){var l=e.interleaved;l===null?(i.next=i,em(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=t6(t,e,i,r),n!==null&&(i=cn(),fr(n,t,r,i),C6(n,e,r))}}function _6(t){var e=t.alternate;return t===st||e!==null&&e===st}function w6(t,e){Sl=T0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O1(t,n)}}var I0={readContext:Xn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},ZE={readContext:Xn,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:ov,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qu(4194308,4,p6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return qu(4,2,t,e)},useMemo:function(t,e){var n=Dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QE.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:sv,useDebugValue:cm,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=sv(!1),e=t[0];return t=KE.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Dr();if(nt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Rt===null)throw Error(W(349));Ms&30||o6(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ov(l6.bind(null,r,s,t),[t]),r.flags|=2048,Jl(9,a6.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dr(),e=Rt.identifierPrefix;if(nt){var n=Qr,r=Kr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XE={readContext:Xn,useCallback:g6,useContext:Xn,useEffect:lm,useImperativeHandle:m6,useInsertionEffect:d6,useLayoutEffect:f6,useMemo:x6,useReducer:lf,useRef:h6,useState:function(){return lf(Xl)},useDebugValue:cm,useDeferredValue:function(t){var e=Jn();return v6(e,Et.memoizedState,t)},useTransition:function(){var t=lf(Xl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:i6,useSyncExternalStore:s6,useId:y6,unstable_isNewReconciler:!1},JE={readContext:Xn,useCallback:g6,useContext:Xn,useEffect:lm,useImperativeHandle:m6,useInsertionEffect:d6,useLayoutEffect:f6,useMemo:x6,useReducer:cf,useRef:h6,useState:function(){return cf(Xl)},useDebugValue:cm,useDeferredValue:function(t){var e=Jn();return Et===null?e.memoizedState=t:v6(e,Et.memoizedState,t)},useTransition:function(){var t=cf(Xl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:i6,useSyncExternalStore:s6,useId:y6,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kh={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Fi(t),s=Xr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(fr(e,t,i,r),zu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Fi(t),s=Xr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(fr(e,t,i,r),zu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Fi(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(fr(e,t,r,n),zu(e,t,r))}};function av(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wl(n,r)||!Wl(i,s):!0}function E6(t,e,n){var r=!1,i=Hi,s=e.contextType;return typeof s=="object"&&s!==null?s=Xn(s):(i=bn(e)?Rs:rn.current,r=e.contextTypes,s=(r=r!=null)?qo(t,i):Hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function sp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xn(s):(s=bn(e)?Rs:rn.current,i.context=qo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ip(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kh.enqueueReplaceState(i,i.state,null),k0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=N7(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function op(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eS=typeof WeakMap=="function"?WeakMap:Map;function S6(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){F0||(F0=!0,gp=r),op(t,e)},n}function b6(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){op(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){op(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pS.bind(null,t,e,n),e.then(t,t))}function uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var tS=di.ReactCurrentOwner,wn=!1;function an(t,e,n,r){e.child=t===null?e6(e,null,n,r):Ko(e,t.child,n,r)}function dv(t,e,n,r,i){n=n.render;var s=e.ref;return Lo(e,i),r=om(t,e,n,r,s,i),n=am(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(nt&&n&&K1(e),e.flags|=1,an(t,e,r,i),e.child)}function fv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,D6(t,e,s,r,i)):(t=Yu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wl,n(o,r)&&t.ref===e.ref)return si(t,e,i)}return e.flags|=1,t=Mi(s,r),t.ref=e.ref,t.return=e,e.child=t}function D6(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wl(s,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,si(t,e,i)}return ap(t,e,n,r,i)}function N6(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ko,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(ko,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(ko,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(ko,Tn),Tn|=r;return an(t,e,i,n),e.child}function k6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ap(t,e,n,r,i){var s=bn(n)?Rs:rn.current;return s=qo(e,s),Lo(e,i),n=om(t,e,n,r,s,i),r=am(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(nt&&r&&K1(e),e.flags|=1,an(t,e,n,i),e.child)}function pv(t,e,n,r,i){if(bn(n)){var s=!0;E0(e)}else s=!1;if(Lo(e,i),e.stateNode===null)Gu(t,e),E6(e,n,r),sp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=bn(n)?Rs:rn.current,c=qo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lv(e,o,r,c),_i=!1;var f=e.memoizedState;o.state=f,k0(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Sn.current||_i?(typeof u=="function"&&(ip(e,n,u,r),l=e.memoizedState),(a=_i||av(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n6(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=bn(n)?Rs:rn.current,l=qo(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&lv(e,o,r,l),_i=!1,f=e.memoizedState,o.state=f,k0(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||Sn.current||_i?(typeof m=="function"&&(ip(e,n,m,r),g=e.memoizedState),(c=_i||av(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lp(t,e,n,r,s,i)}function lp(t,e,n,r,i,s){k6(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Jx(e,n,!1),si(t,e,s);r=e.stateNode,tS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,s),e.child=Ko(e,null,a,s)):an(t,e,a,s),e.memoizedState=r.state,i&&Jx(e,n,!0),e.child}function A6(t){var e=t.stateNode;e.pendingContext?Xx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xx(t,e.context,!1),nm(t,e.containerInfo)}function mv(t,e,n,r,i){return Go(),Y1(i),e.flags|=256,an(t,e,n,r),e.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function up(t){return{baseLanes:t,cachePool:null,transitions:null}}function T6(t,e,n){var r=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(it,i&1),t===null)return np(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ih(o,r,0,null),t=Ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=up(n),e.memoizedState=cp,t):um(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nS(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mi(a,s):(s=Ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?up(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cp,r}return s=t.child,t=s.sibling,r=Mi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function um(t,e){return e=Ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,n,r){return r!==null&&Y1(r),Ko(e,t.child,null,n),t=um(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(W(422))),wu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ih({mode:"visible",children:r.children},i,0,null),s=Ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=up(o),e.memoizedState=cp,s);if(!(e.mode&1))return wu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=uf(s,r,void 0),wu(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ii(t,i),fr(r,t,i,-1))}return gm(),r=uf(Error(W(421))),wu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=Ti(i.nextSibling),Mn=e,nt=!0,lr=null,t!==null&&(qn[Gn++]=Kr,qn[Gn++]=Qr,qn[Gn++]=Fs,Kr=t.id,Qr=t.overflow,Fs=e),e=um(e,r.children),e.flags|=4096,e)}function gv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rp(t.return,e,n)}function hf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function I6(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gv(t,n,e);else if(t.tag===19)gv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&A0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&A0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hf(e,!0,n,null,s);break;case"together":hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rS(t,e,n){switch(e.tag){case 3:A6(e),Go();break;case 5:r6(e);break;case 1:bn(e.type)&&E0(e);break;case 4:nm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(D0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?T6(t,e,n):(ze(it,it.current&1),t=si(t,e,n),t!==null?t.sibling:null);ze(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,N6(t,e,n)}return si(t,e,n)}var R6,hp,F6,M6;R6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hp=function(){};F6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(jr.current);var s=null;switch(n){case"input":i=F2(t,i),r=F2(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=j2(t,i),r=j2(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=w0)}B2(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};M6=function(t,e,n,r){n!==r&&(e.flags|=4)};function Za(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iS(t,e,n){var r=e.pendingProps;switch(Q1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return bn(e.type)&&C0(),Wt(e),null;case 3:return r=e.stateNode,Qo(),Ye(Sn),Ye(rn),im(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(yp(lr),lr=null))),hp(t,e),Wt(e),null;case 5:rm(e);var i=ys(Yl.current);if(n=e.type,t!==null&&e.stateNode!=null)F6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Wt(e),null}if(t=ys(jr.current),yu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[Kl]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<hl.length;i++)We(hl[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":bx(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":Nx(r,s),We("invalid",r)}B2(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vu(r.textContent,a,t),i=["children",""+a]):Bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":uu(r),Dx(r,s,!0);break;case"textarea":uu(r),kx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=w0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=l5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[Kl]=r,R6(t,e,!1,!1),e.stateNode=t;e:{switch(o=$2(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<hl.length;i++)We(hl[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":bx(t,r),i=F2(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),We("invalid",t);break;case"textarea":Nx(t,r),i=j2(t,r),We("invalid",t);break;default:i=r}B2(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?h5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&c5(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$l(t,l):typeof l=="number"&&$l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&M1(t,s,l,o))}switch(n){case"input":uu(t),Dx(t,r,!1);break;case"textarea":uu(t),kx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=w0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)M6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ys(Yl.current),ys(jr.current),yu(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:vu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Wt(e),null;case 13:if(Ye(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Rn!==null&&e.mode&1&&!(e.flags&128))X5(),Go(),e.flags|=98560,s=!1;else if(s=yu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[kr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else lr!==null&&(yp(lr),lr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?St===0&&(St=3):gm())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Qo(),hp(t,e),t===null&&ql(e.stateNode.containerInfo),Wt(e),null;case 10:return J1(e.type._context),Wt(e),null;case 17:return bn(e.type)&&C0(),Wt(e),null;case 19:if(Ye(it),s=e.memoizedState,s===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Za(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=A0(t),o!==null){for(e.flags|=128,Za(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>Zo&&(e.flags|=128,r=!0,Za(s,!1),e.lanes=4194304)}else{if(!r)if(t=A0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Za(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nt)return Wt(e),null}else 2*mt()-s.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Za(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=it.current,ze(it,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return mm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function sS(t,e){switch(Q1(e),e.tag){case 1:return bn(e.type)&&C0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Ye(Sn),Ye(rn),im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rm(e),null;case 13:if(Ye(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(it),null;case 4:return Qo(),null;case 10:return J1(e.type._context),null;case 22:case 23:return mm(),null;case 24:return null;default:return null}}var Cu=!1,Kt=!1,oS=typeof WeakSet=="function"?WeakSet:Set,te=null;function No(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function dp(t,e,n){try{n()}catch(r){ht(t,e,r)}}var xv=!1;function aS(t,e){if(Q2=v0,t=$5(),G1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y2={focusedElem:t,selectionRange:n},v0=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,v=e.stateNode,p=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:sr(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(_){ht(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return g=xv,xv=!1,g}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dp(e,n,s)}i=i.next}while(i!==r)}}function Ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function P6(t){var e=t.alternate;e!==null&&(t.alternate=null,P6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[Kl],delete e[J2],delete e[UE],delete e[zE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j6(t){return t.tag===5||t.tag===3||t.tag===4}function vv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=w0));else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}function mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}var Lt=null,or=!1;function gi(t,e,n){for(n=n.child;n!==null;)L6(t,e,n),n=n.sibling}function L6(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(wh,n)}catch{}switch(n.tag){case 5:Kt||No(n,e);case 6:var r=Lt,i=or;Lt=null,gi(t,e,n),Lt=r,or=i,Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?rf(t.parentNode,n):t.nodeType===1&&rf(t,n),Ul(t)):rf(Lt,n.stateNode));break;case 4:r=Lt,i=or,Lt=n.stateNode.containerInfo,or=!0,gi(t,e,n),Lt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dp(n,e,o),i=i.next}while(i!==r)}gi(t,e,n);break;case 1:if(!Kt&&(No(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ht(n,e,a)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,gi(t,e,n),Kt=r):gi(t,e,n);break;default:gi(t,e,n)}}function yv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oS),e.forEach(function(r){var i=gS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,or=!1;break e;case 3:Lt=a.stateNode.containerInfo,or=!0;break e;case 4:Lt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Lt===null)throw Error(W(160));L6(s,o,i),Lt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ht(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B6(e,t),e=e.sibling}function B6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),br(t),r&4){try{bl(3,t,t.return),Ah(3,t)}catch(y){ht(t,t.return,y)}try{bl(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:rr(e,t),br(t),r&512&&n!==null&&No(n,n.return);break;case 5:if(rr(e,t),br(t),r&512&&n!==null&&No(n,n.return),t.flags&32){var i=t.stateNode;try{$l(i,"")}catch(y){ht(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&o5(i,s),$2(a,o);var c=$2(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?h5(i,d):u==="dangerouslySetInnerHTML"?c5(i,d):u==="children"?$l(i,d):M1(i,u,d,c)}switch(a){case"input":M2(i,s);break;case"textarea":a5(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Fo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kl]=s}catch(y){ht(t,t.return,y)}}break;case 6:if(rr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ht(t,t.return,y)}}break;case 3:if(rr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ul(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:rr(e,t),br(t);break;case 13:rr(e,t),br(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fm=mt())),r&4&&yv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||u,rr(e,t),Kt=c):rr(e,t),br(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(d=te=u;te!==null;){switch(f=te,m=f.child,f.tag){case 0:case 11:case 14:case 15:bl(4,f,f.return);break;case 1:No(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ht(r,n,y)}}break;case 5:No(f,f.return);break;case 22:if(f.memoizedState!==null){wv(d);continue}}m!==null?(m.return=f,te=m):wv(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=u5("display",o))}catch(y){ht(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ht(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rr(e,t),br(t),r&4&&yv(t);break;case 21:break;default:rr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j6(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($l(i,""),r.flags&=-33);var s=vv(t);mp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vv(t);pp(t,a,o);break;default:throw Error(W(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lS(t,e,n){te=t,$6(t)}function $6(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=Cu;var c=Kt;if(Cu=o,(Kt=l)&&!c)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?Cv(i):l!==null?(l.return=o,te=l):Cv(i);for(;s!==null;)te=s,$6(s),s=s.sibling;te=i,Cu=a,Kt=c}_v(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):_v(t)}}function _v(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Ah(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ul(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Kt||e.flags&512&&fp(e)}catch(f){ht(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function wv(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Cv(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ah(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ht(e,i,l)}}var s=e.return;try{fp(e)}catch(l){ht(e,s,l)}break;case 5:var o=e.return;try{fp(e)}catch(l){ht(e,o,l)}}}catch(l){ht(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var cS=Math.ceil,R0=di.ReactCurrentDispatcher,hm=di.ReactCurrentOwner,Zn=di.ReactCurrentBatchConfig,Te=0,Rt=null,wt=null,Ot=0,Tn=0,ko=Qi(0),St=0,ec=null,Ps=0,Th=0,dm=0,Dl=null,yn=null,fm=0,Zo=1/0,zr=null,F0=!1,gp=null,Ri=null,Eu=!1,Si=null,M0=0,Nl=0,xp=null,Ku=-1,Qu=0;function cn(){return Te&6?mt():Ku!==-1?Ku:Ku=mt()}function Fi(t){return t.mode&1?Te&2&&Ot!==0?Ot&-Ot:qE.transition!==null?(Qu===0&&(Qu=E5()),Qu):(t=$e,t!==0||(t=window.event,t=t===void 0?16:T5(t.type)),t):1}function fr(t,e,n,r){if(50<Nl)throw Nl=0,xp=null,Error(W(185));Ec(t,n,r),(!(Te&2)||t!==Rt)&&(t===Rt&&(!(Te&2)&&(Th|=n),St===4&&Ci(t,Ot)),Dn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Zo=mt()+500,Dh&&Yi()))}function Dn(t,e){var n=t.callbackNode;q7(t,e);var r=x0(t,t===Rt?Ot:0);if(r===0)n!==null&&Ix(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ix(n),e===1)t.tag===0?WE(Ev.bind(null,t)):Q5(Ev.bind(null,t)),VE(function(){!(Te&6)&&Yi()}),n=null;else{switch(S5(r)){case 1:n=$1;break;case 4:n=w5;break;case 16:n=g0;break;case 536870912:n=C5;break;default:n=g0}n=G6(n,O6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function O6(t,e){if(Ku=-1,Qu=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(Bo()&&t.callbackNode!==n)return null;var r=x0(t,t===Rt?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=P0(t,r);else{e=r;var i=Te;Te|=2;var s=H6();(Rt!==t||Ot!==e)&&(zr=null,Zo=mt()+500,Ds(t,e));do try{dS();break}catch(a){V6(t,a)}while(!0);X1(),R0.current=s,Te=i,wt!==null?e=0:(Rt=null,Ot=0,e=St)}if(e!==0){if(e===2&&(i=z2(t),i!==0&&(r=i,e=vp(t,i))),e===1)throw n=ec,Ds(t,0),Ci(t,r),Dn(t,mt()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!uS(i)&&(e=P0(t,r),e===2&&(s=z2(t),s!==0&&(r=s,e=vp(t,s))),e===1))throw n=ec,Ds(t,0),Ci(t,r),Dn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ds(t,yn,zr);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=fm+500-mt(),10<e)){if(x0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=X2(ds.bind(null,t,yn,zr),e);break}ds(t,yn,zr);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cS(r/1960))-r,10<r){t.timeoutHandle=X2(ds.bind(null,t,yn,zr),r);break}ds(t,yn,zr);break;case 5:ds(t,yn,zr);break;default:throw Error(W(329))}}}return Dn(t,mt()),t.callbackNode===n?O6.bind(null,t):null}function vp(t,e){var n=Dl;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=P0(t,e),t!==2&&(e=yn,yn=n,e!==null&&yp(e)),t}function yp(t){yn===null?yn=t:yn.push.apply(yn,t)}function uS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~dm,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function Ev(t){if(Te&6)throw Error(W(327));Bo();var e=x0(t,0);if(!(e&1))return Dn(t,mt()),null;var n=P0(t,e);if(t.tag!==0&&n===2){var r=z2(t);r!==0&&(e=r,n=vp(t,r))}if(n===1)throw n=ec,Ds(t,0),Ci(t,e),Dn(t,mt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,yn,zr),Dn(t,mt()),null}function pm(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Zo=mt()+500,Dh&&Yi())}}function js(t){Si!==null&&Si.tag===0&&!(Te&6)&&Bo();var e=Te;Te|=1;var n=Zn.transition,r=$e;try{if(Zn.transition=null,$e=1,t)return t()}finally{$e=r,Zn.transition=n,Te=e,!(Te&6)&&Yi()}}function mm(){Tn=ko.current,Ye(ko)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OE(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(Q1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&C0();break;case 3:Qo(),Ye(Sn),Ye(rn),im();break;case 5:rm(r);break;case 4:Qo();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:J1(r.type._context);break;case 22:case 23:mm()}n=n.return}if(Rt=t,wt=t=Mi(t.current,null),Ot=Tn=e,St=0,ec=null,dm=Th=Ps=0,yn=Dl=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vs=null}return t}function V6(t,e){do{var n=wt;try{if(X1(),Wu.current=I0,T0){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T0=!1}if(Ms=0,kt=Et=st=null,Sl=!1,Zl=0,hm.current=null,n===null||n.return===null){St=1,ec=e,wt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=uv(o);if(m!==null){m.flags&=-257,hv(m,o,a,s,e),m.mode&1&&cv(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){cv(s,c,e),gm();break e}l=Error(W(426))}}else if(nt&&a.mode&1){var w=uv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hv(w,o,a,s,e),Y1(Yo(l,a));break e}}s=l=Yo(l,a),St!==4&&(St=2),Dl===null?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=S6(s,l,e);rv(s,v);break e;case 1:a=l;var p=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ri===null||!Ri.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=b6(s,a,e);rv(s,_);break e}}s=s.return}while(s!==null)}z6(n)}catch(S){e=S,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function H6(){var t=R0.current;return R0.current=I0,t===null?I0:t}function gm(){(St===0||St===3||St===2)&&(St=4),Rt===null||!(Ps&268435455)&&!(Th&268435455)||Ci(Rt,Ot)}function P0(t,e){var n=Te;Te|=2;var r=H6();(Rt!==t||Ot!==e)&&(zr=null,Ds(t,e));do try{hS();break}catch(i){V6(t,i)}while(!0);if(X1(),Te=n,R0.current=r,wt!==null)throw Error(W(261));return Rt=null,Ot=0,St}function hS(){for(;wt!==null;)U6(wt)}function dS(){for(;wt!==null&&!L7();)U6(wt)}function U6(t){var e=q6(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?z6(t):wt=e,hm.current=null}function z6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sS(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,wt=null;return}}else if(n=iS(n,e,Tn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);St===0&&(St=5)}function ds(t,e,n){var r=$e,i=Zn.transition;try{Zn.transition=null,$e=1,fS(t,e,n,r)}finally{Zn.transition=i,$e=r}return null}function fS(t,e,n,r){do Bo();while(Si!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(G7(t,s),t===Rt&&(wt=Rt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,G6(g0,function(){return Bo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zn.transition,Zn.transition=null;var o=$e;$e=1;var a=Te;Te|=4,hm.current=null,aS(t,n),B6(n,t),FE(Y2),v0=!!Q2,Y2=Q2=null,t.current=n,lS(n),B7(),Te=a,$e=o,Zn.transition=s}else t.current=n;if(Eu&&(Eu=!1,Si=t,M0=i),s=t.pendingLanes,s===0&&(Ri=null),V7(n.stateNode),Dn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(F0)throw F0=!1,t=gp,gp=null,t;return M0&1&&t.tag!==0&&Bo(),s=t.pendingLanes,s&1?t===xp?Nl++:(Nl=0,xp=t):Nl=0,Yi(),null}function Bo(){if(Si!==null){var t=S5(M0),e=Zn.transition,n=$e;try{if(Zn.transition=null,$e=16>t?16:t,Si===null)var r=!1;else{if(t=Si,Si=null,M0=0,Te&6)throw Error(W(331));var i=Te;for(Te|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:bl(8,u,s)}var d=u.child;if(d!==null)d.return=u,te=d;else for(;te!==null;){u=te;var f=u.sibling,m=u.return;if(P6(u),u===c){te=null;break}if(f!==null){f.return=m,te=f;break}te=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,te=v;break e}te=s.return}}var p=t.current;for(te=p;te!==null;){o=te;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,te=x;else e:for(o=p;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ah(9,a)}}catch(S){ht(a,a.return,S)}if(a===o){te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}if(Te=i,Yi(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(wh,t)}catch{}r=!0}return r}finally{$e=n,Zn.transition=e}}return!1}function Sv(t,e,n){e=Yo(n,e),e=S6(t,e,1),t=Ii(t,e,1),e=cn(),t!==null&&(Ec(t,1,e),Dn(t,e))}function ht(t,e,n){if(t.tag===3)Sv(t,t,n);else for(;e!==null;){if(e.tag===3){Sv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=Yo(n,t),t=b6(e,t,1),e=Ii(e,t,1),t=cn(),e!==null&&(Ec(e,1,t),Dn(e,t));break}}e=e.return}}function pS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Ot&n)===n&&(St===4||St===3&&(Ot&130023424)===Ot&&500>mt()-fm?Ds(t,0):dm|=n),Dn(t,e)}function W6(t,e){e===0&&(t.mode&1?(e=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):e=1);var n=cn();t=ii(t,e),t!==null&&(Ec(t,e,n),Dn(t,n))}function mS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W6(t,n)}function gS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),W6(t,n)}var q6;q6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,rS(t,e,n);wn=!!(t.flags&131072)}else wn=!1,nt&&e.flags&1048576&&Y5(e,b0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gu(t,e),t=e.pendingProps;var i=qo(e,rn.current);Lo(e,n),i=om(null,e,r,t,i,n);var s=am();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(s=!0,E0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tm(e),i.updater=kh,e.stateNode=i,i._reactInternals=e,sp(e,r,t,n),e=lp(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&K1(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vS(r),t=sr(r,t),i){case 0:e=ap(null,e,r,t,n);break e;case 1:e=pv(null,e,r,t,n);break e;case 11:e=dv(null,e,r,t,n);break e;case 14:e=fv(null,e,r,sr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),ap(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),pv(t,e,r,i,n);case 3:e:{if(A6(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,n6(t,e),k0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yo(Error(W(423)),e),e=mv(t,e,r,n,i);break e}else if(r!==i){i=Yo(Error(W(424)),e),e=mv(t,e,r,n,i);break e}else for(Rn=Ti(e.stateNode.containerInfo.firstChild),Mn=e,nt=!0,lr=null,n=e6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===i){e=si(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return r6(e),t===null&&np(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Z2(r,i)?o=null:s!==null&&Z2(r,s)&&(e.flags|=32),k6(t,e),an(t,e,o,n),e.child;case 6:return t===null&&np(e),null;case 13:return T6(t,e,n);case 4:return nm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),dv(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(D0,r._currentValue),r._currentValue=o,s!==null)if(vr(s.value,o)){if(s.children===i.children&&!Sn.current){e=si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lo(e,n),i=Xn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),fv(t,e,r,i,n);case 15:return D6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Gu(t,e),e.tag=1,bn(r)?(t=!0,E0(e)):t=!1,Lo(e,n),E6(e,r,i),sp(e,r,i,n),lp(null,e,r,!0,t,n);case 19:return I6(t,e,n);case 22:return N6(t,e,n)}throw Error(W(156,e.tag))};function G6(t,e){return _5(t,e)}function xS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new xS(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vS(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===j1)return 11;if(t===L1)return 14}return 2}function Mi(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vo:return Ns(n.children,i,s,e);case P1:o=8,i|=8;break;case A2:return t=Qn(12,n,e,i|2),t.elementType=A2,t.lanes=s,t;case T2:return t=Qn(13,n,e,i),t.elementType=T2,t.lanes=s,t;case I2:return t=Qn(19,n,e,i),t.elementType=I2,t.lanes=s,t;case r5:return Ih(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t5:o=10;break e;case n5:o=9;break e;case j1:o=11;break e;case L1:o=14;break e;case yi:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ns(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Ih(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=r5,t.lanes=n,t.stateNode={isHidden:!1},t}function df(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function ff(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vm(t,e,n,r,i,s,o,a,l){return t=new yS(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tm(s),t}function _S(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function K6(t){if(!t)return Hi;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(bn(n))return K5(t,n,e)}return e}function Q6(t,e,n,r,i,s,o,a,l){return t=vm(n,r,!0,t,i,s,o,a,l),t.context=K6(null),n=t.current,r=cn(),i=Fi(n),s=Xr(r,i),s.callback=e??null,Ii(n,s,i),t.current.lanes=i,Ec(t,i,r),Dn(t,r),t}function Rh(t,e,n,r){var i=e.current,s=cn(),o=Fi(i);return n=K6(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,o),t!==null&&(fr(t,i,o,s),zu(t,i,o)),o}function j0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ym(t,e){bv(t,e),(t=t.alternate)&&bv(t,e)}function wS(){return null}var Y6=typeof reportError=="function"?reportError:function(t){console.error(t)};function _m(t){this._internalRoot=t}Fh.prototype.render=_m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Rh(t,e,null,null)};Fh.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){Rh(null,t,null,null)}),e[ri]=null}};function Fh(t){this._internalRoot=t}Fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=N5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&A5(t)}};function wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dv(){}function CS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=j0(o);s.call(c)}}var o=Q6(e,r,t,0,null,!1,!1,"",Dv);return t._reactRootContainer=o,t[ri]=o.current,ql(t.nodeType===8?t.parentNode:t),js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=j0(l);a.call(c)}}var l=vm(t,0,!1,null,null,!1,!1,"",Dv);return t._reactRootContainer=l,t[ri]=l.current,ql(t.nodeType===8?t.parentNode:t),js(function(){Rh(e,l,n,r)}),l}function Ph(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=j0(o);a.call(l)}}Rh(e,o,t,i)}else o=CS(n,e,t,i,r);return j0(o)}b5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ul(e.pendingLanes);n!==0&&(O1(e,n|1),Dn(e,mt()),!(Te&6)&&(Zo=mt()+500,Yi()))}break;case 13:js(function(){var r=ii(t,1);if(r!==null){var i=cn();fr(r,t,1,i)}}),ym(t,1)}};V1=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=cn();fr(e,t,134217728,n)}ym(t,134217728)}};D5=function(t){if(t.tag===13){var e=Fi(t),n=ii(t,e);if(n!==null){var r=cn();fr(n,t,e,r)}ym(t,e)}};N5=function(){return $e};k5=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};V2=function(t,e,n){switch(e){case"input":if(M2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bh(r);if(!i)throw Error(W(90));s5(r),M2(r,i)}}}break;case"textarea":a5(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};p5=pm;m5=js;var ES={usingClientEntryPoint:!1,Events:[bc,Co,bh,d5,f5,pm]},Xa={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v5(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||wS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{wh=Su.inject(SS),Pr=Su}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ES;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(e))throw Error(W(200));return _S(t,e,null,n)};Hn.createRoot=function(t,e){if(!wm(t))throw Error(W(299));var n=!1,r="",i=Y6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vm(t,1,!1,null,null,n,!1,r,i),t[ri]=e.current,ql(t.nodeType===8?t.parentNode:t),new _m(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=v5(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return js(t)};Hn.hydrate=function(t,e,n){if(!Mh(e))throw Error(W(200));return Ph(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!wm(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Y6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Q6(e,null,t,1,n??null,i,!1,s,o),t[ri]=e.current,ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fh(e)};Hn.render=function(t,e,n){if(!Mh(e))throw Error(W(200));return Ph(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!Mh(t))throw Error(W(40));return t._reactRootContainer?(js(function(){Ph(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Hn.unstable_batchedUpdates=pm;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Ph(t,e,n,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function Z6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z6)}catch(t){console.error(t)}}Z6(),Z3.exports=Hn;var Cm=Z3.exports;const bS=N1(Cm),DS=$3({__proto__:null,default:bS},[Cm]);var X6,Nv=Cm;X6=Nv.createRoot,Nv.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}var vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vt||(vt={}));const kv="popstate";function NS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return tc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ls(i)}return AS(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kS(){return Math.random().toString(36).substr(2,8)}function Av(t,e){return{usr:t.state,key:t.key,idx:e}}function tc(t,e,n,r){return n===void 0&&(n=null),tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zi(e):e,{state:n,key:e&&e.key||r||kS()})}function Ls(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(tt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=vt.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:y.location,delta:v})}function f(w,v){a=vt.Push;let p=tc(y.location,w,v);c=u()+1;let x=Av(p,c),_=y.createHref(p);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}s&&l&&l({action:a,location:y.location,delta:1})}function m(w,v){a=vt.Replace;let p=tc(y.location,w,v);c=u();let x=Av(p,c),_=y.createHref(p);o.replaceState(x,"",_),s&&l&&l({action:a,location:y.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Ls(w);return p=p.replace(/ $/,"%20"),_e(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kv,d),l=w,()=>{i.removeEventListener(kv,d),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(w){return o.go(w)}};return y}var Ve;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ve||(Ve={}));const TS=new Set(["lazy","caseSensitive","path","id","index","children"]);function IS(t){return t.index===!0}function L0(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),IS(i)){let l=tt({},i,e(i),{id:a});return r[a]=l,l}else{let l=tt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=L0(i.children,e,o,r)),l}})}function ms(t,e,n){return n===void 0&&(n="/"),Zu(t,e,n,!1)}function Zu(t,e,n,r){let i=typeof e=="string"?Zi(e):e,s=oi(i.pathname||"/",n);if(s==null)return null;let o=J6(t);FS(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=zS(s);a=HS(o[l],c,r)}return a}function RS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function J6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Jr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),J6(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:OS(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of e8(s.path))i(s,o,l)}),e}function e8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=e8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MS=/^:[\w-]+$/,PS=3,jS=2,LS=1,BS=10,$S=-2,Tv=t=>t==="*";function OS(t,e){let n=t.split("/"),r=n.length;return n.some(Tv)&&(r+=$S),e&&(r+=jS),n.filter(i=>!Tv(i)).reduce((i,s)=>i+(MS.test(s)?PS:s===""?LS:BS),r)}function VS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function HS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=B0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=B0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Jr([s,d.pathname]),pathnameBase:GS(Jr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Jr([s,d.pathnameBase]))}return o}function B0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=US(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function US(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zi(t):t;return{pathname:n?n.startsWith("/")?n:qS(n,e):e,search:KS(r),hash:QS(i)}}function qS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Em(t,e){let n=t8(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zi(t):(i=tt({},t),_e(!i.pathname||!i.pathname.includes("?"),pf("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),pf("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),pf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=WS(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Jr=t=>t.join("/").replace(/\/\/+/g,"/"),GS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class $0{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function jh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n8=["post","put","patch","delete"],YS=new Set(n8),ZS=["get",...n8],XS=new Set(ZS),JS=new Set([301,302,303,307,308]),eb=new Set([307,308]),mf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),r8="remix-router-transitions";function rb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let T=t.detectErrorBoundary;i=I=>({hasErrorBoundary:T(I)})}else i=nb;let s={},o=L0(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||ab,u=t.patchRoutesOnNavigation,d=tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,g=null,y=null,w=null,v=t.hydrationData!=null,p=ms(o,t.history.location,l),x=null;if(p==null&&!u){let T=vn(404,{pathname:t.history.location.pathname}),{matches:I,route:P}=Vv(o);p=I,x={[P.id]:T}}p&&!t.hydrationData&&cs(p,o,t.history.location.pathname).active&&(p=null);let _;if(p)if(p.some(T=>T.route.lazy))_=!1;else if(!p.some(T=>T.route.loader))_=!0;else if(d.v7_partialHydration){let T=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let P=p.findIndex(V=>I[V.route.id]!==void 0);_=p.slice(0,P+1).every(V=>!wp(V.route,T,I))}else _=p.every(P=>!wp(P.route,T,I))}else _=t.hydrationData!=null;else if(_=!1,p=[],d.v7_partialHydration){let T=cs(null,o,t.history.location.pathname);T.active&&T.matches&&(p=T.matches)}let S,C={historyAction:t.history.action,location:t.history.location,matches:p,initialized:_,navigation:mf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},E=vt.Pop,D=!1,A,b=!1,k=new Map,R=null,F=!1,U=!1,G=[],X=new Set,ee=new Map,$=0,H=-1,z=new Map,M=new Set,j=new Map,O=new Map,L=new Set,ge=new Map,ue=new Map,Be;function he(){if(f=t.history.listen(T=>{let{action:I,location:P,delta:V}=T;if(Be){Be(),Be=void 0;return}Xo(ue.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=tu({currentLocation:C.location,nextLocation:P,historyAction:I});if(J&&V!=null){let oe=new Promise(pe=>{Be=pe});t.history.go(V*-1),ls(J,{state:"blocked",location:P,proceed(){ls(J,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),oe.then(()=>t.history.go(V))},reset(){let pe=new Map(C.blockers);pe.set(J,Ja),et({blockers:pe})}});return}return Wn(I,P)}),n){wb(e,k);let T=()=>Cb(e,k);e.addEventListener("pagehide",T),R=()=>e.removeEventListener("pagehide",T)}return C.initialized||Wn(vt.Pop,C.location,{initialHydration:!0}),S}function sn(){f&&f(),R&&R(),m.clear(),A&&A.abort(),C.fetchers.forEach((T,I)=>as(I)),C.blockers.forEach((T,I)=>eu(I))}function zn(T){return m.add(T),()=>m.delete(T)}function et(T,I){I===void 0&&(I={}),C=tt({},C,T);let P=[],V=[];d.v7_fetcherPersist&&C.fetchers.forEach((J,oe)=>{J.state==="idle"&&(L.has(oe)?V.push(oe):P.push(oe))}),[...m].forEach(J=>J(C,{deletedFetchers:V,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),d.v7_fetcherPersist&&(P.forEach(J=>C.fetchers.delete(J)),V.forEach(J=>as(J)))}function pt(T,I,P){var V,J;let{flushSync:oe}=P===void 0?{}:P,pe=C.actionData!=null&&C.navigation.formMethod!=null&&ar(C.navigation.formMethod)&&C.navigation.state==="loading"&&((V=T.state)==null?void 0:V._isRedirect)!==!0,re;I.actionData?Object.keys(I.actionData).length>0?re=I.actionData:re=null:pe?re=C.actionData:re=null;let ie=I.loaderData?$v(C.loaderData,I.loaderData,I.matches||[],I.errors):C.loaderData,ne=C.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Ae,jt)=>ne.set(jt,Ja)));let le=D===!0||C.navigation.formMethod!=null&&ar(C.navigation.formMethod)&&((J=T.state)==null?void 0:J._isRedirect)!==!0;a&&(o=a,a=void 0),F||E===vt.Pop||(E===vt.Push?t.history.push(T,T.state):E===vt.Replace&&t.history.replace(T,T.state));let Ce;if(E===vt.Pop){let Ae=k.get(C.location.pathname);Ae&&Ae.has(T.pathname)?Ce={currentLocation:C.location,nextLocation:T}:k.has(T.pathname)&&(Ce={currentLocation:T,nextLocation:C.location})}else if(b){let Ae=k.get(C.location.pathname);Ae?Ae.add(T.pathname):(Ae=new Set([T.pathname]),k.set(C.location.pathname,Ae)),Ce={currentLocation:C.location,nextLocation:T}}et(tt({},I,{actionData:re,loaderData:ie,historyAction:E,location:T,initialized:!0,navigation:mf,revalidation:"idle",restoreScrollPosition:iu(T,I.matches||C.matches),preventScrollReset:le,blockers:ne}),{viewTransitionOpts:Ce,flushSync:oe===!0}),E=vt.Pop,D=!1,b=!1,F=!1,U=!1,G=[]}async function pn(T,I){if(typeof T=="number"){t.history.go(T);return}let P=_p(C.location,C.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:V,submission:J,error:oe}=Iv(d.v7_normalizeFormMethod,!1,P,I),pe=C.location,re=tc(C.location,V,I&&I.state);re=tt({},re,t.history.encodeLocation(re));let ie=I&&I.replace!=null?I.replace:void 0,ne=vt.Push;ie===!0?ne=vt.Replace:ie===!1||J!=null&&ar(J.formMethod)&&J.formAction===C.location.pathname+C.location.search&&(ne=vt.Replace);let le=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Ce=(I&&I.flushSync)===!0,Ae=tu({currentLocation:pe,nextLocation:re,historyAction:ne});if(Ae){ls(Ae,{state:"blocked",location:re,proceed(){ls(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),pn(T,I)},reset(){let jt=new Map(C.blockers);jt.set(Ae,Ja),et({blockers:jt})}});return}return await Wn(ne,re,{submission:J,pendingError:oe,preventScrollReset:le,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Ce})}function on(){if(Er(),et({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Wn(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Wn(E||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:b===!0})}}async function Wn(T,I,P){A&&A.abort(),A=null,E=T,F=(P&&P.startUninterruptedRevalidation)===!0,Bd(C.location,C.matches),D=(P&&P.preventScrollReset)===!0,b=(P&&P.enableViewTransition)===!0;let V=a||o,J=P&&P.overrideNavigation,oe=ms(V,I,l),pe=(P&&P.flushSync)===!0,re=cs(oe,V,I.pathname);if(re.active&&re.matches&&(oe=re.matches),!oe){let{error:Ue,notFoundMatches:Fe,route:lt}=no(I.pathname);pt(I,{matches:Fe,loaderData:{},errors:{[lt.id]:Ue}},{flushSync:pe});return}if(C.initialized&&!U&&fb(C.location,I)&&!(P&&P.submission&&ar(P.submission.formMethod))){pt(I,{matches:oe},{flushSync:pe});return}A=new AbortController;let ie=lo(t.history,I,A.signal,P&&P.submission),ne;if(P&&P.pendingError)ne=[gs(oe).route.id,{type:Ve.error,error:P.pendingError}];else if(P&&P.submission&&ar(P.submission.formMethod)){let Ue=await ss(ie,I,P.submission,oe,re.active,{replace:P.replace,flushSync:pe});if(Ue.shortCircuited)return;if(Ue.pendingActionResult){let[Fe,lt]=Ue.pendingActionResult;if(In(lt)&&jh(lt.error)&&lt.error.status===404){A=null,pt(I,{matches:Ue.matches,loaderData:{},errors:{[Fe]:lt.error}});return}}oe=Ue.matches||oe,ne=Ue.pendingActionResult,J=gf(I,P.submission),pe=!1,re.active=!1,ie=lo(t.history,ie.url,ie.signal)}let{shortCircuited:le,matches:Ce,loaderData:Ae,errors:jt}=await to(ie,I,oe,re.active,J,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,pe,ne);le||(A=null,pt(I,tt({matches:Ce||oe},Ov(ne),{loaderData:Ae,errors:jt})))}async function ss(T,I,P,V,J,oe){oe===void 0&&(oe={}),Er();let pe=yb(I,P);if(et({navigation:pe},{flushSync:oe.flushSync===!0}),J){let ne=await ro(V,I.pathname,T.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let le=gs(ne.partialMatches).route.id;return{matches:ne.partialMatches,pendingActionResult:[le,{type:Ve.error,error:ne.error}]}}else if(ne.matches)V=ne.matches;else{let{notFoundMatches:le,error:Ce,route:Ae}=no(I.pathname);return{matches:le,pendingActionResult:[Ae.id,{type:Ve.error,error:Ce}]}}}let re,ie=dl(V,I);if(!ie.route.action&&!ie.route.lazy)re={type:Ve.error,error:vn(405,{method:T.method,pathname:I.pathname,routeId:ie.route.id})};else if(re=(await Cr("action",C,T,[ie],V,null))[ie.route.id],T.signal.aborted)return{shortCircuited:!0};if(_s(re)){let ne;return oe&&oe.replace!=null?ne=oe.replace:ne=jv(re.response.headers.get("Location"),new URL(T.url),l)===C.location.pathname+C.location.search,await Ut(T,re,!0,{submission:P,replace:ne}),{shortCircuited:!0}}if(bi(re))throw vn(400,{type:"defer-action"});if(In(re)){let ne=gs(V,ie.route.id);return(oe&&oe.replace)!==!0&&(E=vt.Push),{matches:V,pendingActionResult:[ne.route.id,re]}}return{matches:V,pendingActionResult:[ie.route.id,re]}}async function to(T,I,P,V,J,oe,pe,re,ie,ne,le){let Ce=J||gf(I,oe),Ae=oe||pe||Uv(Ce),jt=!F&&(!d.v7_partialHydration||!ie);if(V){if(jt){let ct=pi(le);et(tt({navigation:Ce},ct!==void 0?{actionData:ct}:{}),{flushSync:ne})}let Ie=await ro(P,I.pathname,T.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let ct=gs(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,loaderData:{},errors:{[ct]:Ie.error}}}else if(Ie.matches)P=Ie.matches;else{let{error:ct,notFoundMatches:so,route:za}=no(I.pathname);return{matches:so,loaderData:{},errors:{[za.id]:ct}}}}let Ue=a||o,[Fe,lt]=Fv(t.history,C,P,Ae,I,d.v7_partialHydration&&ie===!0,d.v7_skipActionErrorRevalidation,U,G,X,L,j,M,Ue,l,le);if(Va(Ie=>!(P&&P.some(ct=>ct.route.id===Ie))||Fe&&Fe.some(ct=>ct.route.id===Ie)),H=++$,Fe.length===0&&lt.length===0){let Ie=$a();return pt(I,tt({matches:P,loaderData:{},errors:le&&In(le[1])?{[le[0]]:le[1].error}:null},Ov(le),Ie?{fetchers:new Map(C.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(jt){let Ie={};if(!V){Ie.navigation=Ce;let ct=pi(le);ct!==void 0&&(Ie.actionData=ct)}lt.length>0&&(Ie.fetchers=ja(lt)),et(Ie,{flushSync:ne})}lt.forEach(Ie=>{xn(Ie.key),Ie.controller&&ee.set(Ie.key,Ie.controller)});let io=()=>lt.forEach(Ie=>xn(Ie.key));A&&A.signal.addEventListener("abort",io);let{loaderResults:Ha,fetcherResults:Vr}=await La(C,P,Fe,lt,T);if(T.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",io),lt.forEach(Ie=>ee.delete(Ie.key));let Sr=bu(Ha);if(Sr)return await Ut(T,Sr.result,!0,{replace:re}),{shortCircuited:!0};if(Sr=bu(Vr),Sr)return M.add(Sr.key),await Ut(T,Sr.result,!0,{replace:re}),{shortCircuited:!0};let{loaderData:Od,errors:Ua}=Bv(C,P,Ha,le,lt,Vr,ge);ge.forEach((Ie,ct)=>{Ie.subscribe(so=>{(so||Ie.done)&&ge.delete(ct)})}),d.v7_partialHydration&&ie&&C.errors&&(Ua=tt({},C.errors,Ua));let us=$a(),ou=Oa(H),au=us||ou||lt.length>0;return tt({matches:P,loaderData:Od,errors:Ua},au?{fetchers:new Map(C.fetchers)}:{})}function pi(T){if(T&&!In(T[1]))return{[T[0]]:T[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function ja(T){return T.forEach(I=>{let P=C.fetchers.get(I.key),V=el(void 0,P?P.data:void 0);C.fetchers.set(I.key,V)}),new Map(C.fetchers)}function os(T,I,P,V){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");xn(T);let J=(V&&V.flushSync)===!0,oe=a||o,pe=_p(C.location,C.matches,l,d.v7_prependBasename,P,d.v7_relativeSplatPath,I,V==null?void 0:V.relative),re=ms(oe,pe,l),ie=cs(re,oe,pe);if(ie.active&&ie.matches&&(re=ie.matches),!re){nr(T,I,vn(404,{pathname:pe}),{flushSync:J});return}let{path:ne,submission:le,error:Ce}=Iv(d.v7_normalizeFormMethod,!0,pe,V);if(Ce){nr(T,I,Ce,{flushSync:J});return}let Ae=dl(re,ne),jt=(V&&V.preventScrollReset)===!0;if(le&&ar(le.formMethod)){kn(T,I,ne,Ae,re,ie.active,J,jt,le);return}j.set(T,{routeId:I,path:ne}),mn(T,I,ne,Ae,re,ie.active,J,jt,le)}async function kn(T,I,P,V,J,oe,pe,re,ie){Er(),j.delete(T);function ne(gt){if(!gt.route.action&&!gt.route.lazy){let oo=vn(405,{method:ie.formMethod,pathname:P,routeId:I});return nr(T,I,oo,{flushSync:pe}),!0}return!1}if(!oe&&ne(V))return;let le=C.fetchers.get(T);gn(T,_b(ie,le),{flushSync:pe});let Ce=new AbortController,Ae=lo(t.history,P,Ce.signal,ie);if(oe){let gt=await ro(J,P,Ae.signal);if(gt.type==="aborted")return;if(gt.type==="error"){nr(T,I,gt.error,{flushSync:pe});return}else if(gt.matches){if(J=gt.matches,V=dl(J,P),ne(V))return}else{nr(T,I,vn(404,{pathname:P}),{flushSync:pe});return}}ee.set(T,Ce);let jt=$,Fe=(await Cr("action",C,Ae,[V],J,T))[V.route.id];if(Ae.signal.aborted){ee.get(T)===Ce&&ee.delete(T);return}if(d.v7_fetcherPersist&&L.has(T)){if(_s(Fe)||In(Fe)){gn(T,xi(void 0));return}}else{if(_s(Fe))if(ee.delete(T),H>jt){gn(T,xi(void 0));return}else return M.add(T),gn(T,el(ie)),Ut(Ae,Fe,!1,{fetcherSubmission:ie,preventScrollReset:re});if(In(Fe)){nr(T,I,Fe.error);return}}if(bi(Fe))throw vn(400,{type:"defer-action"});let lt=C.navigation.location||C.location,io=lo(t.history,lt,Ce.signal),Ha=a||o,Vr=C.navigation.state!=="idle"?ms(Ha,C.navigation.location,l):C.matches;_e(Vr,"Didn't find any matches after fetcher action");let Sr=++$;z.set(T,Sr);let Od=el(ie,Fe.data);C.fetchers.set(T,Od);let[Ua,us]=Fv(t.history,C,Vr,ie,lt,!1,d.v7_skipActionErrorRevalidation,U,G,X,L,j,M,Ha,l,[V.route.id,Fe]);us.filter(gt=>gt.key!==T).forEach(gt=>{let oo=gt.key,vx=C.fetchers.get(oo),ZC=el(void 0,vx?vx.data:void 0);C.fetchers.set(oo,ZC),xn(oo),gt.controller&&ee.set(oo,gt.controller)}),et({fetchers:new Map(C.fetchers)});let ou=()=>us.forEach(gt=>xn(gt.key));Ce.signal.addEventListener("abort",ou);let{loaderResults:au,fetcherResults:Ie}=await La(C,Vr,Ua,us,io);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",ou),z.delete(T),ee.delete(T),us.forEach(gt=>ee.delete(gt.key));let ct=bu(au);if(ct)return Ut(io,ct.result,!1,{preventScrollReset:re});if(ct=bu(Ie),ct)return M.add(ct.key),Ut(io,ct.result,!1,{preventScrollReset:re});let{loaderData:so,errors:za}=Bv(C,Vr,au,void 0,us,Ie,ge);if(C.fetchers.has(T)){let gt=xi(Fe.data);C.fetchers.set(T,gt)}Oa(Sr),C.navigation.state==="loading"&&Sr>H?(_e(E,"Expected pending action"),A&&A.abort(),pt(C.navigation.location,{matches:Vr,loaderData:so,errors:za,fetchers:new Map(C.fetchers)})):(et({errors:za,loaderData:$v(C.loaderData,so,Vr,za),fetchers:new Map(C.fetchers)}),U=!1)}async function mn(T,I,P,V,J,oe,pe,re,ie){let ne=C.fetchers.get(T);gn(T,el(ie,ne?ne.data:void 0),{flushSync:pe});let le=new AbortController,Ce=lo(t.history,P,le.signal);if(oe){let Fe=await ro(J,P,Ce.signal);if(Fe.type==="aborted")return;if(Fe.type==="error"){nr(T,I,Fe.error,{flushSync:pe});return}else if(Fe.matches)J=Fe.matches,V=dl(J,P);else{nr(T,I,vn(404,{pathname:P}),{flushSync:pe});return}}ee.set(T,le);let Ae=$,Ue=(await Cr("loader",C,Ce,[V],J,T))[V.route.id];if(bi(Ue)&&(Ue=await Dm(Ue,Ce.signal,!0)||Ue),ee.get(T)===le&&ee.delete(T),!Ce.signal.aborted){if(L.has(T)){gn(T,xi(void 0));return}if(_s(Ue))if(H>Ae){gn(T,xi(void 0));return}else{M.add(T),await Ut(Ce,Ue,!1,{preventScrollReset:re});return}if(In(Ue)){nr(T,I,Ue.error);return}_e(!bi(Ue),"Unhandled fetcher deferred data"),gn(T,xi(Ue.data))}}async function Ut(T,I,P,V){let{submission:J,fetcherSubmission:oe,preventScrollReset:pe,replace:re}=V===void 0?{}:V;I.response.headers.has("X-Remix-Revalidate")&&(U=!0);let ie=I.response.headers.get("Location");_e(ie,"Expected a Location header on the redirect Response"),ie=jv(ie,new URL(T.url),l);let ne=tc(C.location,ie,{_isRedirect:!0});if(n){let Fe=!1;if(I.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(bm.test(ie)){const lt=t.history.createURL(ie);Fe=lt.origin!==e.location.origin||oi(lt.pathname,l)==null}if(Fe){re?e.location.replace(ie):e.location.assign(ie);return}}A=null;let le=re===!0||I.response.headers.has("X-Remix-Replace")?vt.Replace:vt.Push,{formMethod:Ce,formAction:Ae,formEncType:jt}=C.navigation;!J&&!oe&&Ce&&Ae&&jt&&(J=Uv(C.navigation));let Ue=J||oe;if(eb.has(I.response.status)&&Ue&&ar(Ue.formMethod))await Wn(le,ne,{submission:tt({},Ue,{formAction:ie}),preventScrollReset:pe||D,enableViewTransition:P?b:void 0});else{let Fe=gf(ne,J);await Wn(le,ne,{overrideNavigation:Fe,fetcherSubmission:oe,preventScrollReset:pe||D,enableViewTransition:P?b:void 0})}}async function Cr(T,I,P,V,J,oe){let pe,re={};try{pe=await lb(c,T,I,P,V,J,oe,s,i)}catch(ie){return V.forEach(ne=>{re[ne.route.id]={type:Ve.error,error:ie}}),re}for(let[ie,ne]of Object.entries(pe))if(pb(ne)){let le=ne.result;re[ie]={type:Ve.redirect,response:hb(le,P,ie,J,l,d.v7_relativeSplatPath)}}else re[ie]=await ub(ne);return re}async function La(T,I,P,V,J){let oe=T.matches,pe=Cr("loader",T,J,P,I,null),re=Promise.all(V.map(async le=>{if(le.matches&&le.match&&le.controller){let Ae=(await Cr("loader",T,lo(t.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:Ae}}else return Promise.resolve({[le.key]:{type:Ve.error,error:vn(404,{pathname:le.path})}})})),ie=await pe,ne=(await re).reduce((le,Ce)=>Object.assign(le,Ce),{});return await Promise.all([xb(I,ie,J.signal,oe,T.loaderData),vb(I,ne,V)]),{loaderResults:ie,fetcherResults:ne}}function Er(){U=!0,G.push(...Va()),j.forEach((T,I)=>{ee.has(I)&&X.add(I),xn(I)})}function gn(T,I,P){P===void 0&&(P={}),C.fetchers.set(T,I),et({fetchers:new Map(C.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function nr(T,I,P,V){V===void 0&&(V={});let J=gs(C.matches,I);as(T),et({errors:{[J.route.id]:P},fetchers:new Map(C.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Ba(T){return d.v7_fetcherPersist&&(O.set(T,(O.get(T)||0)+1),L.has(T)&&L.delete(T)),C.fetchers.get(T)||tb}function as(T){let I=C.fetchers.get(T);ee.has(T)&&!(I&&I.state==="loading"&&z.has(T))&&xn(T),j.delete(T),z.delete(T),M.delete(T),L.delete(T),X.delete(T),C.fetchers.delete(T)}function mi(T){if(d.v7_fetcherPersist){let I=(O.get(T)||0)-1;I<=0?(O.delete(T),L.add(T)):O.set(T,I)}else as(T);et({fetchers:new Map(C.fetchers)})}function xn(T){let I=ee.get(T);I&&(I.abort(),ee.delete(T))}function Jc(T){for(let I of T){let P=Ba(I),V=xi(P.data);C.fetchers.set(I,V)}}function $a(){let T=[],I=!1;for(let P of M){let V=C.fetchers.get(P);_e(V,"Expected fetcher: "+P),V.state==="loading"&&(M.delete(P),T.push(P),I=!0)}return Jc(T),I}function Oa(T){let I=[];for(let[P,V]of z)if(V<T){let J=C.fetchers.get(P);_e(J,"Expected fetcher: "+P),J.state==="loading"&&(xn(P),z.delete(P),I.push(P))}return Jc(I),I.length>0}function Ld(T,I){let P=C.blockers.get(T)||Ja;return ue.get(T)!==I&&ue.set(T,I),P}function eu(T){C.blockers.delete(T),ue.delete(T)}function ls(T,I){let P=C.blockers.get(T)||Ja;_e(P.state==="unblocked"&&I.state==="blocked"||P.state==="blocked"&&I.state==="blocked"||P.state==="blocked"&&I.state==="proceeding"||P.state==="blocked"&&I.state==="unblocked"||P.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+P.state+" -> "+I.state);let V=new Map(C.blockers);V.set(T,I),et({blockers:V})}function tu(T){let{currentLocation:I,nextLocation:P,historyAction:V}=T;if(ue.size===0)return;ue.size>1&&Xo(!1,"A router only supports one blocker at a time");let J=Array.from(ue.entries()),[oe,pe]=J[J.length-1],re=C.blockers.get(oe);if(!(re&&re.state==="proceeding")&&pe({currentLocation:I,nextLocation:P,historyAction:V}))return oe}function no(T){let I=vn(404,{pathname:T}),P=a||o,{matches:V,route:J}=Vv(P);return Va(),{notFoundMatches:V,route:J,error:I}}function Va(T){let I=[];return ge.forEach((P,V)=>{(!T||T(V))&&(P.cancel(),I.push(V),ge.delete(V))}),I}function nu(T,I,P){if(g=T,w=I,y=P||null,!v&&C.navigation===mf){v=!0;let V=iu(C.location,C.matches);V!=null&&et({restoreScrollPosition:V})}return()=>{g=null,w=null,y=null}}function ru(T,I){return y&&y(T,I.map(V=>RS(V,C.loaderData)))||T.key}function Bd(T,I){if(g&&w){let P=ru(T,I);g[P]=w()}}function iu(T,I){if(g){let P=ru(T,I),V=g[P];if(typeof V=="number")return V}return null}function cs(T,I,P){if(u)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Zu(I,P,l,!0)}}else return{active:!0,matches:Zu(I,P,l,!0)||[]};return{active:!1,matches:null}}async function ro(T,I,P){if(!u)return{type:"success",matches:T};let V=T;for(;;){let J=a==null,oe=a||o,pe=s;try{await u({path:I,matches:V,patch:(ne,le)=>{P.aborted||Pv(ne,le,oe,pe,i)}})}catch(ne){return{type:"error",error:ne,partialMatches:V}}finally{J&&!P.aborted&&(o=[...o])}if(P.aborted)return{type:"aborted"};let re=ms(oe,I,l);if(re)return{type:"success",matches:re};let ie=Zu(oe,I,l,!0);if(!ie||V.length===ie.length&&V.every((ne,le)=>ne.route.id===ie[le].route.id))return{type:"success",matches:null};V=ie}}function $d(T){s={},a=L0(T,i,void 0,s)}function su(T,I){let P=a==null;Pv(T,I,a||o,s,i),P&&(o=[...o],et({}))}return S={get basename(){return l},get future(){return d},get state(){return C},get routes(){return o},get window(){return e},initialize:he,subscribe:zn,enableScrollRestoration:nu,navigate:pn,fetch:os,revalidate:on,createHref:T=>t.history.createHref(T),encodeLocation:T=>t.history.encodeLocation(T),getFetcher:Ba,deleteFetcher:mi,dispose:sn,getBlocker:Ld,deleteBlocker:eu,patchRoutes:su,_internalFetchControllers:ee,_internalActiveDeferreds:ge,_internalSetRoutes:$d},S}function ib(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function _p(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Sm(i||".",Em(l,s),oi(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=Nm(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Jr([n,u.pathname])),Ls(u)}function Iv(t,e,n,r){if(!r||!ib(r))return{path:n};if(r.formMethod&&!gb(r.formMethod))return{path:n,error:vn(405,{method:r.formMethod})};let i=()=>({path:n,error:vn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=o8(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ar(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[y,w]=g;return""+m+y+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ar(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}_e(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Cp(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Cp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Lv(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Lv(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ar(u.formMethod))return{path:n,submission:u};let d=Zi(n);return e&&d.search&&Nm(d.search)&&l.append("index",""),d.search="?"+l,{path:Ls(d),submission:u}}function Rv(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Fv(t,e,n,r,i,s,o,a,l,c,u,d,f,m,g,y){let w=y?In(y[1])?y[1].error:y[1].data:void 0,v=t.createURL(e.location),p=t.createURL(i),x=n;s&&e.errors?x=Rv(n,Object.keys(e.errors)[0],!0):y&&In(y[1])&&(x=Rv(n,y[0]));let _=y?y[1].statusCode:void 0,S=o&&_&&_>=400,C=x.filter((D,A)=>{let{route:b}=D;if(b.lazy)return!0;if(b.loader==null)return!1;if(s)return wp(b,e.loaderData,e.errors);if(sb(e.loaderData,e.matches[A],D)||l.some(F=>F===D.route.id))return!0;let k=e.matches[A],R=D;return Mv(D,tt({currentUrl:v,currentParams:k.params,nextUrl:p,nextParams:R.params},r,{actionResult:w,actionStatus:_,defaultShouldRevalidate:S?!1:a||v.pathname+v.search===p.pathname+p.search||v.search!==p.search||i8(k,R)}))}),E=[];return d.forEach((D,A)=>{if(s||!n.some(U=>U.route.id===D.routeId)||u.has(A))return;let b=ms(m,D.path,g);if(!b){E.push({key:A,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(A),R=dl(b,D.path),F=!1;f.has(A)?F=!1:c.has(A)?(c.delete(A),F=!0):k&&k.state!=="idle"&&k.data===void 0?F=a:F=Mv(R,tt({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:w,actionStatus:_,defaultShouldRevalidate:S?!1:a})),F&&E.push({key:A,routeId:D.routeId,path:D.path,matches:b,match:R,controller:new AbortController})}),[C,E]}function wp(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function sb(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function i8(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Mv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Pv(t,e,n,r,i){var s;let o;if(t){let c=r[t];_e(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>s8(c,u))),l=L0(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function s8(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>s8(n,s))}):!1}async function ob(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_e(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Xo(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!TS.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,tt({},e(i),{lazy:void 0}))}async function ab(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function lb(t,e,n,r,i,s,o,a,l,c){let u=s.map(m=>m.route.lazy?ob(m.route,l,a):void 0),d=s.map((m,g)=>{let y=u[g],w=i.some(p=>p.route.id===m.route.id);return tt({},m,{shouldLoad:w,resolve:async p=>(p&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(w=!0),w?cb(e,r,m,y,p,c):Promise.resolve({type:Ve.data,result:void 0}))})}),f=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function cb(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((g,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let f=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...g!==void 0?[g]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(y=>f(y)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([m,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw vn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Ve.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw vn(404,{pathname:d})}_e(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ve.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function ub(t){let{result:e,type:n}=t;if(a8(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Ve.error,error:u}}return n===Ve.error?{type:Ve.error,error:new $0(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Ve.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Ve.error){if(Hv(e)){var r;if(e.data instanceof Error){var i;return{type:Ve.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new $0(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Ve.error,error:e,statusCode:jh(e)?e.status:void 0}}if(mb(e)){var s,o;return{type:Ve.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Hv(e)){var a,l;return{type:Ve.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Ve.data,data:e}}function hb(t,e,n,r,i,s){let o=t.headers.get("Location");if(_e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!bm.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=_p(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function jv(t,e,n){if(bm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=oi(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function lo(t,e,n,r){let i=t.createURL(o8(e)).toString(),s={signal:n};if(r&&ar(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Cp(r.formData):s.body=r.formData}return new Request(i,s)}function Cp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Lv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function db(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&In(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,m=e[f];if(_e(!_s(m),"Cannot handle redirect results in processLoaderData"),In(m)){let g=m.error;u!==void 0&&(g=u,u=void 0),o=o||{};{let y=gs(t,f);o[y.route.id]==null&&(o[y.route.id]=g)}s[f]=void 0,l||(l=!0,a=jh(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else bi(m)?(r.set(f,m.deferredData),s[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers)):(s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Bv(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=db(e,n,r,o);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,m=s[u];if(_e(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(In(m)){let g=gs(t.matches,d==null?void 0:d.route.id);l&&l[g.route.id]||(l=tt({},l,{[g.route.id]:m.error})),t.fetchers.delete(u)}else if(_s(m))_e(!1,"Unhandled fetcher revalidation redirect");else if(bi(m))_e(!1,"Unhandled fetcher deferred data");else{let g=xi(m.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:l}}function $v(t,e,n,r){let i=tt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Ov(t){return t?In(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function gs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Vv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new $0(t||500,a,new Error(l),!0)}function bu(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(_s(i))return{key:r,result:i}}}function o8(t){let e=typeof t=="string"?Zi(t):t;return Ls(tt({},e,{hash:""}))}function fb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function pb(t){return a8(t.result)&&JS.has(t.result.status)}function bi(t){return t.type===Ve.deferred}function In(t){return t.type===Ve.error}function _s(t){return(t&&t.type)===Ve.redirect}function Hv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function mb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function a8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function gb(t){return XS.has(t.toLowerCase())}function ar(t){return YS.has(t.toLowerCase())}async function xb(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!i8(u,c)&&(i&&i[c.route.id])!==void 0;bi(l)&&d&&await Dm(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function vb(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&bi(a)&&(_e(o,"Expected an AbortController for revalidating fetcher deferred result"),await Dm(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Dm(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ve.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ve.error,error:i}}return{type:Ve.data,data:t.deferredData.data}}}function Nm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function dl(t,e){let n=typeof e=="string"?Zi(e).search:e.search;if(t[t.length-1].route.index&&Nm(n||""))return t[t.length-1];let r=t8(t);return r[r.length-1]}function Uv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function gf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function yb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function el(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _b(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wb(t,e){try{let n=t.sessionStorage.getItem(r8);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Cb(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(r8,JSON.stringify(n))}catch(r){Xo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}const Nc=N.createContext(null),km=N.createContext(null),Xi=N.createContext(null),Am=N.createContext(null),Ji=N.createContext({outlet:null,matches:[],isDataRoute:!1}),l8=N.createContext(null);function Eb(t,e){let{relative:n}=e===void 0?{}:e;kc()||_e(!1);let{basename:r,navigator:i}=N.useContext(Xi),{hash:s,pathname:o,search:a}=Lh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Jr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function kc(){return N.useContext(Am)!=null}function Ac(){return kc()||_e(!1),N.useContext(Am).location}function c8(t){N.useContext(Xi).static||N.useLayoutEffect(t)}function Sb(){let{isDataRoute:t}=N.useContext(Ji);return t?Bb():bb()}function bb(){kc()||_e(!1);let t=N.useContext(Nc),{basename:e,future:n,navigator:r}=N.useContext(Xi),{matches:i}=N.useContext(Ji),{pathname:s}=Ac(),o=JSON.stringify(Em(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return c8(()=>{a.current=!0}),N.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Sm(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Jr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const Db=N.createContext(null);function Nb(t){let e=N.useContext(Ji).outlet;return e&&N.createElement(Db.Provider,{value:t},e)}function Lh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Xi),{matches:i}=N.useContext(Ji),{pathname:s}=Ac(),o=JSON.stringify(Em(i,r.v7_relativeSplatPath));return N.useMemo(()=>Sm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function kb(t,e,n,r){kc()||_e(!1);let{navigator:i}=N.useContext(Xi),{matches:s}=N.useContext(Ji),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ac(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=ms(t,{pathname:f});return Fb(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Jr([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Jr([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r)}function Ab(){let t=Lb(),e=jh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const Tb=N.createElement(Ab,null);class Ib extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Ji.Provider,{value:this.props.routeContext},N.createElement(l8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rb(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Nc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ji.Provider,{value:e},r)}function Fb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||_e(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let m,g=!1,y=null,w=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Tb,l&&(c<0&&f===0?(g=!0,w=null):c===f&&(g=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),p=()=>{let x;return m?x=y:g?x=w:d.route.Component?x=N.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,N.createElement(Rb,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(Ib,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var u8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(u8||{}),V0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(V0||{});function Mb(t){let e=N.useContext(Nc);return e||_e(!1),e}function Pb(t){let e=N.useContext(km);return e||_e(!1),e}function jb(t){let e=N.useContext(Ji);return e||_e(!1),e}function h8(t){let e=jb(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function Lb(){var t;let e=N.useContext(l8),n=Pb(V0.UseRouteError),r=h8(V0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Bb(){let{router:t}=Mb(u8.UseNavigateStable),e=h8(V0.UseNavigateStable),n=N.useRef(!1);return c8(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,O0({fromRouteId:e},s)))},[t,e])}const zv={};function $b(t,e){zv[e]||(zv[e]=!0,console.warn(e))}const co=(t,e,n)=>$b(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Ob(t,e){t!=null&&t.v7_startTransition||co("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&co("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||co("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||co("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||co("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||co("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Vb(t){return Nb(t.context)}function Hb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vt.Pop,navigator:s,static:o=!1,future:a}=t;kc()&&_e(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:O0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Zi(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,y=N.useMemo(()=>{let w=oi(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:g},navigationType:i}},[l,u,d,f,m,g,i]);return y==null?null:N.createElement(Xi.Provider,{value:c},N.createElement(Am.Provider,{children:n,value:y}))}new Promise(()=>{});function Ub(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function d8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wb(t,e){return t.button===0&&(!e||e==="_self")&&!zb(t)}const qb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Kb="6";try{window.__reactRouterVersion=Kb}catch{}function Qb(t,e){return rb({basename:void 0,future:Jo({},void 0,{v7_prependBasename:!0}),history:NS({window:void 0}),hydrationData:Yb(),routes:t,mapRouteProperties:Ub,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Yb(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Jo({},e,{errors:Zb(e.errors)})),e}function Zb(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new $0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const f8=N.createContext({isTransitioning:!1}),Xb=N.createContext(new Map),Jb="startTransition",Wv=p7[Jb],eD="flushSync",qv=DS[eD];function tD(t){Wv?Wv(t):t()}function tl(t){qv?qv(t):t()}let nD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function rD(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=N.useState(n.state),[o,a]=N.useState(),[l,c]=N.useState({isTransitioning:!1}),[u,d]=N.useState(),[f,m]=N.useState(),[g,y]=N.useState(),w=N.useRef(new Map),{v7_startTransition:v}=r||{},p=N.useCallback(D=>{v?tD(D):D()},[v]),x=N.useCallback((D,A)=>{let{deletedFetchers:b,flushSync:k,viewTransitionOpts:R}=A;b.forEach(U=>w.current.delete(U)),D.fetchers.forEach((U,G)=>{U.data!==void 0&&w.current.set(G,U.data)});let F=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||F){k?tl(()=>s(D)):p(()=>s(D));return}if(k){tl(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let U=n.window.document.startViewTransition(()=>{tl(()=>s(D))});U.finished.finally(()=>{tl(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),tl(()=>m(U));return}f?(u&&u.resolve(),f.skipTransition(),y({state:D,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(D),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,f,u,w,p]);N.useLayoutEffect(()=>n.subscribe(x),[n,x]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new nD)},[l]),N.useEffect(()=>{if(u&&o&&n.window){let D=o,A=u.promise,b=n.window.document.startViewTransition(async()=>{p(()=>s(D)),await A});b.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(b)}},[p,o,u,n.window]),N.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),N.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),N.useEffect(()=>{},[]);let _=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,A,b)=>n.navigate(D,{state:A,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(D,A,b)=>n.navigate(D,{replace:!0,state:A,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),S=n.basename||"/",C=N.useMemo(()=>({router:n,navigator:_,static:!1,basename:S}),[n,_,S]),E=N.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return N.useEffect(()=>Ob(r,n.future),[r,n.future]),N.createElement(N.Fragment,null,N.createElement(Nc.Provider,{value:C},N.createElement(km.Provider,{value:i},N.createElement(Xb.Provider,{value:w.current},N.createElement(f8.Provider,{value:l},N.createElement(Hb,{basename:S,location:i.location,navigationType:i.historyAction,navigator:_,future:E},i.initialized||n.future.v7_partialHydration?N.createElement(iD,{routes:n.routes,future:n.future,state:i}):e))))),null)}const iD=N.memo(sD);function sD(t){let{routes:e,future:n,state:r}=t;return kb(e,void 0,r,n)}const oD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=d8(e,qb),{basename:m}=N.useContext(Xi),g,y=!1;if(typeof c=="string"&&aD.test(c)&&(g=c,oD))try{let x=new URL(window.location.href),_=c.startsWith("//")?new URL(x.protocol+c):new URL(c),S=oi(_.pathname,m);_.origin===x.origin&&S!=null?c=S+_.search+_.hash:y=!0}catch{}let w=Eb(c,{relative:i}),v=cD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function p(x){r&&r(x),x.defaultPrevented||v(x)}return N.createElement("a",Jo({},f,{href:g||w,onClick:y||s?r:p,ref:n,target:l}))}),ut=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=d8(e,Gb),f=Lh(l,{relative:d.relative}),m=Ac(),g=N.useContext(km),{navigator:y,basename:w}=N.useContext(Xi),v=g!=null&&uD(f)&&c===!0,p=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(x=x.toLowerCase(),_=_?_.toLowerCase():null,p=p.toLowerCase()),_&&w&&(_=oi(_,w)||_);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let C=x===p||!o&&x.startsWith(p)&&x.charAt(S)==="/",E=_!=null&&(_===p||!o&&_.startsWith(p)&&_.charAt(p.length)==="/"),D={isActive:C,isPending:E,isTransitioning:v},A=C?r:void 0,b;typeof s=="function"?b=s(D):b=[s,C?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(D):a;return N.createElement(Wr,Jo({},d,{"aria-current":A,className:b,ref:n,style:k,to:l,viewTransition:c}),typeof u=="function"?u(D):u)});var Ep;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ep||(Ep={}));var Gv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gv||(Gv={}));function lD(t){let e=N.useContext(Nc);return e||_e(!1),e}function cD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Sb(),c=Ac(),u=Lh(t,{relative:o});return N.useCallback(d=>{if(Wb(d,n)){d.preventDefault();let f=r!==void 0?r:Ls(c)===Ls(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function uD(t,e){e===void 0&&(e={});let n=N.useContext(f8);n==null&&_e(!1);let{basename:r}=lD(Ep.useViewTransitionState),i=Lh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return B0(i.pathname,o)!=null||B0(i.pathname,s)!=null}function hD({setPortion:t,portion:e}){return h.jsxs("div",{className:"flex gap-10 items-center justify-between pb-6",children:[h.jsx("h2",{className:"text-4xl font-sans font-medium",children:"Forming Machine"}),h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"checkbox",name:"fAll",id:"fAll",className:"w-4 h-4",checked:e=="all",onClick:()=>t("all")}),h.jsx("label",{htmlFor:"fAll",className:"text-xl",children:"All"})]}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"checkbox",name:"fActive",id:"fActive",className:"w-4 h-4",checked:e=="active",onClick:()=>t("active")}),h.jsx("label",{htmlFor:"fActive",className:"text-xl",children:"Active"})]}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"checkbox",name:"fIdle",id:"fIdle",className:"w-4 h-4",checked:e=="idle",onClick:()=>t("idle")}),h.jsx("label",{htmlFor:"fIdle",className:"text-xl",children:"Idle"})]})]})]})}const dD="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='47'%20height='47'%20rx='23.5'%20stroke='white'/%3e%3cpath%20d='M18.0625%2021.625C18.0625%2021.2798%2018.3423%2021%2018.6875%2021H22.125C22.2484%2021%2022.369%2021.0365%2022.4717%2021.105L24%2022.1238L25.5283%2021.105C25.631%2021.0365%2025.7516%2021%2025.875%2021H29.3125C29.6577%2021%2029.9375%2021.2798%2029.9375%2021.625C29.9375%2021.9702%2029.6577%2022.25%2029.3125%2022.25H26.0642L24.3467%2023.395C24.1368%2023.535%2023.8632%2023.535%2023.6533%2023.395L21.9358%2022.25H18.6875C18.3423%2022.25%2018.0625%2021.9702%2018.0625%2021.625Z'%20fill='white'/%3e%3cpath%20d='M25.5312%2033.75C25.1861%2033.75%2024.9062%2034.0298%2024.9062%2034.375C24.9062%2034.7202%2025.1861%2035%2025.5312%2035H28.3438C28.6889%2035%2028.9688%2034.7202%2028.9688%2034.375C28.9688%2034.0298%2028.6889%2033.75%2028.3438%2033.75H25.5312Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M23.0312%2031.25C22.6861%2031.25%2022.4062%2031.5298%2022.4062%2031.875V36.875C22.4062%2037.2202%2022.6861%2037.5%2023.0312%2037.5H30.8438C31.1889%2037.5%2031.4688%2037.2202%2031.4688%2036.875V31.875C31.4688%2031.5298%2031.1889%2031.25%2030.8438%2031.25H23.0312ZM23.6562%2036.25V32.5H30.2188V36.25H23.6562Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18.5312%208C18.1861%208%2017.9062%208.27982%2017.9062%208.625V9.71875H11.6562C11.3111%209.71875%2011.0312%209.99857%2011.0312%2010.3438V12.8438C11.0312%2013.1889%2011.3111%2013.4688%2011.6562%2013.4688H14V26.875C14%2027.2202%2014.2798%2027.5%2014.625%2027.5H15.5625V28.75H14.625C14.2798%2028.75%2014%2029.0298%2014%2029.375V39.375C14%2039.7202%2014.2798%2040%2014.625%2040H33.375C33.7202%2040%2034%2039.7202%2034%2039.375V29.375C34%2029.0298%2033.7202%2028.75%2033.375%2028.75H32.4375V27.5H33.375C33.7202%2027.5%2034%2027.2202%2034%2026.875V13.4688H36.3438C36.6889%2013.4688%2036.9688%2013.1889%2036.9688%2012.8438V10.3438C36.9688%209.99857%2036.6889%209.71875%2036.3438%209.71875H30.0938V8.625C30.0938%208.27982%2029.8139%208%2029.4688%208H18.5312ZM32.75%2013.4688H30.0938V14.5625C30.0938%2014.9077%2029.8139%2015.1875%2029.4688%2015.1875H26.5V17.9375C26.5%2018.1033%2026.4342%2018.2622%2026.3169%2018.3794L24.4419%2020.2544C24.1979%2020.4985%2023.8021%2020.4985%2023.5581%2020.2544L21.6831%2018.3794C21.5658%2018.2622%2021.5%2018.1033%2021.5%2017.9375V15.1875H18.5312C18.1861%2015.1875%2017.9062%2014.9077%2017.9062%2014.5625V13.4688H15.25V26.25H18.0625V24.6875C18.0625%2024.3423%2018.3423%2024.0625%2018.6875%2024.0625H22.125C22.2484%2024.0625%2022.369%2024.099%2022.4717%2024.1675L24%2025.1863L25.5283%2024.1675C25.631%2024.099%2025.7516%2024.0625%2025.875%2024.0625H29.3125C29.6577%2024.0625%2029.9375%2024.3423%2029.9375%2024.6875V26.25H32.75V13.4688ZM35.7188%2012.2188V10.9688H30.0938V12.2188H35.7188ZM28.8438%209.25H19.1562V13.9375H28.8438V9.25ZM17.9062%2012.2188V10.9688H12.2812V12.2188H17.9062ZM25.25%2015.1875H22.75V17.6786L24%2018.9286L25.25%2017.6786V15.1875ZM28.6875%2025.3125H26.0642L24.3467%2026.4575C24.1367%2026.5975%2023.8632%2026.5975%2023.6533%2026.4575L21.9358%2025.3125H19.3125V28.75H28.6875V25.3125ZM31.1875%2027.5H29.9375V28.75H31.1875V27.5ZM16.8125%2028.75H18.0625V27.5H16.8125V28.75ZM15.25%2030V38.75H32.75V30H15.25Z'%20fill='white'/%3e%3c/svg%3e";var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw Ca(e)},Ca=function(t){return new Error("Firebase Database ("+p8.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Tm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new pD;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g8=function(t){const e=m8(t);return Tm.encodeByteArray(e,!0)},H0=function(t){return g8(t).replace(/\./g,"")},Sp=function(t){try{return Tm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){return x8(void 0,t)}function x8(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gD(n)||(t[n]=x8(t[n],e[n]));return t}function gD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=()=>xD().__FIREBASE_DEFAULTS__,yD=()=>{if(typeof process>"u"||typeof Kv>"u")return;const t=Kv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_D=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sp(t[1]);return e&&JSON.parse(e)},v8=()=>{try{return vD()||yD()||_D()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wD=t=>{var e,n;return(n=(e=v8())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},y8=t=>{const e=wD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_8=()=>{var t;return(t=v8())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[H0(JSON.stringify(n)),H0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(CD())}function ED(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E8(){return p8.NODE_ADMIN===!0}function SD(){try{return typeof indexedDB=="object"}catch{return!1}}function bD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="FirebaseError";class Ea extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DD,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S8.prototype.create)}}class S8{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ND(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ea(i,a,r)}}function ND(t,e){return t.replace(kD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){return JSON.parse(t)}function $t(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=nc(Sp(s[0])||""),n=nc(Sp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},AD=function(t){const e=b8(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TD=function(t){const e=b8(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ea(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U0(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function bp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Yv(s)&&Yv(o)){if(!bp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function FD(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Im;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LD(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jD(t){return t===fs?void 0:t}function LD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const $D={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},OD=Me.INFO,VD={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},HD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=HD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$D[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const UD=(t,e)=>e.some(n=>t instanceof n);let Zv,Xv;function zD(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WD(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D8=new WeakMap,Dp=new WeakMap,N8=new WeakMap,xf=new WeakMap,Fm=new WeakMap;function qD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&D8.set(n,t)}).catch(()=>{}),Fm.set(e,t),e}function GD(t){if(Dp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dp.set(t,e)}let Np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KD(t){Np=t(Np)}function QD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vf(this),e,...n);return N8.set(r,e.sort?e.sort():[e]),Pi(r)}:WD().includes(t)?function(...e){return t.apply(vf(this),e),Pi(D8.get(this))}:function(...e){return Pi(t.apply(vf(this),e))}}function YD(t){return typeof t=="function"?QD(t):(t instanceof IDBTransaction&&GD(t),UD(t,zD())?new Proxy(t,Np):t)}function Pi(t){if(t instanceof IDBRequest)return qD(t);if(xf.has(t))return xf.get(t);const e=YD(t);return e!==t&&(xf.set(t,e),Fm.set(e,t)),e}const vf=t=>Fm.get(t);function ZD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const XD=["get","getKey","getAll","getAllKeys","count"],JD=["put","add","delete","clear"],yf=new Map;function Jv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return yf.set(e,s),s}KD(t=>({...t,get:(e,n,r)=>Jv(e,n)||t.get(e,n,r),has:(e,n)=>!!Jv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kp="@firebase/app",ey="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Rm("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",iN="@firebase/analytics",sN="@firebase/app-check-compat",oN="@firebase/app-check",aN="@firebase/auth",lN="@firebase/auth-compat",cN="@firebase/database",uN="@firebase/database-compat",hN="@firebase/functions",dN="@firebase/functions-compat",fN="@firebase/installations",pN="@firebase/installations-compat",mN="@firebase/messaging",gN="@firebase/messaging-compat",xN="@firebase/performance",vN="@firebase/performance-compat",yN="@firebase/remote-config",_N="@firebase/remote-config-compat",wN="@firebase/storage",CN="@firebase/storage-compat",EN="@firebase/firestore",SN="@firebase/firestore-compat",bN="firebase",DN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",NN={[kp]:"fire-core",[nN]:"fire-core-compat",[iN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[sN]:"fire-app-check-compat",[aN]:"fire-auth",[lN]:"fire-auth-compat",[cN]:"fire-rtdb",[uN]:"fire-rtdb-compat",[hN]:"fire-fn",[dN]:"fire-fn-compat",[fN]:"fire-iid",[pN]:"fire-iid-compat",[mN]:"fire-fcm",[gN]:"fire-fcm-compat",[xN]:"fire-perf",[vN]:"fire-perf-compat",[yN]:"fire-rc",[_N]:"fire-rc-compat",[wN]:"fire-gcs",[CN]:"fire-gcs-compat",[EN]:"fire-fst",[SN]:"fire-fst-compat","fire-js":"fire-js",[bN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map,Tp=new Map;function kN(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rc(t){const e=t.name;if(Tp.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,t);for(const n of z0.values())kN(n,t);return!0}function k8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ji=new S8("app","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=DN;function T8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=_8()),!n)throw ji.create("no-options");const s=z0.get(i);if(s){if(bp(n,s.options)&&bp(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}const o=new BD(i);for(const l of Tp.values())o.addComponent(l);const a=new TN(n,r,o);return z0.set(i,a),a}function I8(t=Ap){const e=z0.get(t);if(!e&&t===Ap&&_8())return T8();if(!e)throw ji.create("no-app",{appName:t});return e}function Li(t,e,n){var r;let i=(r=NN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(a.join(" "));return}rc(new ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="firebase-heartbeat-database",RN=1,ic="firebase-heartbeat-store";let _f=null;function R8(){return _f||(_f=ZD(IN,RN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ic)}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),_f}async function FN(t){try{return await(await R8()).transaction(ic).objectStore(ic).get(F8(t))}catch(e){if(e instanceof Ea)Bs.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bs.warn(n.message)}}}async function ty(t,e){try{const r=(await R8()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,F8(t)),await r.done}catch(n){if(n instanceof Ea)Bs.warn(n.message);else{const r=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bs.warn(r.message)}}}function F8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1024,PN=30*24*60*60*1e3;class jN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ny();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=PN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ny(),{heartbeatsToSend:n,unsentEntries:r}=LN(this._heartbeatsCache.heartbeats),i=H0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ny(){return new Date().toISOString().substring(0,10)}function LN(t,e=MN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ry(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ry(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SD()?bD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await FN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ty(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ty(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ry(t){return H0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){rc(new ta("platform-logger",e=>new eN(e),"PRIVATE")),rc(new ta("heartbeat",e=>new jN(e),"PRIVATE")),Li(kp,ey,t),Li(kp,ey,"esm2017"),Li("fire-js","")}$N("");var ON=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,Mm=Mm||{},fe=ON||self;function $h(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Oh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VN(t){return Object.prototype.hasOwnProperty.call(t,wf)&&t[wf]||(t[wf]=++HN)}var wf="closure_uid_"+(1e9*Math.random()>>>0),HN=0;function UN(t,e,n){return t.call.apply(t.bind,arguments)}function zN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jt=UN:Jt=zN,Jt.apply(null,arguments)}function Du(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}var WN=0;es.prototype.s=!1;es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),WN!=0)&&VN(this)};es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M8=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($h(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function en(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var qN=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",()=>{},e),fe.removeEventListener("test",()=>{},e)}catch{}return t}();function sc(t){return/^[\s\xa0]*$/.test(t)}function Vh(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function Ar(t){return Vh().indexOf(t)!=-1}function jm(t){return jm[" "](t),t}jm[" "]=function(){};function GN(t,e){var n=Ok;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var KN=Ar("Opera"),na=Ar("Trident")||Ar("MSIE"),P8=Ar("Edge"),Ip=P8||na,j8=Ar("Gecko")&&!(Vh().toLowerCase().indexOf("webkit")!=-1&&!Ar("Edge"))&&!(Ar("Trident")||Ar("MSIE"))&&!Ar("Edge"),QN=Vh().toLowerCase().indexOf("webkit")!=-1&&!Ar("Edge");function L8(){var t=fe.document;return t?t.documentMode:void 0}var Rp;e:{var Cf="",Ef=function(){var t=Vh();if(j8)return/rv:([^\);]+)(\)|;)/.exec(t);if(P8)return/Edge\/([\d\.]+)/.exec(t);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(QN)return/WebKit\/(\S+)/.exec(t);if(KN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ef&&(Cf=Ef?Ef[1]:""),na){var Sf=L8();if(Sf!=null&&Sf>parseFloat(Cf)){Rp=String(Sf);break e}}Rp=Cf}var Fp;if(fe.document&&na){var sy=L8();Fp=sy||parseInt(Rp,10)||void 0}else Fp=void 0;var YN=Fp;function oc(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(j8){e:{try{jm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oc.$.h.call(this)}}Mt(oc,en);var ZN={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Hh="closure_listenable_"+(1e6*Math.random()|0),XN=0;function JN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++XN,this.fa=this.ia=!1}function Uh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Lm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ek(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function B8(t){const e={};for(const n in t)e[n]=t[n];return e}const oy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $8(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<oy.length;s++)n=oy[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zh(t){this.src=t,this.g={},this.h=0}zh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Pp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new JN(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Mp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=M8(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Uh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Pp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bm="closure_lm_"+(1e6*Math.random()|0),bf={};function O8(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)O8(t,e[s],n,r,i);return null}return n=U8(n),t&&t[Hh]?t.O(e,n,Oh(r)?!!r.capture:!!r,i):tk(t,e,n,!1,r,i)}function tk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Oh(i)?!!i.capture:!!i,a=Om(t);if(a||(t[Bm]=a=new zh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=nk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qN||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(H8(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nk(){function t(n){return e.call(t.src,t.listener,n)}const e=rk;return t}function V8(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)V8(t,e[s],n,r,i);else r=Oh(r)?!!r.capture:!!r,n=U8(n),t&&t[Hh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Pp(s,n,r,i),-1<n&&(Uh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Om(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Pp(e,n,r,i)),(n=-1<t?e[t]:null)&&$m(n))}function $m(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Hh])Mp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(H8(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Om(e))?(Mp(n,t),n.h==0&&(n.src=null,e[Bm]=null)):Uh(t)}}}function H8(t){return t in bf?bf[t]:bf[t]="on"+t}function rk(t,e){if(t.fa)t=!0;else{e=new oc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$m(t),t=n.call(r,e)}return t}function Om(t){return t=t[Bm],t instanceof zh?t:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function U8(t){return typeof t=="function"?t:(t[Df]||(t[Df]=function(e){return t.handleEvent(e)}),t[Df])}function Ft(){es.call(this),this.i=new zh(this),this.S=this,this.J=null}Mt(Ft,es);Ft.prototype[Hh]=!0;Ft.prototype.removeEventListener=function(t,e,n,r){V8(this,t,e,n,r)};function Vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var i=e;e=new en(r,t),$8(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Nu(o,r,!0,e)&&i}if(o=e.g=t,i=Nu(o,r,!0,e)&&i,i=Nu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Nu(o,r,!1,e)&&i}Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uh(n[r]);delete t.g[e],t.h--}}this.J=null};Ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Nu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Mp(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vm=fe.JSON.stringify;class ik{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function sk(){var t=Hm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ok{constructor(){this.h=this.g=null}add(e,n){const r=z8.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var z8=new ik(()=>new ak,t=>t.reset());class ak{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lk(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ck(t){fe.setTimeout(()=>{throw t},0)}let ac,lc=!1,Hm=new ok,W8=()=>{const t=fe.Promise.resolve(void 0);ac=()=>{t.then(uk)}};var uk=()=>{for(var t;t=sk();){try{t.h.call(t.g)}catch(n){ck(n)}var e=z8;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lc=!1};function Wh(t,e){Ft.call(this),this.h=t||1,this.g=e||fe,this.j=Jt(this.qb,this),this.l=Date.now()}Mt(Wh,Ft);Z=Wh.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(Um(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Um(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Z.N=function(){Wh.$.N.call(this),Um(this),delete this.g};function zm(t,e,n){if(typeof t=="function")n&&(t=Jt(t,n));else if(t&&typeof t.handleEvent=="function")t=Jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function q8(t){t.g=zm(()=>{t.g=null,t.i&&(t.i=!1,q8(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hk extends es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:q8(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cc(t){es.call(this),this.h=t,this.g={}}Mt(cc,es);var ay=[];function G8(t,e,n,r){Array.isArray(n)||(n&&(ay[0]=n.toString()),n=ay);for(var i=0;i<n.length;i++){var s=O8(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function K8(t){Lm(t.g,function(e,n){this.g.hasOwnProperty(n)&&$m(e)},t),t.g={}}cc.prototype.N=function(){cc.$.N.call(this),K8(this)};cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qh(){this.g=!0}qh.prototype.Ea=function(){this.g=!1};function dk(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function fk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ao(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+mk(t,n)+(r?" "+r:"")})}function pk(t,e){t.info(function(){return"TIMEOUT: "+e})}qh.prototype.info=function(){};function mk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Vm(n)}catch{return e}}var Gs={},ly=null;function Gh(){return ly=ly||new Ft}Gs.Ta="serverreachability";function Q8(t){en.call(this,Gs.Ta,t)}Mt(Q8,en);function uc(t){const e=Gh();Vt(e,new Q8(e))}Gs.STAT_EVENT="statevent";function Y8(t,e){en.call(this,Gs.STAT_EVENT,t),this.stat=e}Mt(Y8,en);function ln(t){const e=Gh();Vt(e,new Y8(e,t))}Gs.Ua="timingevent";function Z8(t,e){en.call(this,Gs.Ua,t),this.size=e}Mt(Z8,en);function Tc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var Kh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},X8={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wm(){}Wm.prototype.h=null;function cy(t){return t.h||(t.h=t.i())}function J8(){}var Ic={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qm(){en.call(this,"d")}Mt(qm,en);function Gm(){en.call(this,"c")}Mt(Gm,en);var jp;function Qh(){}Mt(Qh,Wm);Qh.prototype.g=function(){return new XMLHttpRequest};Qh.prototype.i=function(){return{}};jp=new Qh;function Rc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new cc(this),this.P=gk,t=Ip?125:void 0,this.V=new Wh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new e_}function e_(){this.i=null,this.g="",this.h=!1}var gk=45e3,Lp={},W0={};Z=Rc.prototype;Z.setTimeout=function(t){this.P=t};function Bp(t,e,n){t.L=1,t.v=Zh(ai(e)),t.s=n,t.S=!0,t_(t,null)}function t_(t,e){t.G=Date.now(),Fc(t),t.A=ai(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),c_(n.i,"t",r),t.C=0,n=t.l.J,t.h=new e_,t.g=T_(t.l,n?e:null,!t.s),0<t.O&&(t.M=new hk(Jt(t.Pa,t,t.g),t.O)),G8(t.U,t.g,"readystatechange",t.nb),e=t.I?B8(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),uc(),dk(t.j,t.u,t.A,t.m,t.W,t.s)}Z.nb=function(t){t=t.target;const e=this.M;e&&Ir(t)==3?e.l():this.Pa(t)};Z.Pa=function(t){try{if(t==this.g)e:{const u=Ir(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Ip||this.g&&(this.h.h||this.g.ja()||fy(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?uc(3):uc(2)),Yh(this);var n=this.g.da();this.ca=n;t:if(n_(this)){var r=fy(this.g);t="";var i=r.length,s=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),kl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,fk(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sc(a)){var c=a;break t}}c=null}if(n=c)Ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$p(this,n);else{this.i=!1,this.o=3,ln(12),ws(this),kl(this);break e}}this.S?(r_(this,u,o),Ip&&this.i&&u==3&&(G8(this.U,this.V,"tick",this.mb),this.V.start())):(Ao(this.j,this.m,o,null),$p(this,o)),u==4&&ws(this),this.i&&!this.J&&(u==4?D_(this.l,this):(this.i=!1,Fc(this)))}else Lk(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),ws(this),kl(this)}}}catch{}finally{}};function n_(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function r_(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=xk(t,n),i==W0){e==4&&(t.o=4,ln(14),r=!1),Ao(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Lp){t.o=4,ln(15),Ao(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ao(t.j,t.m,i,null),$p(t,i);n_(t)&&i!=W0&&i!=Lp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jm(e),e.M=!0,ln(11))):(Ao(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),kl(t))}Z.mb=function(){if(this.g){var t=Ir(this.g),e=this.g.ja();this.C<e.length&&(Yh(this),r_(this,t,e),this.i&&t!=4&&Fc(this))}};function xk(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?W0:(n=Number(e.substring(n,r)),isNaN(n)?Lp:(r+=1,r+n>e.length?W0:(e=e.slice(r,r+n),t.C=r+n,e)))}Z.cancel=function(){this.J=!0,ws(this)};function Fc(t){t.Y=Date.now()+t.P,i_(t,t.P)}function i_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Tc(Jt(t.lb,t),e)}function Yh(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}Z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(pk(this.j,this.A),this.L!=2&&(uc(),ln(17)),ws(this),this.o=2,kl(this)):i_(this,this.Y-t)};function kl(t){t.l.H==0||t.J||D_(t.l,t)}function ws(t){Yh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Um(t.V),K8(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $p(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Op(n.i,t))){if(!t.K&&Op(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)K0(n),ed(n);else break e;Xm(n),ln(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Tc(Jt(n.ib,n),6e3));if(1>=d_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cs(n,11)}else if((t.K||n.g==t)&&K0(n),!sc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Km(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Qe(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=A_(r,r.J?r.pa:null,r.Y),o.K){f_(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Yh(a),Fc(a)),r.g=o}else S_(r);0<n.j.length&&td(n)}else c[0]!="stop"&&c[0]!="close"||Cs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Cs(n,7):Zm(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}uc(4)}catch{}}function vk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function yk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($h(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function s_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($h(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=yk(t),r=vk(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var o_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _k(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ks(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ks){this.h=t.h,q0(this,t.j),this.s=t.s,this.g=t.g,G0(this,t.m),this.l=t.l;var e=t.i,n=new hc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uy(this,n),this.o=t.o}else t&&(e=String(t).match(o_))?(this.h=!1,q0(this,e[1]||"",!0),this.s=fl(e[2]||""),this.g=fl(e[3]||"",!0),G0(this,e[4]),this.l=fl(e[5]||"",!0),uy(this,e[6]||"",!0),this.o=fl(e[7]||"")):(this.h=!1,this.i=new hc(null,this.h))}ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pl(e,hy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pl(e,hy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pl(n,n.charAt(0)=="/"?Ek:Ck,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pl(n,bk)),t.join("")};function ai(t){return new ks(t)}function q0(t,e,n){t.j=n?fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function G0(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function uy(t,e,n){e instanceof hc?(t.i=e,Dk(t.i,t.h)):(n||(e=pl(e,Sk)),t.i=new hc(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function Zh(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,wk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hy=/[#\/\?@]/g,Ck=/[#\?:]/g,Ek=/[#\?]/g,Sk=/[#\?@]/g,bk=/#/g;function hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ts(t){t.g||(t.g=new Map,t.h=0,t.i&&_k(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=hc.prototype;Z.add=function(t,e){ts(this),this.i=null,t=Sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function a_(t,e){ts(t),e=Sa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function l_(t,e){return ts(t),e=Sa(t,e),t.g.has(e)}Z.forEach=function(t,e){ts(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Z.ta=function(){ts(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Z.Z=function(t){ts(this);let e=[];if(typeof t=="string")l_(this,t)&&(e=e.concat(this.g.get(Sa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Z.set=function(t,e){return ts(this),this.i=null,t=Sa(this,t),l_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function c_(t,e,n){a_(t,e),0<n.length&&(t.i=null,t.g.set(Sa(t,e),Pm(n)),t.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Dk(t,e){e&&!t.j&&(ts(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(a_(this,r),c_(this,i,n))},t)),t.j=e}var Nk=class{constructor(t,e){this.g=t,this.map=e}};function u_(t){this.l=t||kk,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kk=10;function h_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function d_(t){return t.h?1:t.g?t.g.size:0}function Op(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Km(t,e){t.g?t.g.add(e):t.h=e}function f_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}u_.prototype.cancel=function(){if(this.i=p_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function p_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pm(t.i)}var Ak=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function Tk(){this.g=new Ak}function Ik(t,e,n){const r=n||"";try{s_(t,function(i,s){let o=i;Oh(i)&&(o=Vm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rk(t,e){const n=new qh;if(fe.Image){const r=new Image;r.onload=Du(ku,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Du(ku,n,r,"TestLoadImage: error",!1,e),r.onabort=Du(ku,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Du(ku,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ku(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mc(t){this.l=t.fc||null,this.j=t.ob||!1}Mt(Mc,Wm);Mc.prototype.g=function(){return new Xh(this.l,this.j)};Mc.prototype.i=function(t){return function(){return t}}({});function Xh(t,e){Ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(Xh,Ft);var Qm=0;Z=Xh.prototype;Z.open=function(t,e){if(this.readyState!=Qm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dc(this)};Z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pc(this)),this.readyState=Qm};Z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dc(this)),this.g&&(this.readyState=3,dc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function m_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pc(this):dc(this),this.readyState==3&&m_(this)}};Z.Za=function(t){this.g&&(this.response=this.responseText=t,Pc(this))};Z.Ya=function(t){this.g&&(this.response=t,Pc(this))};Z.ka=function(){this.g&&Pc(this)};function Pc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dc(t)}Z.setRequestHeader=function(t,e){this.v.append(t,e)};Z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function dc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Fk=fe.JSON.parse;function ft(t){Ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=g_,this.L=this.M=!1}Mt(ft,Ft);var g_="",Mk=/^https?$/i,Pk=["POST","PUT"];Z=ft.prototype;Z.Oa=function(t){this.M=t};Z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jp.g(),this.C=this.u?cy(this.u):cy(jp),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){dy(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=M8(Pk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{y_(this),0<this.B&&((this.L=jk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=zm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){dy(this,s)}};function jk(t){return na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Z.ua=function(){typeof Mm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function dy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,x_(t),Jh(t)}function x_(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}Z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Jh(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jh(this,!0)),ft.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?v_(this):this.kb())};Z.kb=function(){v_(this)};function v_(t){if(t.h&&typeof Mm<"u"&&(!t.C[1]||Ir(t)!=4||t.da()!=2)){if(t.v&&Ir(t)==4)zm(t.La,0,t);else if(Vt(t,"readystatechange"),Ir(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(o_)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!Mk.test(i?i.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var s=2<Ir(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",x_(t)}}finally{Jh(t)}}}}function Jh(t,e){if(t.g){y_(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function y_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}Z.isActive=function(){return!!this.g};function Ir(t){return t.g?t.g.readyState:0}Z.da=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Fk(e)}};function fy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case g_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Lk(t){const e={};t=(t.g&&2<=Ir(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(sc(t[r]))continue;var n=lk(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}ek(e,function(r){return r.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function __(t){let e="";return Lm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ym(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=__(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function nl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function w_(t){this.Ga=0,this.j=[],this.l=new qh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nl("baseRetryDelayMs",5e3,t),this.hb=nl("retryDelaySeedMs",1e4,t),this.eb=nl("forwardChannelMaxRetries",2,t),this.xa=nl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new u_(t&&t.concurrentRequestLimit),this.Ja=new Tk,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=w_.prototype;Z.ra=8;Z.H=1;function Zm(t){if(C_(t),t.H==3){var e=t.W++,n=ai(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),jc(t,n),e=new Rc(t,t.l,e),e.L=2,e.v=Zh(ai(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.v,n=!0),n||(e.g=T_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fc(e)}k_(t)}function ed(t){t.g&&(Jm(t),t.g.cancel(),t.g=null)}function C_(t){ed(t),t.u&&(fe.clearTimeout(t.u),t.u=null),K0(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function td(t){if(!h_(t.i)&&!t.m){t.m=!0;var e=t.Na;ac||W8(),lc||(ac(),lc=!0),Hm.add(e,t),t.C=0}}function Bk(t,e){return d_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Tc(Jt(t.Na,t,e),N_(t,t.C)),t.C++,!0)}Z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Rc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=B8(s),$8(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=E_(this,i,e),n=ai(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),jc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(__(s)))+"&"+e:this.o&&Ym(n,this.o,s)),Km(this.i,i),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),i.aa=!0,Bp(i,n,null)):Bp(i,n,e),this.H=2}}else this.H==3&&(t?py(this,t):this.j.length==0||h_(this.i)||py(this))};function py(t,e){var n;e?n=e.m:n=t.W++;const r=ai(t.I);Qe(r,"SID",t.K),Qe(r,"RID",n),Qe(r,"AID",t.V),jc(t,r),t.o&&t.s&&Ym(r,t.o,t.s),n=new Rc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=E_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Km(t.i,n),Bp(n,r,e)}function jc(t,e){t.na&&Lm(t.na,function(n,r){Qe(e,r,n)}),t.h&&s_({},function(n,r){Qe(e,r,n)})}function E_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Ik(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function S_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ac||W8(),lc||(ac(),lc=!0),Hm.add(e,t),t.A=0}}function Xm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Tc(Jt(t.Ma,t),N_(t,t.A)),t.A++,!0)}Z.Ma=function(){if(this.u=null,b_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Tc(Jt(this.jb,this),t)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ln(10),ed(this),b_(this))};function Jm(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function b_(t){t.g=new Rc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ai(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),jc(t,e),t.o&&t.s&&Ym(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Zh(ai(e)),n.s=null,n.S=!0,t_(n,t)}Z.ib=function(){this.v!=null&&(this.v=null,ed(this),Xm(this),ln(19))};function K0(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function D_(t,e){var n=null;if(t.g==e){K0(t),Jm(t),t.g=null;var r=2}else if(Op(t.i,e))n=e.F,f_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Gh(),Vt(r,new Z8(r,n)),td(t)}else S_(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Bk(t,e)||r==2&&Xm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}}function N_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Jt(t.pb,t);n||(n=new ks("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||q0(n,"https"),Zh(n)),Rk(n.toString(),r)}else ln(2);t.H=0,t.h&&t.h.za(e),k_(t),C_(t)}Z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ln(2)):(this.l.info("Failed to ping google.com"),ln(1))};function k_(t){if(t.H=0,t.ma=[],t.h){const e=p_(t.i);(e.length!=0||t.j.length!=0)&&(iy(t.ma,e),iy(t.ma,t.j),t.i.i.length=0,Pm(t.j),t.j.length=0),t.h.ya()}}function A_(t,e,n){var r=n instanceof ks?ai(n):new ks(n);if(r.g!="")e&&(r.g=e+"."+r.g),G0(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ks(null);r&&q0(s,r),e&&(s.g=e),i&&G0(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.ra),jc(t,r),r}function T_(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ft(new Mc({ob:!0})):new ft(t.va),e.Oa(t.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function I_(){}Z=I_.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function Q0(){if(na&&!(10<=Number(YN)))throw Error("Environmental error: no available transport.")}Q0.prototype.g=function(t,e){return new $n(t,e)};function $n(t,e){Ft.call(this),this.g=new w_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!sc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ba(this)}Mt($n,Ft);$n.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ln(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=A_(t,null,t.Y),td(t)};$n.prototype.close=function(){Zm(this.g)};$n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vm(t),t=n);e.j.push(new Nk(e.fb++,t)),e.H==3&&td(e)};$n.prototype.N=function(){this.g.h=null,delete this.j,Zm(this.g),delete this.g,$n.$.N.call(this)};function R_(t){qm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Mt(R_,qm);function F_(){Gm.call(this),this.status=1}Mt(F_,Gm);function ba(t){this.g=t}Mt(ba,I_);ba.prototype.Ba=function(){Vt(this.g,"a")};ba.prototype.Aa=function(t){Vt(this.g,new R_(t))};ba.prototype.za=function(t){Vt(this.g,new F_)};ba.prototype.ya=function(){Vt(this.g,"b")};function $k(){this.blockSize=-1}function yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Mt(yr,$k);yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Nf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}yr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Nf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Nf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Nf(this,r),i=0;break}}this.h=i,this.i+=e};yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Ok={};function eg(t){return-128<=t&&128>t?GN(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function Rr(t){if(isNaN(t)||!isFinite(t))return $o;if(0>t)return Bt(Rr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Vp;return new Oe(e,0)}function M_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bt(M_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rr(Math.pow(e,8)),r=$o,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Rr(Math.pow(e,s)),r=r.R(s).add(Rr(o))):(r=r.R(n),r=r.add(Rr(o)))}return r}var Vp=4294967296,$o=eg(0),Hp=eg(1),my=eg(16777216);Z=Oe.prototype;Z.ea=function(){if(Kn(this))return-Bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Vp+r)*e,e*=Vp}return t};Z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yr(this))return"0";if(Kn(this))return"-"+Bt(this).toString(t);for(var e=Rr(Math.pow(t,6)),n=this,r="";;){var i=Z0(n,e).g;n=Y0(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Yr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kn(t){return t.h==-1}Z.X=function(t){return t=Y0(this,t),Kn(t)?-1:Yr(t)?0:1};function Bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(Hp)}Z.abs=function(){return Kn(this)?Bt(this):this};Z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function Y0(t,e){return t.add(Bt(e))}Z.R=function(t){if(Yr(this)||Yr(t))return $o;if(Kn(this))return Kn(t)?Bt(this).R(Bt(t)):Bt(Bt(this).R(t));if(Kn(t))return Bt(this.R(Bt(t)));if(0>this.X(my)&&0>t.X(my))return Rr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Au(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Au(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Au(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Au(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Au(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function rl(t,e){this.g=t,this.h=e}function Z0(t,e){if(Yr(e))throw Error("division by zero");if(Yr(t))return new rl($o,$o);if(Kn(t))return e=Z0(Bt(t),e),new rl(Bt(e.g),Bt(e.h));if(Kn(e))return e=Z0(t,Bt(e)),new rl(Bt(e.g),e.h);if(30<t.g.length){if(Kn(t)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Hp,r=e;0>=r.X(t);)n=gy(n),r=gy(r);var i=uo(n,1),s=uo(r,1);for(r=uo(r,2),n=uo(n,2);!Yr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=uo(r,1),n=uo(n,1)}return e=Y0(t,i.R(e)),new rl(i,e)}for(i=$o;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Rr(n),o=s.R(e);Kn(o)||0<o.X(t);)n-=r,s=Rr(n),o=s.R(e);Yr(s)&&(s=Hp),i=i.add(s),t=Y0(t,o)}return new rl(i,t)}Z.gb=function(t){return Z0(this,t).h};Z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};Z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};Z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function gy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function uo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}Q0.prototype.createWebChannel=Q0.prototype.g;$n.prototype.send=$n.prototype.u;$n.prototype.open=$n.prototype.m;$n.prototype.close=$n.prototype.close;Kh.NO_ERROR=0;Kh.TIMEOUT=8;Kh.HTTP_ERROR=6;X8.COMPLETE="complete";J8.EventType=Ic;Ic.OPEN="a";Ic.CLOSE="b";Ic.ERROR="c";Ic.MESSAGE="d";Ft.prototype.listen=Ft.prototype.O;ft.prototype.listenOnce=ft.prototype.P;ft.prototype.getLastError=ft.prototype.Sa;ft.prototype.getLastErrorCode=ft.prototype.Ia;ft.prototype.getStatus=ft.prototype.da;ft.prototype.getResponseJson=ft.prototype.Wa;ft.prototype.getResponseText=ft.prototype.ja;ft.prototype.send=ft.prototype.ha;ft.prototype.setWithCredentials=ft.prototype.Oa;yr.prototype.digest=yr.prototype.l;yr.prototype.reset=yr.prototype.reset;yr.prototype.update=yr.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=Rr;Oe.fromString=M_;var Vk=function(){return new Q0},Hk=function(){return Gh()},kf=Kh,Uk=X8,zk=Gs,xy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wk=Mc,Tu=J8,qk=ft,Gk=yr,Oo=Oe;const vy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Rm("@firebase/firestore");function yy(){return $s.logLevel}function se(t,...e){if($s.logLevel<=Me.DEBUG){const n=e.map(tg);$s.debug(`Firestore (${Da}): ${t}`,...n)}}function li(t,...e){if($s.logLevel<=Me.ERROR){const n=e.map(tg);$s.error(`Firestore (${Da}): ${t}`,...n)}}function ra(t,...e){if($s.logLevel<=Me.WARN){const n=e.map(tg);$s.warn(`Firestore (${Da}): ${t}`,...n)}}function tg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw li(e),new Error(e)}function Ze(t,e){t||de()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Q=class extends Ea{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P_=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Kk=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}},Qk=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Yk=class{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ei,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ei)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new P_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Gt(e)}},Zk=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},Xk=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Zk(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jk=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},eA=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.T=n.token,new Jk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class Xu{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xu.fromMillis(Date.now())}static fromDate(e){return Xu.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xu(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ve=class Ju{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ju(e)}static min(){return new Ju(new un(0,0))}static max(){return new Ju(new un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}let dt=class e0 extends fc{construct(e,n,r){return new e0(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new e0(n)}static emptyPath(){return new e0([])}};const nA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Br=class po extends fc{construct(e,n,r){return new po(e,n,r)}static isValidIdentifier(e){return nA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),po.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new po(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new po(n)}static emptyPath(){return new po([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(dt.fromString(e))}static fromName(e){return new ae(dt.fromString(e).popFirst(5))}static empty(){return new ae(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new dt(e.slice()))}}function rA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new Ui(i,ae.empty(),e)}function iA(t){return new Ui(t.readTime,t.key,-1)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(ve.min(),ae.empty(),-1)}static max(){return new Ui(ve.max(),ae.empty(),-1)}}function sA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==oA)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}ng.ct=-1;function nd(t){return t==null}function X0(t){return t===0&&1/t==-1/0}function lA(t){return typeof t=="number"&&Number.isInteger(t)&&!X0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Bi.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}let Iu=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bi=class Ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ur.RED,this.left=i??Ur.EMPTY,this.right=s??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}};Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1;Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Bi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pn=class Up{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Up)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Up(this.comparator);return n.data=e,n}},wy=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr=class zp{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new zp([])}unionWith(e){let n=new Pn(Br.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zp(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class Wp{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new B_("Invalid base64 string: "+i):i}}(e);return new Wp(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Wp(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};On.EMPTY_BYTE_STRING=new On("");const cA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=cA.exec(t);if(Ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rg(t){const e=t.mapValue.fields.__previous_value__;return rd(e)?rg(e):e}function pc(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uA=class{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},$_=class qp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qp&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rd(t)?4:hA(t)?9007199254740991:10:de()}function $r(t,e){if(t===e)return!0;const n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pc(t).isEqual(pc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zi(r.timestampValue),o=zi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Os(r.bytesValue).isEqual(Os(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return yt(r.geoPointValue.latitude)===yt(i.geoPointValue.latitude)&&yt(r.geoPointValue.longitude)===yt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return yt(r.integerValue)===yt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=yt(r.doubleValue),o=yt(i.doubleValue);return s===o?X0(s)===X0(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(_y(s)!==_y(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!$r(s[a],o[a])))return!1;return!0}(t,e);default:return de()}}function mc(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=Vs(t),r=Vs(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=yt(i.integerValue||i.doubleValue),a=yt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Cy(t.timestampValue,e.timestampValue);case 4:return Cy(pc(t),pc(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Os(i),a=Os(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Pe(o[l],a[l]);if(c!==0)return c}return Pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Pe(yt(i.latitude),yt(s.latitude));return o!==0?o:Pe(yt(i.longitude),yt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=sa(o[l],a[l]);if(c)return c}return Pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ru.mapValue&&s===Ru.mapValue)return 0;if(i===Ru.mapValue)return 1;if(s===Ru.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Pe(a[u],c[u]);if(d!==0)return d;const f=sa(o[a[u]],l[c[u]]);if(f!==0)return f}return Pe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw de()}}function Cy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=zi(t),r=zi(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function oa(t){return Gp(t)}function Gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ae.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Gp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Gp(r.fields[a])}`;return s+"}"}(t.mapValue):de();var e,n}function J0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kp(t){return!!t&&"integerValue"in t}function ig(t){return!!t&&"arrayValue"in t}function Ey(t){return!!t&&"nullValue"in t}function Sy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function t0(t){return!!t&&"mapValue"in t}function Al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!t0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=Br.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Al(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());t0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];t0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(Al(this.value))}}function O_(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new Br([n]);if(t0(r)){const s=O_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,ve.min(),ve.min(),ve.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,ve.min(),ve.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,ve.min(),ve.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.position=e,this.inclusive=n}}function by(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n="asc"){this.field=e,this.dir=n}}function dA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{}class Ct extends V_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pA(e,n,r):n==="array-contains"?new xA(e,r):n==="in"?new vA(e,r):n==="not-in"?new yA(e,r):n==="array-contains-any"?new _A(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mA(e,r):new gA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _r extends V_{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _r(e,n)}matches(e){return H_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function H_(t){return t.op==="and"}function U_(t){return fA(t)&&H_(t)}function fA(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Qp(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(U_(t))return t.filters.map(e=>Qp(e)).join(",");{const e=t.filters.map(n=>Qp(n)).join(",");return`${t.op}(${e})`}}function z_(t,e){return t instanceof Ct?function(n,r){return r instanceof Ct&&n.op===r.op&&n.field.isEqual(r.field)&&$r(n.value,r.value)}(t,e):t instanceof _r?function(n,r){return r instanceof _r&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&z_(s,r.filters[o]),!0):!1}(t,e):void de()}function W_(t){return t instanceof Ct?function(e){return`${e.field.canonicalString()} ${e.op} ${oa(e.value)}`}(t):t instanceof _r?function(e){return e.op.toString()+" {"+e.getFilters().map(W_).join(" ,")+"}"}(t):"Filter"}class pA extends Ct{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class mA extends Ct{constructor(e,n){super(e,"in",n),this.keys=q_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gA extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=q_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class xA extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&mc(n.arrayValue,this.value)}}class vA extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class yA extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!mc(this.value.arrayValue,n)}}class _A extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Ny(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wA(t,e,n,r,i,s,o)}function sg(t){const e=me(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.dt=n}return e.dt}function og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dy(t.startAt,e.startAt)&&Dy(t.endAt,e.endAt)}function Yp(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function CA(t,e,n,r,i,s,o,a){return new ns(t,e,n,r,i,s,o,a)}function id(t){return new ns(t)}function ky(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ag(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sd(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function lg(t){return t.collectionGroup!==null}function As(t){const e=me(t);if(e.wt===null){e.wt=[];const n=sd(e),r=ag(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Vo(n)),e.wt.push(new Vo(Br.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Vo(Br.keyField(),s))}}}return e.wt}function ci(t){const e=me(t);if(!e._t)if(e.limitType==="F")e._t=Ny(e.path,e.collectionGroup,As(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of As(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Vo(s.field,o))}const r=e.endAt?new aa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new aa(e.startAt.position,e.startAt.inclusive):null;e._t=Ny(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Zp(t,e){e.getFirstInequalityField(),sd(t);const n=t.filters.concat([e]);return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eh(t,e,n){return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function od(t,e){return og(ci(t),ci(e))&&t.limitType===e.limitType}function G_(t){return`${sg(ci(t))}|lt:${t.limitType}`}function Xp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>W_(r)).join(", ")}]`),nd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),`Target(${n})`}(ci(t))}; limitType=${t.limitType})`}function ad(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ae.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of As(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=by(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,As(n),r)||n.endAt&&!function(i,s,o){const a=by(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,As(n),r))}(t,e)}function EA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K_(t){return(e,n)=>{let r=!1;for(const i of As(t)){const s=SA(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SA(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?sa(a,l):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return L_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new at(ae.comparator);function ui(){return bA}const Q_=new at(ae.comparator);function ml(...t){let e=Q_;for(const n of t)e=e.insert(n.key,n);return e}function Y_(t){let e=Q_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return Tl()}function Z_(){return Tl()}function Tl(){return new Na(t=>t.toString(),(t,e)=>t.isEqual(e))}const DA=new at(ae.comparator),NA=new Pn(ae.comparator);function Ee(...t){let e=NA;for(const n of t)e=e.add(n);return e}const kA=new Pn(Pe);function AA(){return kA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X0(e)?"-0":e}}function J_(t){return{integerValue:""+t}}function TA(t,e){return lA(e)?J_(e):X_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function IA(t,e,n){return t instanceof gc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&rd(i)&&(i=rg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof la?tw(t,e):t instanceof xc?nw(t,e):function(r,i){const s=ew(r,i),o=Ay(s)+Ay(r.gt);return Kp(s)&&Kp(r.gt)?J_(o):X_(r.serializer,o)}(t,e)}function RA(t,e,n){return t instanceof la?tw(t,e):t instanceof xc?nw(t,e):n}function ew(t,e){return t instanceof th?Kp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class gc extends ld{}class la extends ld{constructor(e){super(),this.elements=e}}function tw(t,e){const n=rw(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class xc extends ld{constructor(e){super(),this.elements=e}}function nw(t,e){let n=rw(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class th extends ld{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Ay(t){return yt(t.integerValue||t.doubleValue)}function rw(t){return ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.field=e,this.transform=n}}function FA(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof la&&r instanceof la||n instanceof xc&&r instanceof xc?ia(n.elements,r.elements,$r):n instanceof th&&r instanceof th?$r(n.gt,r.gt):n instanceof gc&&r instanceof gc}(t.transform,e.transform)}class MA{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cd{}function sw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aw(t.key,pr.none()):new $c(t.key,t.data,pr.none());{const n=t.data,r=_n.empty();let i=new Pn(Br.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new rs(t.key,r,new Fr(i.toArray()),pr.none())}}function PA(t,e,n){t instanceof $c?function(r,i,s){const o=r.value.clone(),a=Iy(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof rs?function(r,i,s){if(!n0(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Iy(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ow(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n,r){return t instanceof $c?function(i,s,o,a){if(!n0(i.precondition,s))return o;const l=i.value.clone(),c=Ry(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof rs?function(i,s,o,a){if(!n0(i.precondition,s))return o;const l=Ry(i.fieldTransforms,a,s),c=s.data;return c.setAll(ow(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return n0(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function jA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ew(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function Ty(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ia(n,r,(i,s)=>FA(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends cd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rs extends cd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ow(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Iy(t,e,n){const r=new Map;Ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,RA(o,a,n[i]))}return r}function Ry(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,IA(s,o,e))}return r}class aw extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LA extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PA(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>Ty(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>Ty(n,r))}}class cg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ze(e.mutations.length===r.length);let i=DA;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,De;function VA(t){switch(t){default:return de();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function lw(t){if(t===void 0)return li("GRPC error has no .code"),B.UNKNOWN;switch(t){case xt.OK:return B.OK;case xt.CANCELLED:return B.CANCELLED;case xt.UNKNOWN:return B.UNKNOWN;case xt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case xt.INTERNAL:return B.INTERNAL;case xt.UNAVAILABLE:return B.UNAVAILABLE;case xt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case xt.NOT_FOUND:return B.NOT_FOUND;case xt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case xt.ABORTED:return B.ABORTED;case xt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case xt.DATA_LOSS:return B.DATA_LOSS;default:return de()}}(De=xt||(xt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fu}static getOrCreateInstance(){return Fu===null&&(Fu=new ug),Fu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new Oo([4294967295,4294967295],0);function Fy(t){const e=HA().encode(t),n=new Gk;return n.update(e),new Uint8Array(n.digest())}function My(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oo([n,r],0),new Oo([i,s],0)]}class hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Oo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Oo.fromNumber(r)));return i.compare(UA)===1&&(i=new Oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Fy(e),[r,i]=My(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Fy(e),[r,i]=My(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(ve.min(),i,new at(Pe),ui(),Ee())}}class Oc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class cw{constructor(e,n){this.targetId=e,this.Vt=n}}class uw{constructor(e,n,r=On.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Py{constructor(){this.St=0,this.Dt=Ly(),this.Ct=On.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ee(),n=Ee(),r=Ee();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Oc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Ly()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ui(),this.zt=jy(),this.Wt=new at(Pe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Yp(o))if(i===0){const a=new ae(o.path);this.Yt(r,a,Qt.newNoDocument(a,ve.min()))}else Ze(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=ug.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var f,m,g,y,w,v;const p={localCacheCount:u,existenceFilterCount:d.count},x=d.unchangedNames;return x&&(p.bloomFilter={applied:c===0,hashCount:(f=x==null?void 0:x.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(y=(g=(m=x==null?void 0:x.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0,padding:(v=(w=x==null?void 0:x.bits)===null||w===void 0?void 0:w.padding)!==null&&v!==void 0?v:0}),p}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=Os(s).toUint8Array()}catch(u){if(u instanceof B_)return ra("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new hg(l,o,a)}catch(u){return ra(u instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Yp(a.target)){const l=new ae(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Qt.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Ee();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ud(e,n,this.Wt,this.jt,r);return this.jt=ui(),this.zt=jy(),this.Wt=new at(Pe),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Py,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Pn(Pe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Py),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function jy(){return new at(ae.comparator)}function Ly(){return new at(ae.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},qA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GA={and:"AND",or:"OR"};class KA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jp(t,e){return t.useProto3Json||nd(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QA(t,e){return nh(t,e.toTimestamp())}function Lr(t){return Ze(!!t),ve.fromTimestamp(function(e){const n=zi(e);return new un(n.seconds,n.nanos)}(t))}function dg(t,e){return function(n){return new dt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function dw(t){const e=dt.fromString(t);return Ze(gw(e)),e}function e1(t,e){return dg(t.databaseId,e.path)}function Af(t,e){const n=dw(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(fw(n))}function t1(t,e){return dg(t.databaseId,e)}function YA(t){const e=dw(t);return e.length===4?dt.emptyPath():fw(e)}function n1(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fw(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function By(t,e,n){return{name:e1(t,e),fields:n.value.mapValue.fields}}function ZA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Ze(c===void 0||typeof c=="string"),On.fromBase64String(c||"")):(Ze(c===void 0||c instanceof Uint8Array),On.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?B.UNKNOWN:lw(l.code);return new Q(c,l.message||"")}(o);n=new uw(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Af(t,r.document.name),s=Lr(r.document.updateTime),o=r.document.createTime?Lr(r.document.createTime):ve.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new r0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Af(t,r.document),s=r.readTime?Lr(r.readTime):ve.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new r0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Af(t,r.document),s=r.removedTargetIds||[];n=new r0([],s,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new OA(i,s),a=r.targetId;n=new cw(a,o)}}return n}function XA(t,e){let n;if(e instanceof $c)n={update:By(t,e.key,e.value)};else if(e instanceof aw)n={delete:e1(t,e.key)};else if(e instanceof rs)n={update:By(t,e.key,e.data),updateMask:aT(e.fieldMask)};else{if(!(e instanceof LA))return de();n={verify:e1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof gc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof la)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof xc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof th)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:QA(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function JA(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Lr(r.updateTime):Lr(i);return s.isEqual(ve.min())&&(s=Lr(i)),new MA(s,r.transformResults||[])}(n,e))):[]}function eT(t,e){return{documents:[t1(t,e.path)]}}function tT(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=t1(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=t1(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return mw(_r.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:mo(u.field),direction:iT(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Jp(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function nT(t){let e=YA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ze(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const d=pw(u);return d instanceof _r&&U_(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new Vo(go(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,nd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,f=u.values||[];return new aa(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,f=u.values||[];return new aa(f,d)}(n.endAt)),CA(e,i,o,s,a,"F",l,c)}function rT(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pw(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=go(e.unaryFilter.field);return Ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=go(e.unaryFilter.field);return Ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=go(e.unaryFilter.field);return Ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=go(e.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(e){return Ct.create(go(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _r.create(e.compositeFilter.filters.map(n=>pw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return de()}}(e.compositeFilter.op))}(t):de()}function iT(t){return WA[t]}function sT(t){return qA[t]}function oT(t){return GA[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return Br.fromServerFormat(t.fieldPath)}function mw(t){return t instanceof Ct?function(e){if(e.op==="=="){if(Sy(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NAN"}};if(Ey(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Sy(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NAN"}};if(Ey(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(e.field),op:sT(e.op),value:e.value}}}(t):t instanceof _r?function(e){const n=e.getFilters().map(r=>mw(r));return n.length===1?n[0]:{compositeFilter:{op:oT(e.op),filters:n}}}(t):de()}function aT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,s=ve.min(),o=ve.min(),a=On.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.fe=e}}function cT(t){const e=nT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.rn=new hT}addToCollectionParentIndex(e,n){return this.rn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ui.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class hT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ca(0)}static Mn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.changes=new Na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Il(r.mutation,i,Fr.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ml();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ui();const o=Tl(),a=Tl();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof rs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Il(u.mutation,c,u.mutation.getFieldMask(),un.now())):o.set(c.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new fT(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let i=new at((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Fr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Z_();u.forEach(f=>{if(!s.has(f)){const m=sw(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Es());let a=-1,l=s;return o.next(c=>q.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?q.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ee())).next(u=>({batchId:a,changes:Y_(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ml();return this.indexManager.getCollectionParents(e,i).next(o=>q.forEach(o,a=>{const l=function(c,u){return new ns(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Qt.newInvalidDocument(c)))});let o=ml();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Il(c.mutation,l,Fr.empty(),un.now()),ad(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Lr(r.createTime)}),q.resolve()}getNamedQuery(e,n){return q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:cT(r.bundledQuery),readTime:Lr(r.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.overlays=new at(ae.comparator),this.ls=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new at((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Es(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return q.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $A(n,r));let s=this.ls.get(n);s===void 0&&(s=Ee(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.fs=new Pn(Nt.ds),this.ws=new Pn(Nt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Nt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ae(new dt([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ae(new dt([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=Ee();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ae.comparator(e.key,n.key)||Pe(e.As,n.As)}static _s(e,n){return Pe(e.As,n.As)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Pn(Nt.ds)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(Pe);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new ae(s),0);let a=new Pn(Pe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),q.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ze(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return q.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Rs.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.Ds=e,this.docs=new at(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ui();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||sA(iA(u),r)<=0||(i.has(u.key)||ad(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){de()}Cs(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yT(this)}getSize(e){return q.resolve(this.size)}}class yT extends dT{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.persistence=e,this.xs=new Na(n=>sg(n),og),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Ns=0,this.ks=new fg,this.targetCount=0,this.Ms=ca.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Fn(n),q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.$s={},this.overlays={},this.Os=new ng(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _T(this),this.indexManager=new uT,this.remoteDocumentCache=function(r){return new vT(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new lT(n),this.qs=new mT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new xT(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new CT(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class CT extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Qs=new fg,this.js=null}static zs(e){return new pg(e)}get Ws(){if(this.js)return this.js;throw de()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,r=>{const i=ae.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return q.or([()=>q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(ky(n))return q.resolve(null);let r=ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eh(n,null,"F"),r=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,eh(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return ky(n)||i.isEqual(ve.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(yy()<=Me.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xp(n)),this.Wi(e,o,n,rA(i,-1)))})}ji(e,n){let r=new Pn(K_(e));return n.forEach((i,s)=>{ad(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return yy()<=Me.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Xp(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ui.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new at(Pe),this.Yi=new Na(s=>sg(s),og),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function bT(t,e,n,r){return new ST(t,e,n,r)}async function xw(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ee();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function DT(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let f=q.resolve();return d.forEach(m=>{f=f.next(()=>c.getEntry(a,m)).next(g=>{const y=l.docVersions.get(m);Ze(y!==null),g.version.compareTo(y)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vw(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function NT(t,e){const n=me(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(On.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(d,m),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,u)&&a.push(n.Bs.updateTargetData(s,m))});let l=ui(),c=Ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(kT(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(ve.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function kT(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ui();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function AT(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TT(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function r1(t,e,n){const r=me(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bc(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function $y(t,e,n){const r=me(t);let i=ve.min(),s=Ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=me(a),d=u.Yi.get(c);return d!==void 0?q.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,o,ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:Ee())).next(a=>(IT(r,EA(e),a),{documents:a,ir:s})))}function IT(t,e,n){let r=t.Xi.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Oy{constructor(){this.activeTargetIds=AA()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RT{constructor(){this.Hr=new Oy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Oy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function Tf(){return Mu===null?Mu=268435456+Math.round(2147483648*Math.random()):Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class jT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Tf(),a=this.To(e,n);se("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(se("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ra("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=MT[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Tf();return new Promise((o,a)=>{const l=new qk;l.setWithCredentials(!0),l.listenOnce(Uk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kf.NO_ERROR:const u=l.getResponseJson();se(qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case kf.TIMEOUT:se(qt,`RPC '${e}' ${s} timed out`),a(new Q(B.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const d=l.getStatus();if(se(qt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(m.status);a(new Q(g,m.message))}else a(new Q(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(B.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{se(qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);se(qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=Tf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vk(),a=Hk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Wk({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");se(qt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,m=!1;const g=new PT({ro:w=>{m?se(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(se(qt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),se(qt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},oo:()=>d.close()}),y=(w,v,p)=>{w.listen(v,x=>{try{p(x)}catch(_){setTimeout(()=>{throw _},0)}})};return y(d,Tu.EventType.OPEN,()=>{m||se(qt,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Tu.EventType.CLOSE,()=>{m||(m=!0,se(qt,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(d,Tu.EventType.ERROR,w=>{m||(m=!0,ra(qt,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new Q(B.UNAVAILABLE,"The operation could not be completed")))}),y(d,Tu.EventType.MESSAGE,w=>{var v;if(!m){const p=w.data[0];Ze(!!p);const x=p,_=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(_){se(qt,`RPC '${e}' stream ${i} received error:`,_);const S=_.status;let C=function(D){const A=xt[D];if(A!==void 0)return lw(A)}(S),E=_.message;C===void 0&&(C=B.INTERNAL,E="Unknown error status: "+S+" with message "+_.message),m=!0,g.wo(new Q(C,E)),d.close()}else se(qt,`RPC '${e}' stream ${i} received:`,p),g._o(p)}}),y(a,zk.STAT_EVENT,w=>{w.stat===xy.PROXY?se(qt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===xy.NOPROXY&&se(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return new KA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new yw(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LT extends _w{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=ZA(this.serializer,e),r=function(i){if(!("targetChange"in i))return ve.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Lr(s.readTime):ve.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=n1(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Yp(a)?{documents:eT(i,a)}:{query:tT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=hw(i,s.resumeToken);const l=Jp(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ve.min())>0){o.readTime=nh(i,s.snapshotVersion.toTimestamp());const l=Jp(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=rT(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=n1(this.serializer),n.removeTarget=e,this.Wo(n)}}class BT extends _w{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=JA(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.cu(r,n)}return Ze(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=n1(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XA(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(B.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(B.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class OT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(li(n),this.mu=!1):se("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Qs(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=me(a);l.vu.add(4),await Vc(l),l.bu.set("Unknown"),l.vu.delete(4),await dd(l)}(this))})}),this.bu=new OT(r,i)}}async function dd(t){if(Qs(t))for(const e of t.Ru)await e(!0)}async function Vc(t){for(const e of t.Ru)await e(!1)}function ww(t,e){const n=me(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),vg(n)?xg(n):ka(n).Ko()&&gg(n,e))}function Cw(t,e){const n=me(t),r=ka(n);n.Au.delete(e),r.Ko()&&Ew(n,e),n.Au.size===0&&(r.Ko()?r.jo():Qs(n)&&n.bu.set("Unknown"))}function gg(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).su(e)}function Ew(t,e){t.Vu.qt(e),ka(t).iu(e)}function xg(t){t.Vu=new zA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.bu.gu()}function vg(t){return Qs(t)&&!ka(t).Uo()&&t.Au.size>0}function Qs(t){return me(t).vu.size===0}function Sw(t){t.Vu=void 0}async function HT(t){t.Au.forEach((e,n)=>{gg(t,e)})}async function UT(t,e){Sw(t),vg(t)?(t.bu.Iu(e),xg(t)):t.bu.set("Unknown")}async function zT(t,e,n){if(t.bu.set("Online"),e instanceof uw&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(t,r)}else if(e instanceof r0?t.Vu.Ht(e):e instanceof cw?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ve.min()))try{const r=await vw(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(On.EMPTY_BYTE_STRING,c.snapshotVersion)),Ew(i,a);const u=new Di(c.target,a,l,c.sequenceNumber);gg(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await rh(t,r)}}async function rh(t,e,n){if(!Bc(e))throw e;t.vu.add(1),await Vc(t),t.bu.set("Offline"),n||(n=()=>vw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await dd(t)})}function bw(t,e){return e().catch(n=>rh(t,n,e))}async function fd(t){const e=me(t),n=Wi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;WT(e);)try{const i=await AT(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,qT(e,i)}catch(i){await rh(e,i)}Dw(e)&&Nw(e)}function WT(t){return Qs(t)&&t.Eu.length<10}function qT(t,e){t.Eu.push(e);const n=Wi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Dw(t){return Qs(t)&&!Wi(t).Uo()&&t.Eu.length>0}function Nw(t){Wi(t).start()}async function GT(t){Wi(t).hu()}async function KT(t){const e=Wi(t);for(const n of t.Eu)e.uu(n.mutations)}async function QT(t,e,n){const r=t.Eu.shift(),i=cg.from(r,e,n);await bw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fd(t)}async function YT(t,e){e&&Wi(t).ou&&await async function(n,r){if(i=r.code,VA(i)&&i!==B.ABORTED){const s=n.Eu.shift();Wi(n).Qo(),await bw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await fd(n)}var i}(t,e),Dw(t)&&Nw(t)}async function Hy(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Qs(n);n.vu.add(3),await Vc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await dd(n)}async function ZT(t,e){const n=me(t);e?(n.vu.delete(2),await dd(n)):e||(n.vu.add(2),await Vc(n),n.bu.set("Unknown"))}function ka(t){return t.Su||(t.Su=function(e,n,r){const i=me(e);return i.fu(),new LT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:HT.bind(null,t),ao:UT.bind(null,t),nu:zT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),vg(t)?xg(t):t.bu.set("Unknown")):(await t.Su.stop(),Sw(t))})),t.Su}function Wi(t){return t.Du||(t.Du=function(e,n,r){const i=me(e);return i.fu(),new BT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:GT.bind(null,t),ao:YT.bind(null,t),au:KT.bind(null,t),cu:QT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await fd(t)):(await t.Du.stop(),t.Eu.length>0&&(se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(t,e){if(li("AsyncQueue",`${e}: ${t}`),Bc(t))return new Q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=ml(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.Cu=new at(ae.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):de():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Ho.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.Nu=void 0,this.listeners=[]}}class JT{constructor(){this.queries=new Na(e=>G_(e),od),this.onlineState="Unknown",this.ku=new Set}}async function wg(t,e){const n=me(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new XT),i)try{s.Nu=await n.onListen(r)}catch(o){const a=_g(o,`Initialization of query '${Xp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Eg(n)}async function Cg(t,e){const n=me(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function eI(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Eg(n)}function tI(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Eg(t){t.ku.forEach(e=>{e.next()})}class Sg{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class nI{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ee(),this.mutatedKeys=Ee(),this.tc=K_(e),this.ec=new Ho(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Uy,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),m=ad(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;f&&m?f.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),w=!0):this.rc(f,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.tc(m,l)>0||c&&this.tc(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),w=!0):f&&!m&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(m?(o=o.add(m),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,f){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return m(d)-m(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new ua(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Uy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Aw(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kw(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ua.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class rI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iI{constructor(e){this.key=e,this.fc=!1}}class sI{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Na(a=>G_(a),od),this._c=new Map,this.mc=new Set,this.gc=new at(ae.comparator),this.yc=new Map,this.Ic=new fg,this.Tc={},this.Ec=new Map,this.Ac=ca.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function oI(t,e){const n=gI(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await TT(n.localStore,ci(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await aI(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&ww(n.remoteStore,o)}return i}async function aI(t,e,n,r,i){t.Rc=(d,f,m)=>async function(g,y,w,v){let p=y.view.sc(w);p.zi&&(p=await $y(g.localStore,y.query,!1).then(({documents:S})=>y.view.sc(S,p)));const x=v&&v.targetChanges.get(y.targetId),_=y.view.applyChanges(p,g.isPrimaryClient,x);return Wy(g,y.targetId,_.cc),_.snapshot}(t,d,f,m);const s=await $y(t.localStore,e,!0),o=new nI(e,s.ir),a=o.sc(s.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Wy(t,n,c.cc);const u=new rI(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function lI(t,e){const n=me(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!od(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await r1(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cw(n.remoteStore,r.targetId),i1(n,r.targetId)}).catch(Lc)):(i1(n,r.targetId),await r1(n.localStore,r.targetId,!0))}async function cI(t,e,n){const r=xI(t);try{const i=await function(s,o){const a=me(s),l=un.now(),c=o.reduce((f,m)=>f.add(m.key),Ee());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ui(),g=Ee();return a.Zi.getEntries(f,c).next(y=>{m=y,m.forEach((w,v)=>{v.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(y=>{u=y;const w=[];for(const v of o){const p=jA(v,u.get(v.key).overlayedDocument);p!=null&&w.push(new rs(v.key,p,O_(p.value.mapValue),pr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,w,o)}).next(y=>{d=y;const w=y.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(f,y.batchId,w)})}).then(()=>({batchId:d.batchId,changes:Y_(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new at(Pe)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Hc(r,i.changes),await fd(r.remoteStore)}catch(i){const s=_g(i,"Failed to persist write");n.reject(s)}}async function Tw(t,e){const n=me(t);try{const r=await NT(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Ze(o.fc):i.removedDocuments.size>0&&(Ze(o.fc),o.fc=!1))}),await Hc(n,r,e)}catch(r){await Lc(r)}}function zy(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=me(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&Eg(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uI(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new at(ae.comparator);o=o.insert(s,Qt.newNoDocument(s,ve.min()));const a=Ee().add(s),l=new ud(ve.min(),new Map,new at(Pe),o,a);await Tw(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),bg(r)}else await r1(r.localStore,e,!1).then(()=>i1(r,e,n)).catch(Lc)}async function hI(t,e){const n=me(t),r=e.batch.batchId;try{const i=await DT(n.localStore,e);Rw(n,r,null),Iw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,i)}catch(i){await Lc(i)}}async function dI(t,e,n){const r=me(t);try{const i=await function(s,o){const a=me(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ze(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);Rw(r,e,n),Iw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,i)}catch(i){await Lc(i)}}function Iw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Rw(t,e,n){const r=me(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function i1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Fw(t,r)})}function Fw(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Cw(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),bg(t))}function Wy(t,e,n){for(const r of n)r instanceof kw?(t.Ic.addReference(r.key,e),fI(t,r)):r instanceof Aw?(se("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Fw(t,r.key)):de()}function fI(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(se("SyncEngine","New document in limbo: "+n),t.mc.add(r),bg(t))}function bg(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ae(dt.fromString(e)),r=t.Ac.next();t.yc.set(r,new iI(n)),t.gc=t.gc.insert(n,r),ww(t.remoteStore,new Di(ci(id(n.path)),r,"TargetPurposeLimboResolution",ng.ct))}}async function Hc(t,e,n){const r=me(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=mg.Li(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const c=me(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>q.forEach(l,d=>q.forEach(d.Fi,f=>c.persistence.referenceDelegate.addReference(u,d.targetId,f)).next(()=>q.forEach(d.Bi,f=>c.persistence.referenceDelegate.removeReference(u,d.targetId,f)))))}catch(u){if(!Bc(u))throw u;se("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const f=c.Ji.get(d),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);c.Ji=c.Ji.insert(d,g)}}}(r.localStore,s))}async function pI(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await xw(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Q(B.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.er)}}function mI(t,e){const n=me(t),r=n.yc.get(e);if(r&&r.fc)return Ee().add(r.key);{let i=Ee();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function gI(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uI.bind(null,e),e.dc.nu=eI.bind(null,e.eventManager),e.dc.Pc=tI.bind(null,e.eventManager),e}function xI(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dI.bind(null,e),e}class qy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bT(this.persistence,new ET,e.initialUser,this.serializer)}createPersistence(e){return new wT(pg.zs,this.serializer)}createSharedClientState(e){return new RT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pI.bind(null,this.syncEngine),await ZT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new JT}createDatastore(e){const n=hd(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new jT(i));var i;return function(s,o,a,l){return new $T(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>zy(this.syncEngine,a,0),o=Vy.D()?new Vy:new FT,new VT(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new sI(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=me(e);se("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Vc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=j_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_g(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rf(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wI(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Hy(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Hy(e.remoteStore,s)),t._onlineComponents=e}function _I(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function wI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_I(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Rf(t,new qy)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Rf(t,new qy);return t._offlineComponents}async function Mw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await Gy(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await Gy(t,new vI))),t._onlineComponents}function CI(t){return Mw(t).then(e=>e.syncEngine)}async function ih(t){const e=await Mw(t),n=e.eventManager;return n.onListen=oI.bind(null,e.syncEngine),n.onUnlisten=lI.bind(null,e.syncEngine),n}function EI(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Dg({next:d=>{s.enqueueAndForget(()=>Cg(i,u));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new Q(B.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new Q(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new Sg(id(o.path),c,{includeMetadataChanges:!0,Ku:!0});return wg(i,u)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}function SI(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Dg({next:d=>{s.enqueueAndForget(()=>Cg(i,u)),d.fromCache&&a.source==="server"?l.reject(new Q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new Sg(o,c,{includeMetadataChanges:!0,Ku:!0});return wg(i,u)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e,n){if(!n)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bI(t,e,n,r){if(e===!0&&r===!0)throw new Q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qy(t){if(!ae.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yy(t){if(ae.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pd(t);throw new Q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lw(t,e){if(e<=0)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class md{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Kk;switch(n.type){case"firstParty":return new Xk(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ky.get(e);n&&(se("ComponentProvider","Removing Datastore"),Ky.delete(e),n.terminate())}(this),Promise.resolve()}}function DI(t,e,n,r={}){var i;const s=(t=jn(t,md))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Gt.MOCK_USER;else{a=w8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gt(c)}t._authCredentials=new Qk(new P_(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class wr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wr(this.firestore,e,this._query)}}class $i extends wr{constructor(e,n,r){super(e,n,id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ae(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function Re(t,e,...n){if(t=Nn(t),jw("collection","path",e),t instanceof md){const r=dt.fromString(e,...n);return Yy(r),new $i(t,null,r)}{if(!(t instanceof tn||t instanceof $i))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return Yy(r),new $i(t.firestore,null,r)}}function rt(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=j_.A()),jw("doc","path",e),t instanceof md){const r=dt.fromString(e,...n);return Qy(r),new tn(t,null,new ae(r))}{if(!(t instanceof tn||t instanceof $i))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return Qy(r),new tn(t.firestore,t instanceof $i?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new yw(this,"async_queue_retry"),this.Xc=()=>{const n=If();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=If();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=If();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ei;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Bc(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw li("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=yg.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&de()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Xy(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class qi extends md{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new NI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bw(this),this._firestoreClient.terminate()}}function kI(t,e){const n=typeof t=="object"?t:I8(),r=typeof t=="string"?t:"(default)",i=k8(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=y8("firestore");s&&DI(i,...s)}return i}function gd(t){return t._firestoreClient||Bw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Bw(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new uA(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Pw(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new yI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(On.fromBase64String(e))}catch(n){throw new Q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ha(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^__.*__$/;class TI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class $w{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ow(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class vd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return sh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Ow(this.ca)&&AI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class II{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hd(e)}ya(e,n,r,i=!1){return new vd({ca:e,methodName:n,ga:r,path:Br.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zc(t){const e=t._freezeSettings(),n=hd(t._databaseId);return new II(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vw(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Ag("Data must be an object, but it was:",o,r);const a=Uw(r,o);let l,c;if(s.merge)l=new Fr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=s1(e,d,n);if(!o.contains(f))throw new Q(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ww(u,f)||u.push(f)}l=new Fr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new TI(new _n(a),l,c)}class yd extends Uc{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}function RI(t,e,n){return new vd({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kg extends Uc{_toFieldTransform(e){return new iw(e.path,new gc)}isEqual(e){return e instanceof kg}}class FI extends Uc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=RI(this,e,!0),r=this.pa.map(s=>Aa(s,n)),i=new la(r);return new iw(e.path,i)}isEqual(e){return this===e}}function MI(t,e,n,r){const i=t.ya(1,e,n);Ag("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();Ks(r,(l,c)=>{const u=Tg(e,l,n);c=Nn(c);const d=i.da(u);if(c instanceof yd)s.push(u);else{const f=Aa(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new Fr(s);return new $w(o,a,i.fieldTransforms)}function PI(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[s1(e,r,n)],l=[i];if(s.length%2!=0)throw new Q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(s1(e,s[f])),l.push(s[f+1]);const c=[],u=_n.empty();for(let f=a.length-1;f>=0;--f)if(!Ww(c,a[f])){const m=a[f];let g=l[f];g=Nn(g);const y=o.da(m);if(g instanceof yd)c.push(m);else{const w=Aa(g,y);w!=null&&(c.push(m),u.set(m,w))}}const d=new Fr(c);return new $w(u,d,o.fieldTransforms)}function Hw(t,e,n,r=!1){return Aa(n,t.ya(r?4:3,e))}function Aa(t,e){if(zw(t=Nn(t)))return Ag("Unsupported field value:",e,t),Uw(t,e);if(t instanceof Uc)return function(n,r){if(!Ow(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Aa(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Nn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return TA(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=un.fromDate(n);return{timestampValue:nh(r.serializer,i)}}if(n instanceof un){const i=new un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nh(r.serializer,i)}}if(n instanceof Ng)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ha)return{bytesValue:hw(r.serializer,n._byteString)};if(n instanceof tn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${pd(n)}`)}(t,e)}function Uw(t,e){const n={};return L_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const s=Aa(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof Ng||t instanceof ha||t instanceof tn||t instanceof Uc)}function Ag(t,e,n){if(!zw(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=pd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function s1(t,e,n){if((e=Nn(e))instanceof xd)return e._internalPath;if(typeof e=="string")return Tg(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}const jI=new RegExp("[~\\*/\\[\\]]");function Tg(t,e,n){if(e.search(jI)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(B.INVALID_ARGUMENT,a+t+l)}function Ww(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LI extends Ig{data(){return super.data()}}function _d(t,e){return typeof e=="string"?Tg(t,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Wc extends Rg{}function nn(t,e,...n){let r=[];e instanceof Rg&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Fg).length,o=i.filter(a=>a instanceof wd).length;if(s>1||s>0&&o>0)throw new Q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class wd extends Wc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wd(e,n,r)}_apply(e){const n=this._parse(e);return Kw(e._query,n),new wr(e.firestore,e.converter,Zp(e._query,n))}_parse(e){const n=zc(e.firestore);return function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){e4(u,c);const f=[];for(const m of u)f.push(Jy(a,i,m));d={arrayValue:{values:f}}}else d=Jy(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||e4(u,c),d=Hw(o,s,u,c==="in"||c==="not-in");return Ct.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function K(t,e,n){const r=e,i=_d("where",t);return wd._create(i,r,n)}class Fg extends Rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Kw(s,a),s=Zp(s,a)}(e._query,n),new wr(e.firestore,e.converter,Zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends Wc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mg(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Q(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Q(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Vo(i,s);return function(a,l){if(ag(a)===null){const c=sd(a);c!==null&&Qw(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new wr(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ns(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function mr(t,e="asc"){const n=e,r=_d("orderBy",t);return Mg._create(r,n)}class Cd extends Wc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Cd(e,n,r)}_apply(e){return new wr(e.firestore,e.converter,eh(e._query,this._limit,this._limitType))}}function Or(t){return Lw("limit",t),Cd._create("limit",t,"F")}function BI(t){return Lw("limitToLast",t),Cd._create("limitToLast",t,"L")}class Pg extends Wc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Pg(e,n,r)}_apply(e){const n=Gw(e,this.type,this._docOrFields,this._inclusive);return new wr(e.firestore,e.converter,function(r,i){return new ns(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function $I(...t){return Pg._create("startAfter",t,!1)}class jg extends Wc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new jg(e,n,r)}_apply(e){const n=Gw(e,this.type,this._docOrFields,this._inclusive);return new wr(e.firestore,e.converter,function(r,i){return new ns(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function OI(...t){return jg._create("endBefore",t,!1)}function Gw(t,e,n,r){if(n[0]=Nn(n[0]),n[0]instanceof Ig)return function(i,s,o,a,l){if(!a)throw new Q(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of As(i))if(u.field.isKeyField())c.push(J0(s,a.key));else{const d=a.data.field(u.field);if(rd(d))throw new Q(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=u.field.canonicalString();throw new Q(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(d)}return new aa(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=zc(t.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new Q(B.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let m=0;m<c.length;m++){const g=c[m];if(d[m].field.isKeyField()){if(typeof g!="string")throw new Q(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!lg(s)&&g.indexOf("/")!==-1)throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);const y=s.path.child(dt.fromString(g));if(!ae.isDocumentKey(y))throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const w=new ae(y);f.push(J0(o,w))}else{const y=Hw(a,l,g);f.push(y)}}return new aa(f,u)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Jy(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new Q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lg(e)&&n.indexOf("/")!==-1)throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ae.isDocumentKey(r))throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return J0(t,new ae(r))}if(n instanceof tn)return J0(t,n._key);throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pd(n)}.`)}function e4(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kw(t,e){if(e.isInequality()){const r=sd(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Q(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=ag(t);s!==null&&Qw(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Qw(t,e,n){if(!n.isEqual(e))throw new Q(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class VI{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ng(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const n=zi(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);Ze(gw(r));const i=new $_(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zw extends Ig{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new i0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_d("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class i0 extends Zw{data(e={}){return super.data(e)}}class Xw{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new i0(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new i0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new i0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:HI(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){t=jn(t,tn);const e=jn(t.firestore,qi);return EI(gd(e),t._key).then(n=>Jw(e,t,n))}class Lg extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Xe(t){t=jn(t,wr);const e=jn(t.firestore,qi),n=gd(e),r=new Lg(e);return qw(t._query),SI(n,t._query).then(i=>new Xw(e,r,t,i))}function UI(t,e,n){t=jn(t,tn);const r=jn(t.firestore,qi),i=Yw(t.converter,e);return $g(r,[Vw(zc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pr.none())])}function Bg(t,e,n,...r){t=jn(t,tn);const i=jn(t.firestore,qi),s=zc(i);let o;return o=typeof(e=Nn(e))=="string"||e instanceof xd?PI(s,"updateDoc",t._key,e,n,r):MI(s,"updateDoc",t._key,e),$g(i,[o.toMutation(t._key,pr.exists(!0))])}function zI(t,e){const n=jn(t.firestore,qi),r=rt(t),i=Yw(t.converter,e);return $g(n,[Vw(zc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function qc(t,...e){var n,r,i;t=Nn(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Xy(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Xy(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof tn)c=jn(t.firestore,qi),u=id(t._key.path),l={next:d=>{e[o]&&e[o](Jw(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=jn(t,wr);c=jn(d.firestore,qi),u=d._query;const f=new Lg(c);l={next:m=>{e[o]&&e[o](new Xw(c,f,d,m))},error:e[o+1],complete:e[o+2]},qw(t._query)}return function(d,f,m,g){const y=new Dg(g),w=new Sg(f,y,m);return d.asyncQueue.enqueueAndForget(async()=>wg(await ih(d),w)),()=>{y.Dc(),d.asyncQueue.enqueueAndForget(async()=>Cg(await ih(d),w))}}(gd(c),u,a,l)}function $g(t,e){return function(n,r){const i=new ei;return n.asyncQueue.enqueueAndForget(async()=>cI(await CI(n),r,i)),i.promise}(gd(t),e)}function Jw(t,e,n){const r=n.docs.get(e._key),i=new Lg(t);return new Zw(t,i,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}function t4(){return new kg("serverTimestamp")}function WI(...t){return new FI("arrayUnion",t)}(function(t,e=!0){(function(n){Da=n})(A8),rc(new ta("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qi(new Yk(n.getProvider("auth-internal")),new eA(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $_(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Li(vy,"3.13.0",t),Li(vy,"3.13.0","esm2017")})();var qI="firebase",GI="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(qI,GI,"app");var n4={};const r4="@firebase/database",i4="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e9="";function KI(t){e9=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$t(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return fi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QI(e)}}catch{}return new YI},Ss=t9("localStorage"),ZI=t9("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Rm("@firebase/database"),XI=function(){let t=1;return function(){return t++}}(),n9=function(t){const e=MD(t),n=new RD;n.update(e);const r=n.digest();return Tm.encodeByteArray(r)},Gc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Gc.apply(null,r):typeof r=="object"?e+=$t(r):e+=r,e+=" "}return e};let Rl=null,s4=!0;const JI=function(t,e){Y(!e,"Can't turn on custom loggers persistently."),Uo.logLevel=Me.VERBOSE,Rl=Uo.log.bind(Uo)},Yt=function(...t){if(s4===!0&&(s4=!1,Rl===null&&ZI.get("logging_enabled")===!0&&JI()),Rl){const e=Gc.apply(null,t);Rl(e)}},Kc=function(t){return function(...e){Yt(t,...e)}},o1=function(...t){const e="FIREBASE INTERNAL ERROR: "+Gc(...t);Uo.error(e)},hi=function(...t){const e=`FIREBASE FATAL ERROR: ${Gc(...t)}`;throw Uo.error(e),new Error(e)},Ln=function(...t){const e="FIREBASE WARNING: "+Gc(...t);Uo.warn(e)},eR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},r9=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},da="[MIN_NAME]",Hs="[MAX_NAME]",Ta=function(t,e){if(t===e)return 0;if(t===da||e===Hs)return-1;if(e===da||t===Hs)return 1;{const n=o4(t),r=o4(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nR=function(t,e){return t===e?0:t<e?-1:1},il=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$t(e))},Og=function(t){if(typeof t!="object"||t===null)return $t(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$t(e[r]),n+=":",n+=Og(t[e[r]]);return n+="}",n},i9=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function er(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const s9=function(t){Y(!r9(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},rR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},sR=new RegExp("^-?(0*)\\d{1,10}$"),oR=-2147483648,aR=2147483647,o4=function(t){if(sR.test(t)){const e=Number(t);if(e>=oR&&e<=aR)return e}return null},Qc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ln("Exception was thrown by user callback.",n),e},Math.floor(0))}},lR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ln(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ln(e)}}class s0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}s0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="5",o9="v",a9="s",l9="r",c9="f",u9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,h9="ls",d9="p",a1="ac",f9="websocket",p9="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ss.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ss.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function hR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function g9(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let r;if(e===f9)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===p9)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hR(t)&&(n.ns=t.namespace);const i=[];return er(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.counters_={}}incrementCounter(e,n=1){fi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff={},Mf={};function Hg(t){const e=t.toString();return Ff[e]||(Ff[e]=new dR),Ff[e]}function fR(t,e){const n=t.toString();return Mf[n]||(Mf[n]=e()),Mf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="start",mR="close",gR="pLPCommand",xR="pRTLPCB",x9="id",v9="pw",y9="ser",vR="cb",yR="seg",_R="ts",wR="d",CR="dframe",_9=1870,w9=30,ER=_9-w9,SR=25e3,bR=3e4;class To{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kc(e),this.stats_=Hg(n),this.urlFn=l=>(this.appCheckToken&&(l[a1]=this.appCheckToken),g9(n,p9,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bR)),tR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ug((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===a4)this.id=a,this.password=l;else if(o===mR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[a4]="t",r[y9]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[o9]=Vg,this.transportSessionId&&(r[a9]=this.transportSessionId),this.lastSessionId&&(r[h9]=this.lastSessionId),this.applicationId&&(r[d9]=this.applicationId),this.appCheckToken&&(r[a1]=this.appCheckToken),typeof location<"u"&&location.hostname&&u9.test(location.hostname)&&(r[l9]=c9);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){To.forceAllow_=!0}static forceDisallow(){To.forceDisallow_=!0}static isAvailable(){return To.forceAllow_?!0:!To.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rR()&&!iR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=$t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=g8(n),i=i9(r,ER);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[CR]="t",r[x9]=e,r[v9]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=$t(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ug{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XI(),window[gR+this.uniqueCallbackIdentifier]=e,window[xR+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ug.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Yt("frame writing exception"),a.stack&&Yt(a.stack),Yt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[x9]=this.myID,e[v9]=this.myPW,e[y9]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+w9+r.length<=_9;){const o=this.pendingSegs.shift();r=r+"&"+yR+i+"="+o.seg+"&"+_R+i+"="+o.ts+"&"+wR+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(SR)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=16384,NR=45e3;let oh=null;typeof MozWebSocket<"u"?oh=MozWebSocket:typeof WebSocket<"u"&&(oh=WebSocket);class cr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kc(this.connId),this.stats_=Hg(n),this.connURL=cr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[o9]=Vg,typeof location<"u"&&location.hostname&&u9.test(location.hostname)&&(o[l9]=c9),n&&(o[a9]=n),r&&(o[h9]=r),i&&(o[a1]=i),s&&(o[d9]=s),g9(e,f9,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ss.set("previous_websocket_failure",!0);try{let r;E8(),this.mySock=new oh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){cr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&oh!==null&&!cr.forceDisallow_}static previouslyFailed(){return Ss.isInMemoryStorage||Ss.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ss.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=nc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=$t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=i9(n,DR);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(NR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}cr.responsesRequiredToBeHealthy=2;cr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[To,cr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=cr&&cr.isAvailable();let r=n&&!cr.previouslyFailed();if(e.webSocketOnly&&(n||Ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[cr];else{const i=this.transports_=[];for(const s of vc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);vc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=6e4,AR=5e3,TR=10*1024,IR=100*1024,Pf="t",l4="d",RR="s",c4="r",FR="e",u4="o",h4="a",d4="n",f4="p",MR="h";class PR{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kc("c:"+this.id+":"),this.transportManager_=new vc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>IR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pf in e){const n=e[Pf];n===h4?this.upgradeIfSecondaryHealthy_():n===c4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===u4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=il("t",e),r=il("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:f4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:h4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=il("t",e),r=il("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=il(Pf,e);if(l4 in e){const r=e[l4];if(n===MR){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===d4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===RR?this.onConnectionShutdown_(r):n===c4?this.onReset_(r):n===FR?o1("Server Error: "+r):n===u4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):o1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vg!==r&&Ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:f4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ss.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends E9{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!C8()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ah}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=32,m4=768;class Je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function He(){return new Je("")}function Ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gi(t){return t.pieces_.length-t.pieceNum_}function Ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function S9(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function b9(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function D9(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function It(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function Yn(t,e){const n=Ne(t),r=Ne(e);if(n===null)return e;if(n===r)return Yn(Ke(t),Ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function N9(t,e){if(Gi(t)!==Gi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ur(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Gi(t)>Gi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class LR{constructor(e,n){this.errorPrefix_=n,this.parts_=b9(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Bh(this.parts_[r]);k9(this)}}function BR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Bh(e),k9(t)}function $R(t){const e=t.parts_.pop();t.byteLength_-=Bh(e),t.parts_.length>0&&(t.byteLength_-=1)}function k9(t){if(t.byteLength_>m4)throw new Error(t.errorPrefix_+"has a key path longer than "+m4+" bytes ("+t.byteLength_+").");if(t.parts_.length>p4)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+p4+") or object contains a cycle "+ps(t))}function ps(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends E9{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zg}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=1e3,OR=60*5*1e3,g4=30*1e3,VR=1.3,HR=3e4,UR="server_kill",x4=3;class ti extends C9{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ti.nextPersistentConnectionId_++,this.log_=Kc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sl,this.maxReconnectDelay_=OR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!E8())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ah.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_($t(s)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Im,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;ti.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&fi(e,"w")){const r=ea(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ln(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=g4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=AD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$t(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):o1("Unrecognized action received from server: "+$t(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HR&&(this.reconnectDelay_=sl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ti.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Y(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Yt("getToken() completed but was canceled"):(Yt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new PR(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Ln(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(UR)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ln(d),l())}}}interrupt(e){Yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qv(this.interruptReasons_)&&(this.reconnectDelay_=sl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Og(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Je(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=x4&&(this.reconnectDelay_=g4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=x4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+e9.replace(/\./g,"-")]=1,C8()?e["framework.cordova"]=1:ED()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ah.getInstance().currentlyOnline();return Qv(this.interruptReasons_)&&e}}ti.nextPersistentConnectionId_=0;ti.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ke(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ke(da,e),i=new ke(da,n);return this.compare(r,i)!==0}minPost(){return ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;class A9 extends Ed{static get __EMPTY_NODE(){return Pu}static set __EMPTY_NODE(e){Pu=e}compare(e,n){return Ta(e.name,n.name)}isDefinedOn(e){throw Ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ke.MIN}maxPost(){return new ke(Hs,Pu)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ke(e,Pu)}toString(){return".key"}}const zo=new A9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??Cn.EMPTY_NODE,this.right=s??Cn.EMPTY_NODE}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Cn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}At.RED=!0;At.BLACK=!1;class zR{copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Cn{constructor(e,n=Cn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Cn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))}remove(e){return new Cn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ju(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ju(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ju(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ju(this.root_,null,this.comparator_,!0,e)}}Cn.EMPTY_NODE=new zR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e){return Ta(t.name,e.name)}function Wg(t,e){return Ta(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1;function qR(t){l1=t}const T9=function(t){return typeof t=="number"?"number:"+s9(t):"string:"+t},I9=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fi(e,".sv"),"Priority must be a string or number.")}else Y(t===l1||t.isEmpty(),"priority of unexpected type.");Y(t===l1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v4;class Dt{constructor(e,n=Dt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),I9(this.priorityNode_)}static set __childrenNodeConstructor(e){v4=e}static get __childrenNodeConstructor(){return v4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Dt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Ne(e)===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Dt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||Gi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Dt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+T9(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=s9(this.value_):e+=this.value_,this.lazyHash_=n9(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Dt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Dt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Dt.VALUE_TYPE_ORDER.indexOf(n),s=Dt.VALUE_TYPE_ORDER.indexOf(r);return Y(i>=0,"Unknown leaf type: "+n),Y(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Dt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R9,F9;function GR(t){R9=t}function KR(t){F9=t}class QR extends Ed{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ta(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(Hs,new Dt("[PRIORITY-POST]",F9))}makePost(e,n){const r=R9(e);return new ke(n,new Dt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Xt=new QR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=Math.log(2);class ZR{constructor(e){const n=s=>parseInt(Math.log(s)/YR,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lh=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new At(f,d.node,At.BLACK,null,null);{const m=parseInt(u/2,10)+l,g=i(l,m),y=i(m+1,c);return d=t[m],f=n?n(d):d,new At(f,d.node,At.BLACK,g,y)}},s=function(l){let c=null,u=null,d=t.length;const f=function(g,y){const w=d-g,v=d;d-=g;const p=i(w+1,v),x=t[w],_=n?n(x):x;m(new At(_,x.node,y,null,p))},m=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const y=l.nextBitIsOne(),w=Math.pow(2,l.count-(g+1));y?f(w,At.BLACK):(f(w,At.BLACK),f(w,At.RED))}return u},o=new ZR(t.length),a=s(o);return new Cn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf;const ho={};class Zr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Y(ho&&Xt,"ChildrenNode.ts has not been loaded"),jf=jf||new Zr({".priority":ho},{".priority":Xt}),jf}get(e){const n=ea(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Cn?n:null}hasIndex(e){return fi(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==zo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ke.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=lh(r,e.getCompare()):a=ho;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Zr(u,c)}addToIndexes(e,n){const r=U0(this.indexes_,(i,s)=>{const o=ea(this.indexSet_,s);if(Y(o,"Missing index implementation for "+s),i===ho)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ke.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),lh(a,o.getCompare())}else return ho;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ke(e.name,a))),l.insert(e,e.node)}});return new Zr(r,this.indexSet_)}removeFromIndexes(e,n){const r=U0(this.indexes_,i=>{if(i===ho)return i;{const s=n.get(e.name);return s?i.remove(new ke(e.name,s)):i}});return new Zr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol;class Le{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&I9(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ol||(ol=new Le(new Cn(Wg),null,Zr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ol}updatePriority(e){return this.children_.isEmpty()?this:new Le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ol:n}}getChild(e){const n=Ne(e);return n===null?this:this.getImmediateChild(n).getChild(Ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ke(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ol:this.priorityNode_;return new Le(i,o,s)}}updateChild(e,n){const r=Ne(e);if(r===null)return n;{Y(Ne(e)!==".priority"||Gi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ke(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Xt,(o,a)=>{n[o]=a.val(e),r++,s&&Le.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+T9(this.getPriority().val())+":"),this.forEachChild(Xt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":n9(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ke(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ke(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ke(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ke.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yc?-1:0}withIndex(e){if(e===zo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Xt),i=n.getIterator(Xt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===zo?null:this.indexMap_.get(e.toString())}}Le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XR extends Le{constructor(){super(new Cn(Wg),Le.EMPTY_NODE,Zr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Le.EMPTY_NODE}isEmpty(){return!1}}const Yc=new XR;Object.defineProperties(ke,{MIN:{value:new ke(da,Le.EMPTY_NODE)},MAX:{value:new ke(Hs,Yc)}});A9.__EMPTY_NODE=Le.EMPTY_NODE;Dt.__childrenNodeConstructor=Le;qR(Yc);KR(Yc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=!0;function Zt(t,e=null){if(t===null)return Le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Dt(n,Zt(e))}if(!(t instanceof Array)&&JR){const n=[];let r=!1;if(er(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Zt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ke(o,l)))}}),n.length===0)return Le.EMPTY_NODE;const s=lh(n,WR,o=>o.name,Wg);if(r){const o=lh(n,Xt.getCompare());return new Le(s,Zt(e),new Zr({".priority":o},{".priority":Xt}))}else return new Le(s,Zt(e),Zr.Default)}else{let n=Le.EMPTY_NODE;return er(t,(r,i)=>{if(fi(t,r)&&r.substring(0,1)!=="."){const s=Zt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Zt(e))}}GR(Zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF extends Ed{constructor(e){super(),this.indexPath_=e,Y(!Se(e)&&Ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ta(e.name,n.name):s}makePost(e,n){const r=Zt(e),i=Le.EMPTY_NODE.updateChild(this.indexPath_,r);return new ke(n,i)}maxPost(){const e=Le.EMPTY_NODE.updateChild(this.indexPath_,Yc);return new ke(Hs,e)}toString(){return b9(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF extends Ed{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ta(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,n){const r=Zt(e);return new ke(n,r)}toString(){return".value"}}const nF=new tF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){return{type:"value",snapshotNode:t}}function iF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function y4(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xt}copy(){const e=new qg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Xt?n="$priority":t.index_===nF?n="$value":t.index_===zo?n="$key":(Y(t.index_ instanceof eF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$t(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=$t(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$t(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$t(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$t(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function w4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Xt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends C9{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Kc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ch.getListenId_(e,r),a={};this.listens_[o]=a;const l=_4(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ea(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=ch.getListenId_(e,n);delete this.listens_[r]}get(e){const n=_4(e._queryParams),r=e._path.toString(),i=new Im;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ID(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=nc(a.responseText)}catch{Ln("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ln("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.rootNode_=Le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(){return{value:null,children:new Map}}function M9(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ne(e);t.children.has(r)||t.children.set(r,uh());const i=t.children.get(r);e=Ke(e),M9(i,e,n)}}function c1(t,e,n){t.value!==null?n(e,t.value):lF(t,(r,i)=>{const s=new Je(e.toString()+"/"+r);c1(i,s,n)})}function lF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&er(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=10*1e3,uF=30*1e3,hF=5*60*1e3;class dF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cF(e);const r=C4+(uF-C4)*Math.random();Fl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;er(e,(i,s)=>{s>0&&fi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Fl(this.reportStats_.bind(this),Math.floor(Math.random()*2*hF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mr||(Mr={}));function P9(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function j9(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function L9(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mr.ACK_USER_WRITE,this.source=P9()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new hh(He(),n,this.revert)}}else return Y(Ne(this.path)===e,"operationForChild called for unrelated child."),new hh(Ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mr.OVERWRITE}operationForChild(e){return Se(this.path)?new Us(this.source,He(),this.snap.getImmediateChild(e)):new Us(this.source,Ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mr.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new Us(this.source,He(),n.value):new yc(this.source,He(),n)}else return Y(Ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yc(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function fF(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oF(o.childName,o.snapshotNode))}),al(t,i,"child_removed",e,r,n),al(t,i,"child_added",e,r,n),al(t,i,"child_moved",s,r,n),al(t,i,"child_changed",e,r,n),al(t,i,"value",e,r,n),i}function al(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>mF(t,a,l)),o.forEach(a=>{const l=pF(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function pF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mF(t,e,n){if(e.childName==null||n.childName==null)throw Ca("Should only compare child_ events.");const r=new ke(e.childName,e.snapshotNode),i=new ke(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t,e){return{eventCache:t,serverCache:e}}function Ml(t,e,n,r){return B9(new Gg(e,n,r),t.serverCache)}function $9(t,e,n,r){return B9(t.eventCache,new Gg(e,n,r))}function u1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function zs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf;const gF=()=>(Lf||(Lf=new Cn(nR)),Lf);class Ge{constructor(e,n=gF()){this.value=e,this.children=n}static fromObject(e){let n=new Ge(null);return er(e,(r,i)=>{n=n.set(new Je(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Se(e))return null;{const r=Ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ke(e),n);return s!=null?{path:It(new Je(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Ne(e),r=this.children.get(n);return r!==null?r.subtree(Ke(e)):new Ge(null)}}set(e,n){if(Se(e))return new Ge(n,this.children);{const r=Ne(e),s=(this.children.get(r)||new Ge(null)).set(Ke(e),n),o=this.children.insert(r,s);return new Ge(this.value,o)}}remove(e){if(Se(e))return this.children.isEmpty()?new Ge(null):new Ge(null,this.children);{const n=Ne(e),r=this.children.get(n);if(r){const i=r.remove(Ke(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ge(null):new Ge(this.value,s)}else return this}}get(e){if(Se(e))return this.value;{const n=Ne(e),r=this.children.get(n);return r?r.get(Ke(e)):null}}setTree(e,n){if(Se(e))return n;{const r=Ne(e),s=(this.children.get(r)||new Ge(null)).setTree(Ke(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ge(this.value,o)}}fold(e){return this.fold_(He(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(It(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,He(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Se(e))return null;{const s=Ne(e),o=this.children.get(s);return o?o.findOnPath_(Ke(e),It(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,He(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);const i=Ne(e),s=this.children.get(i);return s?s.foreachOnPath_(Ke(e),It(n,i),r):new Ge(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(It(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.writeTree_=e}static empty(){return new gr(new Ge(null))}}function Pl(t,e,n){if(Se(e))return new gr(new Ge(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Yn(i,e);return s=s.updateChild(o,n),new gr(t.writeTree_.set(i,s))}else{const i=new Ge(n),s=t.writeTree_.setTree(e,i);return new gr(s)}}}function E4(t,e,n){let r=t;return er(n,(i,s)=>{r=Pl(r,It(e,i),s)}),r}function S4(t,e){if(Se(e))return gr.empty();{const n=t.writeTree_.setTree(e,new Ge(null));return new gr(n)}}function h1(t,e){return Ys(t,e)!=null}function Ys(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Yn(n.path,e)):null}function b4(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Xt,(r,i)=>{e.push(new ke(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ke(r,i.value))}),e}function Oi(t,e){if(Se(e))return t;{const n=Ys(t,e);return n!=null?new gr(new Ge(n)):new gr(t.writeTree_.subtree(e))}}function d1(t){return t.writeTree_.isEmpty()}function fa(t,e){return O9(He(),t.writeTree_,e)}function O9(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Y(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=O9(It(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(It(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t,e){return q9(e,t)}function xF(t,e,n,r,i){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Pl(t.visibleWrites,e,n)),t.lastWriteId=r}function vF(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function yF(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&_F(a,r.path)?i=!1:ur(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return wF(t),!0;if(r.snap)t.visibleWrites=S4(t.visibleWrites,r.path);else{const a=r.children;er(a,l=>{t.visibleWrites=S4(t.visibleWrites,It(r.path,l))})}return!0}else return!1}function _F(t,e){if(t.snap)return ur(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ur(It(t.path,n),e))return!0;return!1}function wF(t){t.visibleWrites=H9(t.allWrites,CF,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function CF(t){return t.visible}function H9(t,e,n){let r=gr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ur(n,o)?(a=Yn(n,o),r=Pl(r,a,s.snap)):ur(o,n)&&(a=Yn(o,n),r=Pl(r,He(),s.snap.getChild(a)));else if(s.children){if(ur(n,o))a=Yn(n,o),r=E4(r,a,s.children);else if(ur(o,n))if(a=Yn(o,n),Se(a))r=E4(r,He(),s.children);else{const l=ea(s.children,Ne(a));if(l){const c=l.getChild(Ke(a));r=Pl(r,He(),c)}}}else throw Ca("WriteRecord should have .snap or .children")}}return r}function U9(t,e,n,r,i){if(!r&&!i){const s=Ys(t.visibleWrites,e);if(s!=null)return s;{const o=Oi(t.visibleWrites,e);if(d1(o))return n;if(n==null&&!h1(o,He()))return null;{const a=n||Le.EMPTY_NODE;return fa(o,a)}}}else{const s=Oi(t.visibleWrites,e);if(!i&&d1(s))return n;if(!i&&n==null&&!h1(s,He()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ur(c.path,e)||ur(e,c.path))},a=H9(t.allWrites,o,e),l=n||Le.EMPTY_NODE;return fa(a,l)}}}function EF(t,e,n){let r=Le.EMPTY_NODE;const i=Ys(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Xt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Oi(t.visibleWrites,e);return n.forEachChild(Xt,(o,a)=>{const l=fa(Oi(s,new Je(o)),a);r=r.updateImmediateChild(o,l)}),b4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Oi(t.visibleWrites,e);return b4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function SF(t,e,n,r,i){Y(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=It(e,n);if(h1(t.visibleWrites,s))return null;{const o=Oi(t.visibleWrites,s);return d1(o)?i.getChild(n):fa(o,i.getChild(n))}}function bF(t,e,n,r){const i=It(e,n),s=Ys(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Oi(t.visibleWrites,i);return fa(o,r.getNode().getImmediateChild(n))}else return null}function DF(t,e){return Ys(t.visibleWrites,e)}function NF(t,e,n,r,i,s,o){let a;const l=Oi(t.visibleWrites,e),c=Ys(l,He());if(c!=null)a=c;else if(n!=null)a=fa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&u.length<i;)d(m,r)!==0&&u.push(m),m=f.getNext();return u}else return[]}function kF(){return{visibleWrites:gr.empty(),allWrites:[],lastWriteId:-1}}function f1(t,e,n,r){return U9(t.writeTree,t.treePath,e,n,r)}function z9(t,e){return EF(t.writeTree,t.treePath,e)}function D4(t,e,n,r){return SF(t.writeTree,t.treePath,e,n,r)}function dh(t,e){return DF(t.writeTree,It(t.treePath,e))}function AF(t,e,n,r,i,s){return NF(t.writeTree,t.treePath,e,n,r,i,s)}function Kg(t,e,n){return bF(t.writeTree,t.treePath,e,n)}function W9(t,e){return q9(It(t.treePath,e),t.writeTree)}function q9(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,y4(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sF(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,iF(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,y4(r,e.snapshotNode,i.oldSnap));else throw Ca("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const G9=new IF;class Qg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Gg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zs(this.viewCache_),s=AF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function RF(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FF(t,e,n,r,i){const s=new TF;let o,a;if(n.type===Mr.OVERWRITE){const c=n;c.source.fromUser?o=p1(t,e,c.path,c.snap,r,i,s):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Se(c.path),o=fh(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Mr.MERGE){const c=n;c.source.fromUser?o=PF(t,e,c.path,c.children,r,i,s):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=m1(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Mr.ACK_USER_WRITE){const c=n;c.revert?o=BF(t,e,c.path,r,i,s):o=jF(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Mr.LISTEN_COMPLETE)o=LF(t,e,n.path,r,s);else throw Ca("Unknown operation type: "+n.type);const l=s.getChanges();return MF(e,o,l),{viewCache:o,changes:l}}function MF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=u1(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(rF(u1(e)))}}function K9(t,e,n,r,i,s){const o=e.eventCache;if(dh(r,n)!=null)return e;{let a,l;if(Se(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=zs(e),u=c instanceof Le?c:Le.EMPTY_NODE,d=z9(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=f1(r,zs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Ne(n);if(c===".priority"){Y(Gi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=D4(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ke(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=D4(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Kg(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Ml(e,a,o.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function fh(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Se(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=Ne(n);if(!l.isCompleteForPath(n)&&Gi(n)>1)return e;const g=Ke(n),w=l.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),m,w,g,G9,null)}const d=$9(e,c,l.isFullyInitialized()||Se(n),u.filtersNodes()),f=new Qg(i,d,s);return K9(t,d,n,i,f,a)}function p1(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Qg(i,e,s);if(Se(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ml(e,c,!0,t.filter.filtersNodes());else{const d=Ne(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ml(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ke(n),m=a.getNode().getImmediateChild(d);let g;if(Se(f))g=r;else{const y=u.getCompleteChild(d);y!=null?S9(f)===".priority"&&y.getChild(D9(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=Le.EMPTY_NODE}if(m.equals(g))l=e;else{const y=t.filter.updateChild(a.getNode(),d,g,f,u,o);l=Ml(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function N4(t,e){return t.eventCache.isCompleteForChild(e)}function PF(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=It(n,l);N4(e,Ne(u))&&(a=p1(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=It(n,l);N4(e,Ne(u))||(a=p1(t,a,u,c,i,s,o))}),a}function k4(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function m1(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Se(n)?c=r:c=new Ge(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=k4(t,m,f);l=fh(t,l,new Je(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),y=k4(t,g,f);l=fh(t,l,new Je(d),y,i,s,o,a)}}),l}function jF(t,e,n,r,i,s,o){if(dh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return fh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Se(n)){let c=new Ge(null);return l.getNode().forEachChild(zo,(u,d)=>{c=c.set(new Je(u),d)}),m1(t,e,n,c,i,s,a,o)}else return e}else{let c=new Ge(null);return r.foreach((u,d)=>{const f=It(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),m1(t,e,n,c,i,s,a,o)}}function LF(t,e,n,r,i){const s=e.serverCache,o=$9(e,s.getNode(),s.isFullyInitialized()||Se(n),s.isFiltered());return K9(t,o,n,r,G9,i)}function BF(t,e,n,r,i,s){let o;if(dh(r,n)!=null)return e;{const a=new Qg(r,e,i),l=e.eventCache.getNode();let c;if(Se(n)||Ne(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=f1(r,zs(e));else{const d=e.serverCache.getNode();Y(d instanceof Le,"serverChildren would be complete if leaf node"),u=z9(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Ne(n);let d=Kg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ke(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Le.EMPTY_NODE,Ke(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=f1(r,zs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||dh(r,He())!=null,Ml(e,c,o,t.filter.filtersNodes())}}function $F(t,e){const n=zs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Ne(e)).isEmpty())?n.getChild(e):null}function A4(t,e,n,r){e.type===Mr.MERGE&&e.source.queryId!==null&&(Y(zs(t.viewCache_),"We should always have a full cache before handling merges"),Y(u1(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=FF(t.processor_,i,e,n,r);return RF(t.processor_,s.viewCache),Y(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,OF(t,s.changes,s.viewCache.eventCache.getNode())}function OF(t,e,n,r){const i=t.eventRegistrations_;return fF(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T4;function VF(t){Y(!T4,"__referenceConstructor has already been defined"),T4=t}function Yg(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Y(s!=null,"SyncTree gave us an op for an invalid query."),A4(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(A4(o,e,n,r));return s}}function Zg(t,e){let n=null;for(const r of t.views.values())n=n||$F(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I4;function HF(t){Y(!I4,"__referenceConstructor has already been defined"),I4=t}class R4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ge(null),this.pendingWriteTree_=kF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function UF(t,e,n,r,i){return xF(t.pendingWriteTree_,e,n,r,i),i?bd(t,new Us(P9(),e,n)):[]}function Io(t,e,n=!1){const r=vF(t.pendingWriteTree_,e);if(yF(t.pendingWriteTree_,e)){let s=new Ge(null);return r.snap!=null?s=s.set(He(),!0):er(r.children,o=>{s=s.set(new Je(o),!0)}),bd(t,new hh(r.path,s,n))}else return[]}function Sd(t,e,n){return bd(t,new Us(j9(),e,n))}function zF(t,e,n){const r=Ge.fromObject(n);return bd(t,new yc(j9(),e,r))}function WF(t,e,n,r){const i=X9(t,r);if(i!=null){const s=J9(i),o=s.path,a=s.queryId,l=Yn(o,e),c=new Us(L9(a),l,n);return eC(t,o,c)}else return[]}function qF(t,e,n,r){const i=X9(t,r);if(i){const s=J9(i),o=s.path,a=s.queryId,l=Yn(o,e),c=Ge.fromObject(n),u=new yc(L9(a),l,c);return eC(t,o,u)}else return[]}function Q9(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Yn(o,e),c=Zg(a,l);if(c)return c});return U9(i,e,s,n,!0)}function bd(t,e){return Y9(e,t.syncPointTree_,null,V9(t.pendingWriteTree_,He()))}function Y9(t,e,n,r){if(Se(t.path))return Z9(t,e,n,r);{const i=e.get(He());n==null&&i!=null&&(n=Zg(i,He()));let s=[];const o=Ne(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=W9(r,o);s=s.concat(Y9(a,l,c,u))}return i&&(s=s.concat(Yg(i,t,r,n))),s}}function Z9(t,e,n,r){const i=e.get(He());n==null&&i!=null&&(n=Zg(i,He()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=W9(r,o),u=t.operationForChild(o);u&&(s=s.concat(Z9(u,a,l,c)))}),i&&(s=s.concat(Yg(i,t,r,n))),s}function X9(t,e){return t.tagToQueryMap.get(e)}function J9(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function eC(t,e,n){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const i=V9(t.pendingWriteTree_,e);return Yg(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Xg(n)}node(){return this.node_}}class Jg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=It(this.path_,e);return new Jg(this.syncTree_,n)}node(){return Q9(this.syncTree_,this.path_)}}const GF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},F4=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return KF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return QF(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},KF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},QF=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const i=e.node();if(Y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},YF=function(t,e,n,r){return ex(e,new Jg(n,t),r)},ZF=function(t,e,n){return ex(t,new Xg(e),n)};function ex(t,e,n){const r=t.getPriority().val(),i=F4(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=F4(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Dt(a,Zt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Dt(i))),o.forEachChild(Xt,(a,l)=>{const c=ex(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function nx(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=Ne(n);for(;i!==null;){const s=ea(r.node.children,i)||{children:{},childCount:0};r=new tx(i,r,s),n=Ke(n),i=Ne(n)}return r}function Ia(t){return t.node.value}function tC(t,e){t.node.value=e,g1(t)}function nC(t){return t.node.childCount>0}function XF(t){return Ia(t)===void 0&&!nC(t)}function Dd(t,e){er(t.node.children,(n,r)=>{e(new tx(n,t,r))})}function rC(t,e,n,r){n&&!r&&e(t),Dd(t,i=>{rC(i,e,!0,r)}),n&&r&&e(t)}function JF(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zc(t){return new Je(t.parent===null?t.name:Zc(t.parent)+"/"+t.name)}function g1(t){t.parent!==null&&eM(t.parent,t.name,t)}function eM(t,e,n){const r=XF(n),i=fi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,g1(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,g1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/[\[\].#$\/\u0000-\u001F\u007F]/,nM=/[\[\].#$\u0000-\u001F\u007F]/,Bf=10*1024*1024,iC=function(t){return typeof t=="string"&&t.length!==0&&!tM.test(t)},rM=function(t){return typeof t=="string"&&t.length!==0&&!nM.test(t)},iM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rM(t)},sC=function(t,e,n){const r=n instanceof Je?new LR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ps(r));if(typeof e=="function")throw new Error(t+"contains a function "+ps(r)+" with contents = "+e.toString());if(r9(e))throw new Error(t+"contains "+e.toString()+" "+ps(r));if(typeof e=="string"&&e.length>Bf/3&&Bh(e)>Bf)throw new Error(t+"contains a string greater than "+Bf+" utf8 bytes "+ps(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(er(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!iC(o)))throw new Error(t+" contains an invalid key ("+o+") "+ps(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BR(r,o),sC(t,a,r),$R(r)}),i&&s)throw new Error(t+' contains ".value" child '+ps(r)+" in addition to actual children.")}},sM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!iC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iM(n))throw new Error(FD(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aM(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!N9(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Zs(t,e,n){aM(t,n),lM(t,r=>ur(r,e)||ur(e,r))}function lM(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(cM(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Rl&&Yt("event: "+n.toString()),Qc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="repo_interrupt",hM=25;class dM{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uh(),this.transactionQueueTree_=new tx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fM(t,e,n){if(t.stats_=Hg(t.repoInfo_),t.forceRestClient_||lR())t.server_=new ch(t.repoInfo_,(r,i,s,o)=>{M4(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>P4(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$t(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ti(t.repoInfo_,e,(r,i,s,o)=>{M4(t,r,i,s,o)},r=>{P4(t,r)},r=>{mM(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=fR(t.repoInfo_,()=>new dF(t.stats_,t.server_)),t.infoData_=new aF,t.infoSyncTree_=new R4({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Sd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),rx(t,"connected",!1),t.serverSyncTree_=new R4({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Zs(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function pM(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function oC(t){return GF({timestamp:pM(t)})}function M4(t,e,n,r,i){t.dataUpdateCount++;const s=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=U0(n,c=>Zt(c));o=qF(t.serverSyncTree_,s,l,i)}else{const l=Zt(n);o=WF(t.serverSyncTree_,s,l,i)}else if(r){const l=U0(n,c=>Zt(c));o=zF(t.serverSyncTree_,s,l)}else{const l=Zt(n);o=Sd(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=sx(t,s)),Zs(t.eventQueue_,a,o)}function P4(t,e){rx(t,"connected",e),e===!1&&xM(t)}function mM(t,e){er(e,(n,r)=>{rx(t,n,r)})}function rx(t,e,n){const r=new Je("/.info/"+e),i=Zt(n);t.infoData_.updateSnapshot(r,i);const s=Sd(t.infoSyncTree_,r,i);Zs(t.eventQueue_,r,s)}function gM(t){return t.nextWriteId_++}function xM(t){aC(t,"onDisconnectEvents");const e=oC(t),n=uh();c1(t.onDisconnect_,He(),(i,s)=>{const o=YF(i,s,t.serverSyncTree_,e);M9(n,i,o)});let r=[];c1(n,He(),(i,s)=>{r=r.concat(Sd(t.serverSyncTree_,i,s));const o=wM(t,i);sx(t,o)}),t.onDisconnect_=uh(),Zs(t.eventQueue_,He(),r)}function vM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uM)}function aC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yt(n,...e)}function lC(t,e,n){return Q9(t.serverSyncTree_,e,n)||Le.EMPTY_NODE}function ix(t,e=t.transactionQueueTree_){if(e||Nd(t,e),Ia(e)){const n=uC(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&yM(t,Zc(e),n)}else nC(e)&&Dd(e,n=>{ix(t,n)})}function yM(t,e,n){const r=n.map(c=>c.currentWriteId),i=lC(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Yn(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{aC(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Io(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Nd(t,nx(t.transactionQueueTree_,e)),ix(t,t.transactionQueueTree_),Zs(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Qc(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ln("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}sx(t,e)}},o)}function sx(t,e){const n=cC(t,e),r=Zc(n),i=uC(t,n);return _M(t,i,r),r}function _M(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Yn(n,l.path);let u=!1,d;if(Y(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Io(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=hM)u=!0,d="maxretry",i=i.concat(Io(t.serverSyncTree_,l.currentWriteId,!0));else{const f=lC(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){sC("transaction failed: Data returned ",m,l.path);let g=Zt(m);typeof m=="object"&&m!=null&&fi(m,".priority")||(g=g.updatePriority(f.getPriority()));const w=l.currentWriteId,v=oC(t),p=ZF(g,f,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=p,l.currentWriteId=gM(t),o.splice(o.indexOf(w),1),i=i.concat(UF(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Io(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Io(t.serverSyncTree_,l.currentWriteId,!0))}Zs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Nd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Qc(r[a]);ix(t,t.transactionQueueTree_)}function cC(t,e){let n,r=t.transactionQueueTree_;for(n=Ne(e);n!==null&&Ia(r)===void 0;)r=nx(r,n),e=Ke(e),n=Ne(e);return r}function uC(t,e){const n=[];return hC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function hC(t,e,n){const r=Ia(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Dd(e,i=>{hC(t,i,n)})}function Nd(t,e){const n=Ia(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,tC(e,n.length>0?n:void 0)}Dd(e,r=>{Nd(t,r)})}function wM(t,e){const n=Zc(cC(t,e)),r=nx(t.transactionQueueTree_,e);return JF(r,i=>{$f(t,i)}),$f(t,r),rC(r,i=>{$f(t,i)}),n}function $f(t,e){const n=Ia(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Y(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Y(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Io(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?tC(e,void 0):n.length=s+1,Zs(t.eventQueue_,Zc(e),i);for(let o=0;o<r.length;o++)Qc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function EM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ln(`Invalid query segment '${n}' in query '${t}'`)}return e}const j4=function(t,e){const n=SM(t),r=n.namespace;n.domain==="firebase.com"&&hi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||eR();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new m9(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Je(n.pathString)}},SM=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=CM(t.substring(u,d)));const f=EM(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Se(this._path)?null:S9(this._path)}get ref(){return new Ra(this._repo,this._path)}get _queryIdentifier(){const e=w4(this._queryParams),n=Og(e);return n==="{}"?"default":n}get _queryObject(){return w4(this._queryParams)}isEqual(e){if(e=Nn(e),!(e instanceof ox))return!1;const n=this._repo===e._repo,r=N9(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jR(this._path)}}class Ra extends ox{constructor(e,n){super(e,n,new qg,!1)}get parent(){const e=D9(this._path);return e===null?null:new Ra(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function hn(t,...e){let n=Nn(t);for(const r of e)n=r._apply(n);return n}VF(Ra);HF(Ra);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="FIREBASE_DATABASE_EMULATOR_HOST",x1={};let DM=!1;function NM(t,e,n,r){t.repoInfo_=new m9(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function kM(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=j4(s,i),a=o.repoInfo,l;typeof process<"u"&&n4&&(l=n4[bM]),l?(s=`http://${l}?ns=${a.namespace}`,o=j4(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new uR(t.name,t.options,e);sM("Invalid Firebase Database URL",o),Se(o.path)||hi("Database URL must point to the root of a Firebase Database (not including a child path).");const u=TM(a,t,c,new cR(t.name,n));return new IM(u,t)}function AM(t,e){const n=x1[e];(!n||n[t.key]!==t)&&hi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vM(t),delete n[t.key]}function TM(t,e,n,r){let i=x1[e.name];i||(i={},x1[e.name]=i);let s=i[t.toURLString()];return s&&hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new dM(t,DM,n,r),i[t.toURLString()]=s,s}class IM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ra(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hi("Cannot call "+e+" on a deleted database.")}}function RM(t=I8(),e){const n=k8(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=y8("database");r&&FM(n,...r)}return n}function FM(t,e,n,r={}){t=Nn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&hi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new s0(s0.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:w8(r.mockUserToken,t.app.options.projectId);s=new s0(o)}NM(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){KI(A8),rc(new ta("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return kM(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Li(r4,i4,t),Li(r4,i4,"esm2017")}ti.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ti.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};MM();let PM={apiKey:"AIzaSyBCtuJRMY3TLF0pnWCUSL1jnxFOHJtZ5fE",authDomain:"steeltechiot.firebaseapp.com",databaseURL:"https://steeltechiot-default-rtdb.firebaseio.com",projectId:"steeltechiot",storageBucket:"steeltechiot.appspot.com",messagingSenderId:"918836431428",appId:"1:918836431428:web:ced95dc23e447f30d68a11",measurementId:"G-XE8XTNRSHB"};const dC=T8(PM);RM(dC);const ce=kI(dC);function jM(t){let[e,n]=N.useState(0),[r,i]=N.useState(0),[s,o]=N.useState({product_type:"",thickness:"",product_dimensions:""});return N.useEffect(()=>{let a=Re(ce,"machines");const l=nn(a,K("machine_no","==",t.machineNo),mr("unix_time","desc"),Or(1));let c=qc(l,u=>{var f,m,g,y,w,v,p;const d=u.docs.map(x=>({id:x.id,...x.data()}));console.log("updatedData",d),o({product_type:(f=d[0])==null?void 0:f.product_type,thickness:(m=d[0])==null?void 0:m.thickness,product_dimensions:(g=d[0])==null?void 0:g.product_dimensions}),n((y=d[0])!=null&&y.count?(w=d[0])==null?void 0:w.count:0),i(((v=d[0])==null?void 0:v.weight)==""?0:(p=d[0])==null?void 0:p.weight)});return()=>c()},[]),h.jsx("div",{className:`border-[3px]  rounded-lg ${t!=null&&t.active?"border-[#009245]":"border-[#ED1C24]"}`,children:h.jsxs("div",{className:"flex gap-4 justify-between h-full ",children:[h.jsxs("div",{className:"w-full flex flex-col gap-2 justify-between p-3 items-start",children:[h.jsxs("h2",{className:"text-2xl font-semibold",children:["FM ",t.machineNo]}),h.jsxs("button",{className:"flex gap-2 items-center bg-black text-white px-4 py-2 rounded-md",children:[h.jsx("div",{className:`w-4 h-4 rounded-full ${t!=null&&t.active?"bg-[#009245]":"bg-[#ED1C24]"}`}),h.jsx("p",{children:t!=null&&t.active?"Active":"Idle"})]}),h.jsxs("div",{className:"pt-3",children:[h.jsxs("p",{children:["(Last updated ",t.idleTime," ago)"]}),h.jsxs("p",{children:["Total Product: ",e]}),h.jsxs("p",{children:["Total Weight: ",r," kg"]})]})]}),h.jsxs("div",{className:"min-w-[90px]  bg-black/80 text-white flex flex-col justify-between items-center  px-2 py-6",children:[h.jsx("img",{src:dD,alt:"",className:"w-[60px] h-auto"}),h.jsxs("div",{className:"text-center text-xs",children:[h.jsx("p",{children:s==null?void 0:s.product_type}),h.jsx("p",{children:s==null?void 0:s.thickness}),h.jsx("p",{children:s==null?void 0:s.product_dimensions})]})]})]})})}var En=function(){return En=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},En.apply(this,arguments)};function _c(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var qe="-ms-",jl="-moz-",je="-webkit-",fC="comm",kd="rule",ax="decl",LM="@import",pC="@keyframes",BM="@layer",mC=Math.abs,lx=String.fromCharCode,v1=Object.assign;function $M(t,e){return Tt(t,0)^45?(((e<<2^Tt(t,0))<<2^Tt(t,1))<<2^Tt(t,2))<<2^Tt(t,3):0}function gC(t){return t.trim()}function qr(t,e){return(t=e.exec(t))?t[0]:t}function xe(t,e,n){return t.replace(e,n)}function o0(t,e,n){return t.indexOf(e,n)}function Tt(t,e){return t.charCodeAt(e)|0}function pa(t,e,n){return t.slice(e,n)}function Nr(t){return t.length}function xC(t){return t.length}function vl(t,e){return e.push(t),t}function OM(t,e){return t.map(e).join("")}function L4(t,e){return t.filter(function(n){return!qr(n,e)})}var Ad=1,ma=1,vC=0,tr=0,_t=0,Fa="";function Td(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ad,column:ma,length:o,return:"",siblings:a}}function vi(t,e){return v1(Td("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function fo(t){for(;t.root;)t=vi(t.root,{children:[t]});vl(t,t.siblings)}function VM(){return _t}function HM(){return _t=tr>0?Tt(Fa,--tr):0,ma--,_t===10&&(ma=1,Ad--),_t}function xr(){return _t=tr<vC?Tt(Fa,tr++):0,ma++,_t===10&&(ma=1,Ad++),_t}function Ts(){return Tt(Fa,tr)}function a0(){return tr}function Id(t,e){return pa(Fa,t,e)}function y1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UM(t){return Ad=ma=1,vC=Nr(Fa=t),tr=0,[]}function zM(t){return Fa="",t}function Of(t){return gC(Id(tr-1,_1(t===91?t+2:t===40?t+1:t)))}function WM(t){for(;(_t=Ts())&&_t<33;)xr();return y1(t)>2||y1(_t)>3?"":" "}function qM(t,e){for(;--e&&xr()&&!(_t<48||_t>102||_t>57&&_t<65||_t>70&&_t<97););return Id(t,a0()+(e<6&&Ts()==32&&xr()==32))}function _1(t){for(;xr();)switch(_t){case t:return tr;case 34:case 39:t!==34&&t!==39&&_1(_t);break;case 40:t===41&&_1(t);break;case 92:xr();break}return tr}function GM(t,e){for(;xr()&&t+_t!==57;)if(t+_t===84&&Ts()===47)break;return"/*"+Id(e,tr-1)+"*"+lx(t===47?t:xr())}function KM(t){for(;!y1(Ts());)xr();return Id(t,tr)}function QM(t){return zM(l0("",null,null,null,[""],t=UM(t),0,[0],t))}function l0(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,m=0,g=0,y=1,w=1,v=1,p=0,x="",_=i,S=s,C=r,E=x;w;)switch(g=p,p=xr()){case 40:if(g!=108&&Tt(E,d-1)==58){o0(E+=xe(Of(p),"&","&\f"),"&\f",mC(c?a[c-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:E+=Of(p);break;case 9:case 10:case 13:case 32:E+=WM(g);break;case 92:E+=qM(a0()-1,7);continue;case 47:switch(Ts()){case 42:case 47:vl(YM(GM(xr(),a0()),e,n,l),l);break;default:E+="/"}break;case 123*y:a[c++]=Nr(E)*v;case 125*y:case 59:case 0:switch(p){case 0:case 125:w=0;case 59+u:v==-1&&(E=xe(E,/\f/g,"")),m>0&&Nr(E)-d&&vl(m>32?$4(E+";",r,n,d-1,l):$4(xe(E," ","")+";",r,n,d-2,l),l);break;case 59:E+=";";default:if(vl(C=B4(E,e,n,c,u,i,a,x,_=[],S=[],d,s),s),p===123)if(u===0)l0(E,e,C,C,_,s,d,a,S);else switch(f===99&&Tt(E,3)===110?100:f){case 100:case 108:case 109:case 115:l0(t,C,C,r&&vl(B4(t,C,C,0,0,i,a,x,i,_=[],d,S),S),i,S,d,a,r?_:S);break;default:l0(E,C,C,C,[""],S,0,a,S)}}c=u=m=0,y=v=1,x=E="",d=o;break;case 58:d=1+Nr(E),m=g;default:if(y<1){if(p==123)--y;else if(p==125&&y++==0&&HM()==125)continue}switch(E+=lx(p),p*y){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Nr(E)-1)*v,v=1;break;case 64:Ts()===45&&(E+=Of(xr())),f=Ts(),u=d=Nr(x=E+=KM(a0())),p++;break;case 45:g===45&&Nr(E)==2&&(y=0)}}return s}function B4(t,e,n,r,i,s,o,a,l,c,u,d){for(var f=i-1,m=i===0?s:[""],g=xC(m),y=0,w=0,v=0;y<r;++y)for(var p=0,x=pa(t,f+1,f=mC(w=o[y])),_=t;p<g;++p)(_=gC(w>0?m[p]+" "+x:xe(x,/&\f/g,m[p])))&&(l[v++]=_);return Td(t,e,n,i===0?kd:a,l,c,u,d)}function YM(t,e,n,r){return Td(t,e,n,fC,lx(VM()),pa(t,2,-2),0,r)}function $4(t,e,n,r,i){return Td(t,e,n,ax,pa(t,0,r),pa(t,r+1,-1),r,i)}function yC(t,e,n){switch($M(t,e)){case 5103:return je+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return je+t+t;case 4789:return jl+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return je+t+jl+t+qe+t+t;case 5936:switch(Tt(t,e+11)){case 114:return je+t+qe+xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return je+t+qe+xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return je+t+qe+xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return je+t+qe+t+t;case 6165:return je+t+qe+"flex-"+t+t;case 5187:return je+t+xe(t,/(\w+).+(:[^]+)/,je+"box-$1$2"+qe+"flex-$1$2")+t;case 5443:return je+t+qe+"flex-item-"+xe(t,/flex-|-self/g,"")+(qr(t,/flex-|baseline/)?"":qe+"grid-row-"+xe(t,/flex-|-self/g,""))+t;case 4675:return je+t+qe+"flex-line-pack"+xe(t,/align-content|flex-|-self/g,"")+t;case 5548:return je+t+qe+xe(t,"shrink","negative")+t;case 5292:return je+t+qe+xe(t,"basis","preferred-size")+t;case 6060:return je+"box-"+xe(t,"-grow","")+je+t+qe+xe(t,"grow","positive")+t;case 4554:return je+xe(t,/([^-])(transform)/g,"$1"+je+"$2")+t;case 6187:return xe(xe(xe(t,/(zoom-|grab)/,je+"$1"),/(image-set)/,je+"$1"),t,"")+t;case 5495:case 3959:return xe(t,/(image-set\([^]*)/,je+"$1$`$1");case 4968:return xe(xe(t,/(.+:)(flex-)?(.*)/,je+"box-pack:$3"+qe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+je+t+t;case 4200:if(!qr(t,/flex-|baseline/))return qe+"grid-column-align"+pa(t,e)+t;break;case 2592:case 3360:return qe+xe(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,qr(r.props,/grid-\w+-end/)})?~o0(t+(n=n[e].value),"span",0)?t:qe+xe(t,"-start","")+t+qe+"grid-row-span:"+(~o0(n,"span",0)?qr(n,/\d+/):+qr(n,/\d+/)-+qr(t,/\d+/))+";":qe+xe(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return qr(r.props,/grid-\w+-start/)})?t:qe+xe(xe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return xe(t,/(.+)-inline(.+)/,je+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nr(t)-1-e>6)switch(Tt(t,e+1)){case 109:if(Tt(t,e+4)!==45)break;case 102:return xe(t,/(.+:)(.+)-([^]+)/,"$1"+je+"$2-$3$1"+jl+(Tt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~o0(t,"stretch",0)?yC(xe(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return xe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return qe+i+":"+s+c+(o?qe+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Tt(t,e+6)===121)return xe(t,":",":"+je)+t;break;case 6444:switch(Tt(t,Tt(t,14)===45?18:11)){case 120:return xe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+je+(Tt(t,14)===45?"inline-":"")+"box$3$1"+je+"$2$3$1"+qe+"$2box$3")+t;case 100:return xe(t,":",":"+qe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xe(t,"scroll-","scroll-snap-")+t}return t}function ph(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function ZM(t,e,n,r){switch(t.type){case BM:if(t.children.length)break;case LM:case ax:return t.return=t.return||t.value;case fC:return"";case pC:return t.return=t.value+"{"+ph(t.children,r)+"}";case kd:if(!Nr(t.value=t.props.join(",")))return""}return Nr(n=ph(t.children,r))?t.return=t.value+"{"+n+"}":""}function XM(t){var e=xC(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function JM(t){return function(e){e.root||(e=e.return)&&t(e)}}function eP(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case ax:t.return=yC(t.value,t.length,n);return;case pC:return ph([vi(t,{value:xe(t.value,"@","@"+je)})],r);case kd:if(t.length)return OM(n=t.props,function(i){switch(qr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":fo(vi(t,{props:[xe(i,/:(read-\w+)/,":"+jl+"$1")]})),fo(vi(t,{props:[i]})),v1(t,{props:L4(n,r)});break;case"::placeholder":fo(vi(t,{props:[xe(i,/:(plac\w+)/,":"+je+"input-$1")]})),fo(vi(t,{props:[xe(i,/:(plac\w+)/,":"+jl+"$1")]})),fo(vi(t,{props:[xe(i,/:(plac\w+)/,qe+"input-$1")]})),fo(vi(t,{props:[i]})),v1(t,{props:L4(n,r)});break}return""})}}var tP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},An={},ga=typeof process<"u"&&An!==void 0&&(An.REACT_APP_SC_ATTR||An.SC_ATTR)||"data-styled",_C="active",wC="data-styled-version",Rd="6.1.13",cx=`/*!sc*/
`,mh=typeof window<"u"&&"HTMLElement"in window,nP=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&An!==void 0&&An.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&An.REACT_APP_SC_DISABLE_SPEEDY!==""?An.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&An.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&An!==void 0&&An.SC_DISABLE_SPEEDY!==void 0&&An.SC_DISABLE_SPEEDY!==""&&An.SC_DISABLE_SPEEDY!=="false"&&An.SC_DISABLE_SPEEDY),Fd=Object.freeze([]),xa=Object.freeze({});function rP(t,e,n){return n===void 0&&(n=xa),t.theme!==n.theme&&t.theme||e||n.theme}var CC=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),iP=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sP=/(^-|-$)/g;function O4(t){return t.replace(iP,"-").replace(sP,"")}var oP=/(a)(d)/gi,Lu=52,V4=function(t){return String.fromCharCode(t+(t>25?39:97))};function w1(t){var e,n="";for(e=Math.abs(t);e>Lu;e=e/Lu|0)n=V4(e%Lu)+n;return(V4(e%Lu)+n).replace(oP,"$1-$2")}var Vf,EC=5381,Ro=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},SC=function(t){return Ro(EC,t)};function bC(t){return w1(SC(t)>>>0)}function aP(t){return t.displayName||t.name||"Component"}function Hf(t){return typeof t=="string"&&!0}var DC=typeof Symbol=="function"&&Symbol.for,NC=DC?Symbol.for("react.memo"):60115,lP=DC?Symbol.for("react.forward_ref"):60112,cP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hP=((Vf={})[lP]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vf[NC]=kC,Vf);function H4(t){return("type"in(e=t)&&e.type.$$typeof)===NC?kC:"$$typeof"in t?hP[t.$$typeof]:cP;var e}var dP=Object.defineProperty,fP=Object.getOwnPropertyNames,U4=Object.getOwnPropertySymbols,pP=Object.getOwnPropertyDescriptor,mP=Object.getPrototypeOf,z4=Object.prototype;function AC(t,e,n){if(typeof e!="string"){if(z4){var r=mP(e);r&&r!==z4&&AC(t,r,n)}var i=fP(e);U4&&(i=i.concat(U4(e)));for(var s=H4(t),o=H4(e),a=0;a<i.length;++a){var l=i[a];if(!(l in uP||n&&n[l]||o&&l in o||s&&l in s)){var c=pP(e,l);try{dP(t,l,c)}catch{}}}}return t}function va(t){return typeof t=="function"}function ux(t){return typeof t=="object"&&"styledComponentId"in t}function bs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function C1(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function wc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function E1(t,e,n){if(n===void 0&&(n=!1),!n&&!wc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=E1(t[r],e[r]);else if(wc(e))for(var r in e)t[r]=E1(t[r],e[r]);return t}function hx(t,e){Object.defineProperty(t,"toString",{value:e})}function Xc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var gP=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Xc(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(cx);return n},t}(),c0=new Map,gh=new Map,u0=1,Bu=function(t){if(c0.has(t))return c0.get(t);for(;gh.has(u0);)u0++;var e=u0++;return c0.set(t,e),gh.set(e,t),e},xP=function(t,e){u0=e+1,c0.set(t,e),gh.set(e,t)},vP="style[".concat(ga,"][").concat(wC,'="').concat(Rd,'"]'),yP=new RegExp("^".concat(ga,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_P=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},wP=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(cx),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(yP);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(xP(u,c),_P(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},W4=function(t){for(var e=document.querySelectorAll(vP),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(ga)!==_C&&(wP(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function CP(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var TC=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(ga,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(ga,_C),r.setAttribute(wC,Rd);var o=CP();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},EP=function(){function t(e){this.element=TC(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Xc(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),SP=function(){function t(e){this.element=TC(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),bP=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),q4=mh,DP={isServer:!mh,useCSSOMInjection:!nP},IC=function(){function t(e,n,r){e===void 0&&(e=xa),n===void 0&&(n={});var i=this;this.options=En(En({},DP),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&mh&&q4&&(q4=!1,W4(this)),hx(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var f=function(v){return gh.get(v)}(d);if(f===void 0)return"continue";var m=s.names.get(f),g=o.getGroup(d);if(m===void 0||!m.size||g.length===0)return"continue";var y="".concat(ga,".g").concat(d,'[id="').concat(f,'"]'),w="";m!==void 0&&m.forEach(function(v){v.length>0&&(w+="".concat(v,","))}),l+="".concat(g).concat(y,'{content:"').concat(w,'"}').concat(cx)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Bu(e)},t.prototype.rehydrate=function(){!this.server&&mh&&W4(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(En(En({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new bP(i):r?new EP(i):new SP(i)}(this.options),new gP(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Bu(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Bu(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Bu(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),NP=/&/g,kP=/^\s*\/\/.*$/gm;function RC(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=RC(n.children,e)),n})}function AP(t){var e,n,r,i=xa,s=i.options,o=s===void 0?xa:s,a=i.plugins,l=a===void 0?Fd:a,c=function(f,m,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===kd&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(NP,n).replace(r,c))}),o.prefix&&u.push(eP),u.push(ZM);var d=function(f,m,g,y){m===void 0&&(m=""),g===void 0&&(g=""),y===void 0&&(y="&"),e=y,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var w=f.replace(kP,""),v=QM(g||m?"".concat(g," ").concat(m," { ").concat(w," }"):w);o.namespace&&(v=RC(v,o.namespace));var p=[];return ph(v,XM(u.concat(JM(function(x){return p.push(x)})))),p};return d.hash=l.length?l.reduce(function(f,m){return m.name||Xc(15),Ro(f,m.name)},EC).toString():"",d}var TP=new IC,S1=AP(),FC=Fn.createContext({shouldForwardProp:void 0,styleSheet:TP,stylis:S1});FC.Consumer;Fn.createContext(void 0);function G4(){return N.useContext(FC)}var MC=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=S1);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,hx(this,function(){throw Xc(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=S1),this.name+e.hash},t}(),IP=function(t){return t>="A"&&t<="Z"};function K4(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;IP(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var PC=function(t){return t==null||t===!1||t===""},jC=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!PC(s)&&(Array.isArray(s)&&s.isCss||va(s)?r.push("".concat(K4(i),":"),s,";"):wc(s)?r.push.apply(r,_c(_c(["".concat(i," {")],jC(s),!1),["}"],!1)):r.push("".concat(K4(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in tP||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Is(t,e,n,r){if(PC(t))return[];if(ux(t))return[".".concat(t.styledComponentId)];if(va(t)){if(!va(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Is(i,e,n,r)}var s;return t instanceof MC?n?(t.inject(n,r),[t.getName(r)]):[t]:wc(t)?jC(t):Array.isArray(t)?Array.prototype.concat.apply(Fd,t.map(function(o){return Is(o,e,n,r)})):[t.toString()]}function RP(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(va(n)&&!ux(n))return!1}return!0}var FP=SC(Rd),MP=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&RP(e),this.componentId=n,this.baseHash=Ro(FP,n),this.baseStyle=r,IC.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=bs(i,this.staticRulesId);else{var s=C1(Is(this.rules,e,n,r)),o=w1(Ro(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=bs(i,o),this.staticRulesId=o}else{for(var l=Ro(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=C1(Is(d,e,n,r));l=Ro(l,f+u),c+=f}}if(c){var m=w1(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=bs(i,m)}}return i},t}(),LC=Fn.createContext(void 0);LC.Consumer;var Uf={};function PP(t,e,n){var r=ux(t),i=t,s=!Hf(t),o=e.attrs,a=o===void 0?Fd:o,l=e.componentId,c=l===void 0?function(_,S){var C=typeof _!="string"?"sc":O4(_);Uf[C]=(Uf[C]||0)+1;var E="".concat(C,"-").concat(bC(Rd+C+Uf[C]));return S?"".concat(S,"-").concat(E):E}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(_){return Hf(_)?"styled.".concat(_):"Styled(".concat(aP(_),")")}(t):u,f=e.displayName&&e.componentId?"".concat(O4(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;g=function(_,S){return y(_,S)&&w(_,S)}}else g=y}var v=new MP(n,f,r?i.componentStyle:void 0);function p(_,S){return function(C,E,D){var A=C.attrs,b=C.componentStyle,k=C.defaultProps,R=C.foldedComponentIds,F=C.styledComponentId,U=C.target,G=Fn.useContext(LC),X=G4(),ee=C.shouldForwardProp||X.shouldForwardProp,$=rP(E,G,k)||xa,H=function(ge,ue,Be){for(var he,sn=En(En({},ue),{className:void 0,theme:Be}),zn=0;zn<ge.length;zn+=1){var et=va(he=ge[zn])?he(sn):he;for(var pt in et)sn[pt]=pt==="className"?bs(sn[pt],et[pt]):pt==="style"?En(En({},sn[pt]),et[pt]):et[pt]}return ue.className&&(sn.className=bs(sn.className,ue.className)),sn}(A,E,$),z=H.as||U,M={};for(var j in H)H[j]===void 0||j[0]==="$"||j==="as"||j==="theme"&&H.theme===$||(j==="forwardedAs"?M.as=H.forwardedAs:ee&&!ee(j,z)||(M[j]=H[j]));var O=function(ge,ue){var Be=G4(),he=ge.generateAndInjectStyles(ue,Be.styleSheet,Be.stylis);return he}(b,H),L=bs(R,F);return O&&(L+=" "+O),H.className&&(L+=" "+H.className),M[Hf(z)&&!CC.has(z)?"class":"className"]=L,M.ref=D,N.createElement(z,M)}(x,_,S)}p.displayName=d;var x=Fn.forwardRef(p);return x.attrs=m,x.componentStyle=v,x.displayName=d,x.shouldForwardProp=g,x.foldedComponentIds=r?bs(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=f,x.target=r?i.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(S){for(var C=[],E=1;E<arguments.length;E++)C[E-1]=arguments[E];for(var D=0,A=C;D<A.length;D++)E1(S,A[D],!0);return S}({},i.defaultProps,_):_}}),hx(x,function(){return".".concat(x.styledComponentId)}),s&&AC(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function Q4(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Y4=function(t){return Object.assign(t,{isCss:!0})};function BC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(va(t)||wc(t))return Y4(Is(Q4(Fd,_c([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Is(r):Y4(Is(Q4(r,e)))}function b1(t,e,n){if(n===void 0&&(n=xa),!e)throw Xc(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,BC.apply(void 0,_c([i],s,!1)))};return r.attrs=function(i){return b1(t,e,En(En({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return b1(t,e,En(En({},n),i))},r}var $C=function(t){return b1(PP,t)},Xs=$C;CC.forEach(function(t){Xs[t]=$C(t)});function dx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=C1(BC.apply(void 0,_c([t],e,!1))),i=bC(r);return new MC(i,r)}const jP="#4fa94d",LP={"aria-busy":!0,role:"progressbar"},BP=Xs.div`
  display: ${t=>t.$visible?"flex":"none"};
`,$P="http://www.w3.org/2000/svg",ir=242.776657104492,OP=1.6,VP=dx`
12.5% {
  stroke-dasharray: ${ir*.14}px, ${ir}px;
  stroke-dashoffset: -${ir*.11}px;
}
43.75% {
  stroke-dasharray: ${ir*.35}px, ${ir}px;
  stroke-dashoffset: -${ir*.35}px;
}
100% {
  stroke-dasharray: ${ir*.01}px, ${ir}px;
  stroke-dashoffset: -${ir*.99}px;
}
`;Xs.path`
  stroke-dasharray: ${ir*.01}px, ${ir};
  stroke-dashoffset: 0;
  animation: ${VP} ${OP}s linear infinite;
`;const HP=dx`
to {
   transform: rotate(360deg);
 }
`;Xs.svg`
  animation: ${HP} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Xs.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const UP="-3 -4 39 39",zP="16,0 32,32 0,32",WP=dx`
to {
   stroke-dashoffset: 136;
 }
`,qP=Xs.polygon`
  stroke-dasharray: 17;
  animation: ${WP} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`,GP=Xs.svg`
  transform-origin: 50% 65%;
`,fx=({height:t=80,width:e=80,color:n=jP,ariaLabel:r="triangle-loading",wrapperStyle:i,wrapperClass:s,visible:o=!0})=>h.jsx(BP,{style:i,$visible:o,className:`${s}`,"data-testid":"triangle-loading","aria-label":r,...LP,children:h.jsx(GP,{id:"triangle",width:e,height:t,xmlns:$P,viewBox:UP,"data-testid":"triangle-svg",children:h.jsx(qP,{fill:"transparent",stroke:n,strokeWidth:"1",points:zP})})});function KP(){var c,u;let[t,e]=N.useState(!1),[n,r]=N.useState(!1),[i,s]=N.useState([]),[o,a]=N.useState("all");async function l(){const d=rt(ce,"information","info");return(await bt(d)).data()}return N.useEffect(()=>{l().then(f=>{const m=Re(ce,"machineStatus");let g=(f==null?void 0:f.forming_machine)||[],y=g.length,w=0;if(y===0){e(!0),r(!1);return}g.sort((v,p)=>parseInt(v,10)-parseInt(p,10)),g.forEach(v=>{const p=nn(m,K("machine_no","==",v),mr("time_end","desc"),Or(1));Xe(p).then(x=>{let _=!1,S="N/A";x.forEach(C=>{let E=C.data(),D=Math.floor(new Date().getTime()/1e3)-(E==null?void 0:E.time_end),A=Math.floor(D/3600),b=Math.floor(D%3600/60),k=D%60;S=`${A?`${A}h`:""}${b?` ${b}m`:""} ${k}s`,D<=600&&(_=!0)}),s(C=>[...C,{meta:"forming",machineNo:`${v}`,active:_,idleTime:S}]),w+=1,w===y&&(e(!0),r(g.length!==0))})})})},[]),console.log("formingMachine",i),h.jsxs("div",{className:"",children:[h.jsx(hD,{setPortion:a,portion:o}),t?n?h.jsx(h.Fragment,{children:h.jsx("div",{className:"grid grid-cols-4 gap-2",children:(u=(c=i==null?void 0:i.slice(0,16))==null?void 0:c.filter(d=>o==="all"?d:o==="active"?d==null?void 0:d.active:!(d!=null&&d.active)))==null?void 0:u.map(d=>h.jsx(jM,{meta:"forming",machineNo:d==null?void 0:d.machineNo,active:d==null?void 0:d.active,idleTime:d==null?void 0:d.idleTime}))})}):h.jsx("h1",{children:"Please Wait"}):h.jsx("div",{className:"min-w-screen min-h-screen flex justify-center items-center",children:h.jsx(fx,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"triangle-loading",visible:!0})})]})}const OC="/assets/Steeltech_Logo-BG1Fi9AY.svg",zf="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.54688%2010.2188C7.54688%209.95987%207.75674%209.75%208.01562%209.75H10.5938C10.6863%209.75%2010.7768%209.77739%2010.8538%209.82873L12%2010.5929L13.1462%209.82873C13.2232%209.77739%2013.3137%209.75%2013.4062%209.75H15.9844C16.2433%209.75%2016.4531%209.95987%2016.4531%2010.2188C16.4531%2010.4776%2016.2433%2010.6875%2015.9844%2010.6875H13.5482L12.26%2011.5463C12.1026%2011.6512%2011.8974%2011.6512%2011.74%2011.5463L10.4518%2010.6875H8.01562C7.75674%2010.6875%207.54688%2010.4776%207.54688%2010.2188Z'%20fill='black'/%3e%3cpath%20d='M13.1484%2019.3125C12.8896%2019.3125%2012.6797%2019.5224%2012.6797%2019.7812C12.6797%2020.0401%2012.8896%2020.25%2013.1484%2020.25H15.2578C15.5167%2020.25%2015.7266%2020.0401%2015.7266%2019.7812C15.7266%2019.5224%2015.5167%2019.3125%2015.2578%2019.3125H13.1484Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.2734%2017.4375C11.0146%2017.4375%2010.8047%2017.6474%2010.8047%2017.9062V21.6562C10.8047%2021.9151%2011.0146%2022.125%2011.2734%2022.125H17.1328C17.3917%2022.125%2017.6016%2021.9151%2017.6016%2021.6562V17.9062C17.6016%2017.6474%2017.3917%2017.4375%2017.1328%2017.4375H11.2734ZM11.7422%2021.1875V18.375H16.6641V21.1875H11.7422Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.89844%200C7.63955%200%207.42969%200.209867%207.42969%200.46875V1.28906H2.74219C2.4833%201.28906%202.27344%201.49893%202.27344%201.75781V3.63281C2.27344%203.8917%202.4833%204.10156%202.74219%204.10156H4.5V14.1562C4.5%2014.4151%204.70987%2014.625%204.96875%2014.625H5.67188V15.5625H4.96875C4.70987%2015.5625%204.5%2015.7724%204.5%2016.0312V23.5312C4.5%2023.7901%204.70987%2024%204.96875%2024H19.0312C19.2901%2024%2019.5%2023.7901%2019.5%2023.5312V16.0312C19.5%2015.7724%2019.2901%2015.5625%2019.0312%2015.5625H18.3281V14.625H19.0312C19.2901%2014.625%2019.5%2014.4151%2019.5%2014.1562V4.10156H21.2578C21.5167%204.10156%2021.7266%203.8917%2021.7266%203.63281V1.75781C21.7266%201.49893%2021.5167%201.28906%2021.2578%201.28906H16.5703V0.46875C16.5703%200.209867%2016.3604%200%2016.1016%200H7.89844ZM18.5625%204.10156H16.5703V4.92188C16.5703%205.18076%2016.3604%205.39062%2016.1016%205.39062H13.875V7.45312C13.875%207.57745%2013.8256%207.69667%2013.7377%207.78458L12.3315%209.19083C12.1484%209.37389%2011.8516%209.37389%2011.6685%209.19083L10.2623%207.78458C10.1744%207.69667%2010.125%207.57745%2010.125%207.45312V5.39062H7.89844C7.63955%205.39062%207.42969%205.18076%207.42969%204.92188V4.10156H5.4375V13.6875H7.54688V12.5156C7.54688%2012.2567%207.75674%2012.0469%208.01562%2012.0469H10.5938C10.6863%2012.0469%2010.7768%2012.0743%2010.8538%2012.1256L12%2012.8898L13.1462%2012.1256C13.2232%2012.0743%2013.3137%2012.0469%2013.4062%2012.0469H15.9844C16.2433%2012.0469%2016.4531%2012.2567%2016.4531%2012.5156V13.6875H18.5625V4.10156ZM20.7891%203.16406V2.22656H16.5703V3.16406H20.7891ZM15.6328%200.9375H8.36719V4.45312H15.6328V0.9375ZM7.42969%203.16406V2.22656H3.21094V3.16406H7.42969ZM12.9375%205.39062H11.0625V7.25896L12%208.19646L12.9375%207.25896V5.39062ZM15.5156%2012.9844H13.5482L12.26%2013.8431C12.1026%2013.9481%2011.8974%2013.9481%2011.74%2013.8431L10.4518%2012.9844H8.48438V15.5625H15.5156V12.9844ZM17.3906%2014.625H16.4531V15.5625H17.3906V14.625ZM6.60938%2015.5625H7.54688V14.625H6.60938V15.5625ZM5.4375%2016.5V23.0625H18.5625V16.5H5.4375Z'%20fill='black'/%3e%3c/svg%3e",QP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_818_5583)'%3e%3cpath%20d='M8.15625%2011.25H3.09375C1.38783%2011.25%200%209.86217%200%208.15625V3.09375C0%201.38783%201.38783%200%203.09375%200H8.15625C9.86217%200%2011.25%201.38783%2011.25%203.09375V8.15625C11.25%209.86217%209.86217%2011.25%208.15625%2011.25ZM3.09375%201.5C2.21494%201.5%201.5%202.21494%201.5%203.09375V8.15625C1.5%209.03506%202.21494%209.75%203.09375%209.75H8.15625C9.03506%209.75%209.75%209.03506%209.75%208.15625V3.09375C9.75%202.21494%209.03506%201.5%208.15625%201.5H3.09375ZM20.9062%2011.25H15.8438C14.1378%2011.25%2012.75%209.86217%2012.75%208.15625V3.09375C12.75%201.38783%2014.1378%200%2015.8438%200H20.9062C22.6122%200%2024%201.38783%2024%203.09375V8.15625C24%209.86217%2022.6122%2011.25%2020.9062%2011.25ZM15.8438%201.5C14.9649%201.5%2014.25%202.21494%2014.25%203.09375V8.15625C14.25%209.03506%2014.9649%209.75%2015.8438%209.75H20.9062C21.7851%209.75%2022.5%209.03506%2022.5%208.15625V3.09375C22.5%202.21494%2021.7851%201.5%2020.9062%201.5H15.8438ZM18.375%2024C15.2734%2024%2012.75%2021.4766%2012.75%2018.375C12.75%2015.2734%2015.2734%2012.75%2018.375%2012.75C21.4766%2012.75%2024%2015.2734%2024%2018.375C24%2021.4766%2021.4766%2024%2018.375%2024ZM18.375%2014.25C16.1005%2014.25%2014.25%2016.1005%2014.25%2018.375C14.25%2020.6495%2016.1005%2022.5%2018.375%2022.5C20.6495%2022.5%2022.5%2020.6495%2022.5%2018.375C22.5%2016.1005%2020.6495%2014.25%2018.375%2014.25ZM8.15625%2024H3.09375C1.38783%2024%200%2022.6122%200%2020.9062V15.8438C0%2014.1378%201.38783%2012.75%203.09375%2012.75H8.15625C9.86217%2012.75%2011.25%2014.1378%2011.25%2015.8438V20.9062C11.25%2022.6122%209.86217%2024%208.15625%2024ZM3.09375%2014.25C2.21494%2014.25%201.5%2014.9649%201.5%2015.8438V20.9062C1.5%2021.7851%202.21494%2022.5%203.09375%2022.5H8.15625C9.03506%2022.5%209.75%2021.7851%209.75%2020.9062V15.8438C9.75%2014.9649%209.03506%2014.25%208.15625%2014.25H3.09375Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_818_5583'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",YP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_818_5582)'%3e%3cpath%20d='M8.15625%2011.25H3.09375C1.38783%2011.25%200%209.86217%200%208.15625V3.09375C0%201.38783%201.38783%200%203.09375%200H8.15625C9.86217%200%2011.25%201.38783%2011.25%203.09375V8.15625C11.25%209.86217%209.86217%2011.25%208.15625%2011.25ZM3.09375%201.5C2.21494%201.5%201.5%202.21494%201.5%203.09375V8.15625C1.5%209.03506%202.21494%209.75%203.09375%209.75H8.15625C9.03506%209.75%209.75%209.03506%209.75%208.15625V3.09375C9.75%202.21494%209.03506%201.5%208.15625%201.5H3.09375ZM20.9062%2011.25H15.8438C14.1378%2011.25%2012.75%209.86217%2012.75%208.15625V3.09375C12.75%201.38783%2014.1378%200%2015.8438%200H20.9062C22.6122%200%2024%201.38783%2024%203.09375V8.15625C24%209.86217%2022.6122%2011.25%2020.9062%2011.25ZM15.8438%201.5C14.9649%201.5%2014.25%202.21494%2014.25%203.09375V8.15625C14.25%209.03506%2014.9649%209.75%2015.8438%209.75H20.9062C21.7851%209.75%2022.5%209.03506%2022.5%208.15625V3.09375C22.5%202.21494%2021.7851%201.5%2020.9062%201.5H15.8438ZM18.375%2024C15.2734%2024%2012.75%2021.4766%2012.75%2018.375C12.75%2015.2734%2015.2734%2012.75%2018.375%2012.75C21.4766%2012.75%2024%2015.2734%2024%2018.375C24%2021.4766%2021.4766%2024%2018.375%2024ZM18.375%2014.25C16.1005%2014.25%2014.25%2016.1005%2014.25%2018.375C14.25%2020.6495%2016.1005%2022.5%2018.375%2022.5C20.6495%2022.5%2022.5%2020.6495%2022.5%2018.375C22.5%2016.1005%2020.6495%2014.25%2018.375%2014.25ZM8.15625%2024H3.09375C1.38783%2024%200%2022.6122%200%2020.9062V15.8438C0%2014.1378%201.38783%2012.75%203.09375%2012.75H8.15625C9.86217%2012.75%2011.25%2014.1378%2011.25%2015.8438V20.9062C11.25%2022.6122%209.86217%2024%208.15625%2024ZM3.09375%2014.25C2.21494%2014.25%201.5%2014.9649%201.5%2015.8438V20.9062C1.5%2021.7851%202.21494%2022.5%203.09375%2022.5H8.15625C9.03506%2022.5%209.75%2021.7851%209.75%2020.9062V15.8438C9.75%2014.9649%209.03506%2014.25%208.15625%2014.25H3.09375Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_818_5582'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ZP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.25%2015H12.75V18H11.25V15ZM15%2013.5H16.5V18H15V13.5ZM7.5%2010.5H9V18H7.5V10.5Z'%20fill='black'/%3e%3cpath%20d='M18.75%203.75H16.5V3C16.5%202.60218%2016.342%202.22064%2016.0607%201.93934C15.7794%201.65804%2015.3978%201.5%2015%201.5H9C8.60218%201.5%208.22064%201.65804%207.93934%201.93934C7.65804%202.22064%207.5%202.60218%207.5%203V3.75H5.25C4.85218%203.75%204.47064%203.90804%204.18934%204.18934C3.90804%204.47064%203.75%204.85218%203.75%205.25V21C3.75%2021.3978%203.90804%2021.7794%204.18934%2022.0607C4.47064%2022.342%204.85218%2022.5%205.25%2022.5H18.75C19.1478%2022.5%2019.5294%2022.342%2019.8107%2022.0607C20.092%2021.7794%2020.25%2021.3978%2020.25%2021V5.25C20.25%204.85218%2020.092%204.47064%2019.8107%204.18934C19.5294%203.90804%2019.1478%203.75%2018.75%203.75ZM9%203H15V6H9V3ZM18.75%2021H5.25V5.25H7.5V7.5H16.5V5.25H18.75V21Z'%20fill='black'/%3e%3c/svg%3e",XP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.25%2015H12.75V18H11.25V15ZM15%2013.5H16.5V18H15V13.5ZM7.5%2010.5H9V18H7.5V10.5Z'%20fill='white'/%3e%3cpath%20d='M18.75%203.75H16.5V3C16.5%202.60218%2016.342%202.22064%2016.0607%201.93934C15.7794%201.65804%2015.3978%201.5%2015%201.5H9C8.60218%201.5%208.22064%201.65804%207.93934%201.93934C7.65804%202.22064%207.5%202.60218%207.5%203V3.75H5.25C4.85218%203.75%204.47064%203.90804%204.18934%204.18934C3.90804%204.47064%203.75%204.85218%203.75%205.25V21C3.75%2021.3978%203.90804%2021.7794%204.18934%2022.0607C4.47064%2022.342%204.85218%2022.5%205.25%2022.5H18.75C19.1478%2022.5%2019.5294%2022.342%2019.8107%2022.0607C20.092%2021.7794%2020.25%2021.3978%2020.25%2021V5.25C20.25%204.85218%2020.092%204.47064%2019.8107%204.18934C19.5294%203.90804%2019.1478%203.75%2018.75%203.75ZM9%203H15V6H9V3ZM18.75%2021H5.25V5.25H7.5V7.5H16.5V5.25H18.75V21Z'%20fill='white'/%3e%3c/svg%3e",Z4="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.54688%2010.2188C7.54688%209.95987%207.75674%209.75%208.01562%209.75H10.5938C10.6863%209.75%2010.7768%209.77739%2010.8538%209.82873L12%2010.5929L13.1462%209.82873C13.2232%209.77739%2013.3137%209.75%2013.4062%209.75H15.9844C16.2433%209.75%2016.4531%209.95987%2016.4531%2010.2188C16.4531%2010.4776%2016.2433%2010.6875%2015.9844%2010.6875H13.5482L12.26%2011.5463C12.1026%2011.6512%2011.8974%2011.6512%2011.74%2011.5463L10.4518%2010.6875H8.01562C7.75674%2010.6875%207.54688%2010.4776%207.54688%2010.2188Z'%20fill='white'/%3e%3cpath%20d='M13.1484%2019.3125C12.8896%2019.3125%2012.6797%2019.5224%2012.6797%2019.7812C12.6797%2020.0401%2012.8896%2020.25%2013.1484%2020.25H15.2578C15.5167%2020.25%2015.7266%2020.0401%2015.7266%2019.7812C15.7266%2019.5224%2015.5167%2019.3125%2015.2578%2019.3125H13.1484Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.2734%2017.4375C11.0146%2017.4375%2010.8047%2017.6474%2010.8047%2017.9062V21.6562C10.8047%2021.9151%2011.0146%2022.125%2011.2734%2022.125H17.1328C17.3917%2022.125%2017.6016%2021.9151%2017.6016%2021.6562V17.9062C17.6016%2017.6474%2017.3917%2017.4375%2017.1328%2017.4375H11.2734ZM11.7422%2021.1875V18.375H16.6641V21.1875H11.7422Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.89844%200C7.63955%200%207.42969%200.209867%207.42969%200.46875V1.28906H2.74219C2.4833%201.28906%202.27344%201.49893%202.27344%201.75781V3.63281C2.27344%203.8917%202.4833%204.10156%202.74219%204.10156H4.5V14.1562C4.5%2014.4151%204.70987%2014.625%204.96875%2014.625H5.67188V15.5625H4.96875C4.70987%2015.5625%204.5%2015.7724%204.5%2016.0312V23.5312C4.5%2023.7901%204.70987%2024%204.96875%2024H19.0312C19.2901%2024%2019.5%2023.7901%2019.5%2023.5312V16.0312C19.5%2015.7724%2019.2901%2015.5625%2019.0312%2015.5625H18.3281V14.625H19.0312C19.2901%2014.625%2019.5%2014.4151%2019.5%2014.1562V4.10156H21.2578C21.5167%204.10156%2021.7266%203.8917%2021.7266%203.63281V1.75781C21.7266%201.49893%2021.5167%201.28906%2021.2578%201.28906H16.5703V0.46875C16.5703%200.209867%2016.3604%200%2016.1016%200H7.89844ZM18.5625%204.10156H16.5703V4.92188C16.5703%205.18076%2016.3604%205.39062%2016.1016%205.39062H13.875V7.45312C13.875%207.57745%2013.8256%207.69667%2013.7377%207.78458L12.3315%209.19083C12.1484%209.37389%2011.8516%209.37389%2011.6685%209.19083L10.2623%207.78458C10.1744%207.69667%2010.125%207.57745%2010.125%207.45312V5.39062H7.89844C7.63955%205.39062%207.42969%205.18076%207.42969%204.92188V4.10156H5.4375V13.6875H7.54688V12.5156C7.54688%2012.2567%207.75674%2012.0469%208.01562%2012.0469H10.5938C10.6863%2012.0469%2010.7768%2012.0743%2010.8538%2012.1256L12%2012.8898L13.1462%2012.1256C13.2232%2012.0743%2013.3137%2012.0469%2013.4062%2012.0469H15.9844C16.2433%2012.0469%2016.4531%2012.2567%2016.4531%2012.5156V13.6875H18.5625V4.10156ZM20.7891%203.16406V2.22656H16.5703V3.16406H20.7891ZM15.6328%200.9375H8.36719V4.45312H15.6328V0.9375ZM7.42969%203.16406V2.22656H3.21094V3.16406H7.42969ZM12.9375%205.39062H11.0625V7.25896L12%208.19646L12.9375%207.25896V5.39062ZM15.5156%2012.9844H13.5482L12.26%2013.8431C12.1026%2013.9481%2011.8974%2013.9481%2011.74%2013.8431L10.4518%2012.9844H8.48438V15.5625H15.5156V12.9844ZM17.3906%2014.625H16.4531V15.5625H17.3906V14.625ZM6.60938%2015.5625H7.54688V14.625H6.60938V15.5625ZM5.4375%2016.5V23.0625H18.5625V16.5H5.4375Z'%20fill='white'/%3e%3c/svg%3e",X4="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.25%2021H22.5V19.5H3V0H1.5V20.25L2.25%2021ZM4.5%2017.25V5.25L5.25%204.5H8.25L9%205.25V17.25L8.25%2018H5.25L4.5%2017.25ZM7.5%2016.5V6H6V16.5H7.5ZM16.5%202.25V17.25L17.25%2018H20.25L21%2017.25V2.25L20.25%201.5H17.25L16.5%202.25ZM19.5%203V16.5H18V3H19.5ZM10.5%2017.25V8.25L11.25%207.5H14.25L15%208.25V17.25L14.25%2018H11.25L10.5%2017.25ZM13.5%2016.5V9H12V16.5H13.5Z'%20fill='black'/%3e%3c/svg%3e",JP="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4%207C4%204.23858%206.23858%202%209%202C11.7614%202%2014%204.23858%2014%207C14%209.76142%2011.7614%2012%209%2012C6.23858%2012%204%209.76142%204%207ZM9%204C7.34315%204%206%205.34315%206%207C6%208.65685%207.34315%2010%209%2010C10.6569%2010%2012%208.65685%2012%207C12%205.34315%2010.6569%204%209%204Z'%20fill='black'/%3e%3cpath%20d='M2.46447%2015.4645C3.40215%2014.5268%204.67392%2014%206%2014H12C13.3261%2014%2014.5979%2014.5268%2015.5355%2015.4645C16.4732%2016.4021%2017%2017.6739%2017%2019V21C17%2021.5523%2016.5523%2022%2016%2022C15.4477%2022%2015%2021.5523%2015%2021V19C15%2018.2043%2014.6839%2017.4413%2014.1213%2016.8787C13.5587%2016.3161%2012.7957%2016%2012%2016H6C5.20435%2016%204.44129%2016.3161%203.87868%2016.8787C3.31607%2017.4413%203%2018.2043%203%2019V21C3%2021.5523%202.55228%2022%202%2022C1.44772%2022%201%2021.5523%201%2021V19C1%2017.6739%201.52678%2016.4021%202.46447%2015.4645Z'%20fill='black'/%3e%3cpath%20d='M16.248%202.16125C15.713%202.02427%2015.1682%202.34694%2015.0313%202.88197C14.8943%203.41699%2015.2169%203.96177%2015.752%204.09875C16.3973%204.26398%2016.9692%204.63928%2017.3777%205.16549C17.7861%205.6917%2018.0078%206.33888%2018.0078%207.00501C18.0078%207.67113%2017.7861%208.31831%2017.3777%208.84452C16.9692%209.37073%2016.3973%209.74603%2015.752%209.91125C15.2169%2010.0482%2014.8943%2010.593%2015.0313%2011.128C15.1682%2011.6631%2015.713%2011.9857%2016.248%2011.8488C17.3236%2011.5734%2018.2768%2010.9479%2018.9576%2010.0709C19.6383%209.19386%2020.0078%208.11522%2020.0078%207.00501C20.0078%205.89479%2019.6383%204.81615%2018.9576%203.93914C18.2768%203.06213%2017.3236%202.43663%2016.248%202.16125Z'%20fill='black'/%3e%3cpath%20d='M19.25%2014.1618C18.7153%2014.0237%2018.1698%2014.3453%2018.0318%2014.88C17.8937%2015.4148%2018.2153%2015.9602%2018.75%2016.0983C19.3936%2016.2644%2019.9638%2016.6396%2020.371%2017.165C20.7782%2017.6902%2020.9994%2018.3358%2021%2019.0003L21%2019.0008L21%2021C21%2021.5523%2021.4477%2022%2022%2022C22.5523%2022%2023%2021.5523%2023%2021V18.9993C22.9992%2017.8914%2022.6305%2016.8152%2021.9517%2015.9397C21.273%2015.0641%2020.3227%2014.4387%2019.25%2014.1618Z'%20fill='black'/%3e%3c/svg%3e",ej="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4%207C4%204.23857%206.23858%202%209%202C11.7614%202%2014%204.23857%2014%207C14%209.76142%2011.7614%2012%209%2012C6.23858%2012%204%209.76142%204%207ZM9%204C7.34315%204%206%205.34314%206%207C6%208.65685%207.34315%2010%209%2010C10.6569%2010%2012%208.65685%2012%207C12%205.34314%2010.6569%204%209%204Z'%20fill='white'/%3e%3cpath%20d='M2.46447%2015.4645C3.40215%2014.5268%204.67392%2014%206%2014H12C13.3261%2014%2014.5979%2014.5268%2015.5355%2015.4645C16.4732%2016.4021%2017%2017.6739%2017%2019V21C17%2021.5523%2016.5523%2022%2016%2022C15.4477%2022%2015%2021.5523%2015%2021V19C15%2018.2043%2014.6839%2017.4413%2014.1213%2016.8787C13.5587%2016.3161%2012.7957%2016%2012%2016H6C5.20435%2016%204.44129%2016.3161%203.87868%2016.8787C3.31607%2017.4413%203%2018.2043%203%2019V21C3%2021.5523%202.55228%2022%202%2022C1.44772%2022%201%2021.5523%201%2021V19C1%2017.6739%201.52678%2016.4021%202.46447%2015.4645Z'%20fill='white'/%3e%3cpath%20d='M16.248%202.16125C15.713%202.02426%2015.1682%202.34694%2015.0313%202.88196C14.8943%203.41699%2015.2169%203.96176%2015.752%204.09875C16.3973%204.26398%2016.9692%204.63928%2017.3777%205.16549C17.7861%205.69169%2018.0078%206.33888%2018.0078%207.005C18.0078%207.67113%2017.7861%208.31831%2017.3777%208.84452C16.9692%209.37073%2016.3973%209.74603%2015.752%209.91125C15.2169%2010.0482%2014.8943%2010.593%2015.0313%2011.128C15.1682%2011.6631%2015.713%2011.9857%2016.248%2011.8488C17.3236%2011.5734%2018.2768%2010.9479%2018.9576%2010.0709C19.6383%209.19385%2020.0078%208.11522%2020.0078%207.005C20.0078%205.89479%2019.6383%204.81615%2018.9576%203.93914C18.2768%203.06213%2017.3236%202.43663%2016.248%202.16125Z'%20fill='white'/%3e%3cpath%20d='M19.25%2014.1618C18.7153%2014.0237%2018.1698%2014.3453%2018.0318%2014.88C17.8937%2015.4148%2018.2153%2015.9602%2018.75%2016.0982C19.3936%2016.2644%2019.9638%2016.6396%2020.371%2017.165C20.7782%2017.6902%2020.9994%2018.3358%2021%2019.0003L21%2019.0007L21%2021C21%2021.5523%2021.4477%2022%2022%2022C22.5523%2022%2023%2021.5523%2023%2021V18.9993C22.9992%2017.8914%2022.6305%2016.8152%2021.9517%2015.9397C21.273%2015.0641%2020.3227%2014.4387%2019.25%2014.1618Z'%20fill='white'/%3e%3c/svg%3e",tj="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_818_5611)'%3e%3cpath%20d='M22.6931%2012.8403V8.54585L20.0971%207.92779C19.9797%207.58452%2019.8406%207.24909%2019.6805%206.92355L21.0794%204.65025L18.0428%201.61361L15.7695%203.01259C15.4439%202.85249%2015.1085%202.71334%2014.7653%202.59599L14.1472%20-3.57628e-07H9.85282L9.23471%202.59599C8.89145%202.71334%208.55604%202.85249%208.23051%203.01259L5.95721%201.61361L2.92052%204.65025L4.31946%206.92355C4.15937%207.24909%204.02022%207.58452%203.90286%207.92779L1.30692%208.54581V12.8402L3.90291%2013.4583C4.02027%2013.8016%204.15942%2014.137%204.31951%2014.4626L2.91396%2016.7466L5.0195%2018.7633C4.79521%2019.4357%204.68096%2020.14%204.68117%2020.8488V24H19.4138V20.8488C19.4138%2020.1594%2019.3058%2019.4801%2019.0974%2018.8321L21.0691%2016.7191L19.6805%2014.4626C19.8406%2014.1371%2019.9797%2013.8017%2020.0971%2013.4584L22.6931%2012.8403ZM17.9881%2022.5743H6.10692V20.8488C6.10692%2019.86%206.38864%2018.8971%206.92168%2018.0643C7.87588%2016.5733%209.50237%2015.6832%2011.2725%2015.6832H12.8225C14.5927%2015.6832%2016.2191%2016.5733%2017.1733%2018.0642C17.7058%2018.8953%2017.9886%2019.8617%2017.9881%2020.8488V22.5743ZM12.0475%2014.198C10.2295%2014.198%208.75048%2012.719%208.75048%2010.901C8.75048%209.08303%2010.2295%207.60396%2012.0475%207.60396C13.8655%207.60396%2015.3445%209.08303%2015.3445%2010.901C15.3445%2012.719%2013.8655%2014.198%2012.0475%2014.198ZM19.2853%2016.5408L18.4564%2017.4292C18.4293%2017.3846%2018.4024%2017.3397%2018.3742%2017.2957C17.5565%2016.0181%2016.3517%2015.087%2014.9646%2014.6127C16.0634%2013.7472%2016.7702%2012.4051%2016.7702%2010.901C16.7702%208.29687%2014.6516%206.17822%2012.0475%206.17822C9.44334%206.17822%207.32469%208.29687%207.32469%2010.901C7.32469%2012.4051%208.03148%2013.7472%209.13034%2014.6127C7.74324%2015.087%206.53839%2016.0181%205.72073%2017.2957C5.69877%2017.33%205.6781%2017.365%205.65681%2017.3996L4.7315%2016.5133L5.96425%2014.5101L5.03181%2012.2616L2.73266%2011.7141V9.67195L5.03186%209.12451L5.96429%206.87602L4.72494%204.86211L6.16898%203.41807L8.18294%204.65743L10.4314%203.72499L10.9789%201.42574H13.0211L13.5685%203.72494L15.817%204.65743L17.8309%203.41807L19.275%204.86211L18.0356%206.87602L18.9681%209.12451L21.2673%209.67195V11.7141L18.9681%2012.2616L18.0356%2014.5101L19.2853%2016.5408Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_818_5611'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",nj="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_818_5610)'%3e%3cpath%20d='M22.6931%2012.8403V8.54585L20.0971%207.92779C19.9797%207.58452%2019.8406%207.24909%2019.6805%206.92355L21.0794%204.65025L18.0428%201.61361L15.7695%203.01259C15.4439%202.85249%2015.1085%202.71334%2014.7653%202.59599L14.1472%20-3.57628e-07H9.85282L9.23471%202.59599C8.89145%202.71334%208.55604%202.85249%208.23051%203.01259L5.95721%201.61361L2.92052%204.65025L4.31946%206.92355C4.15937%207.24909%204.02022%207.58452%203.90286%207.92779L1.30692%208.54581V12.8402L3.90291%2013.4583C4.02027%2013.8016%204.15942%2014.137%204.31951%2014.4626L2.91396%2016.7466L5.0195%2018.7633C4.79521%2019.4357%204.68096%2020.14%204.68117%2020.8488V24H19.4138V20.8488C19.4138%2020.1594%2019.3058%2019.4801%2019.0974%2018.8321L21.0691%2016.7191L19.6805%2014.4626C19.8406%2014.1371%2019.9797%2013.8017%2020.0971%2013.4584L22.6931%2012.8403ZM17.9881%2022.5743H6.10692V20.8488C6.10692%2019.86%206.38864%2018.8971%206.92168%2018.0643C7.87588%2016.5733%209.50237%2015.6832%2011.2725%2015.6832H12.8225C14.5927%2015.6832%2016.2191%2016.5733%2017.1733%2018.0642C17.7058%2018.8953%2017.9886%2019.8617%2017.9881%2020.8488V22.5743ZM12.0475%2014.198C10.2295%2014.198%208.75048%2012.719%208.75048%2010.901C8.75048%209.08303%2010.2295%207.60396%2012.0475%207.60396C13.8655%207.60396%2015.3445%209.08303%2015.3445%2010.901C15.3445%2012.719%2013.8655%2014.198%2012.0475%2014.198ZM19.2853%2016.5408L18.4564%2017.4292C18.4293%2017.3846%2018.4024%2017.3397%2018.3742%2017.2957C17.5565%2016.0181%2016.3517%2015.087%2014.9646%2014.6127C16.0634%2013.7472%2016.7702%2012.4051%2016.7702%2010.901C16.7702%208.29687%2014.6516%206.17822%2012.0475%206.17822C9.44334%206.17822%207.32469%208.29687%207.32469%2010.901C7.32469%2012.4051%208.03148%2013.7472%209.13034%2014.6127C7.74324%2015.087%206.53839%2016.0181%205.72073%2017.2957C5.69877%2017.33%205.6781%2017.365%205.65681%2017.3996L4.7315%2016.5133L5.96425%2014.5101L5.03181%2012.2616L2.73266%2011.7141V9.67195L5.03186%209.12451L5.96429%206.87602L4.72494%204.86211L6.16898%203.41807L8.18294%204.65743L10.4314%203.72499L10.9789%201.42574H13.0211L13.5685%203.72494L15.817%204.65743L17.8309%203.41807L19.275%204.86211L18.0356%206.87602L18.9681%209.12451L21.2673%209.67195V11.7141L18.9681%2012.2616L18.0356%2014.5101L19.2853%2016.5408Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_818_5610'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",rj="/assets/Tare___Coil_White-CRe1WiRM.svg",ij="/assets/Tare___Coil_Black-Cfz74l6R.svg",sj="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.2222%2011.994C10.7484%2012.3456%2011.3671%2012.5333%2012%2012.5333C12.8482%2012.5316%2013.6611%2012.1938%2014.2608%2011.5941C14.8605%2010.9944%2015.1982%2010.1815%2015.2%209.33332C15.2%208.70042%2015.0123%208.08173%2014.6607%207.55549C14.3091%207.02925%2013.8093%206.6191%2013.2246%206.3769C12.6399%206.1347%2011.9965%206.07133%2011.3757%206.1948C10.755%206.31828%2010.1848%206.62305%209.73727%207.07057C9.28974%207.5181%208.98497%208.08829%208.8615%208.70903C8.73803%209.32977%208.8014%209.97318%209.0436%2010.5579C9.2858%2011.1426%209.69595%2011.6424%2010.2222%2011.994ZM11.0111%207.8533C11.3038%207.65771%2011.648%207.55332%2012%207.55332V7.55998C12.4709%207.55998%2012.9227%207.7466%2013.2563%208.07897C13.5899%208.41135%2013.7782%208.86239%2013.78%209.33332C13.78%209.68537%2013.6756%2010.0295%2013.48%2010.3222C13.2844%2010.615%2013.0064%2010.8431%2012.6812%2010.9778C12.3559%2011.1125%2011.998%2011.1478%2011.6528%2011.0791C11.3075%2011.0104%2010.9903%2010.8409%2010.7414%2010.592C10.4924%2010.343%2010.3229%2010.0259%2010.2542%209.68058C10.1855%209.33529%2010.2208%208.97739%2010.3555%208.65214C10.4902%208.32689%2010.7184%208.04889%2011.0111%207.8533Z'%20fill='black'/%3e%3cpath%20d='M14.8467%2016.4467H16.2667C16.2649%2015.6928%2015.9642%2014.9705%2015.4306%2014.4381C14.8969%2013.9056%2014.1738%2013.6066%2013.42%2013.6066H10.5733C9.82013%2013.6066%209.09776%2013.9059%208.56516%2014.4385C8.03256%2014.9711%207.73334%2015.6934%207.73334%2016.4467H9.15334C9.15334%2016.07%209.30295%2015.7089%209.56925%2015.4426C9.83555%2015.1763%2010.1967%2015.0266%2010.5733%2015.0266H13.4267C13.8027%2015.0284%2014.1629%2015.1786%2014.4288%2015.4445C14.6948%2015.7104%2014.8449%2016.0706%2014.8467%2016.4467Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.68%2022.5933C11.7795%2022.6423%2011.8891%2022.6674%2012%2022.6666C12.1069%2022.6633%2012.2117%2022.636%2012.3067%2022.5867L15.5533%2020.9667C17.093%2020.2042%2018.3881%2019.0255%2019.2919%2017.5644C20.1957%2016.1032%2020.672%2014.4181%2020.6667%2012.7V4.60665C20.6668%204.5101%2020.6473%204.41454%2020.6094%204.32574C20.5715%204.23695%2020.5159%204.15678%2020.4461%204.09009C20.3763%204.02339%2020.2937%203.97156%2020.2032%203.93774C20.1128%203.90392%2020.0165%203.88881%2019.92%203.89332H17.6067C16.6604%203.88832%2015.7352%203.61308%2014.94%203.09998L12.36%201.44665C12.2455%201.37367%2012.1125%201.3349%2011.9767%201.3349C11.8409%201.3349%2011.7079%201.37367%2011.5933%201.44665L9.01335%203.09998C8.21819%203.61308%207.293%203.88832%206.34668%203.89332H4.03335C3.84648%203.89681%203.66845%203.9735%203.53754%204.1069C3.40663%204.2403%203.33331%204.41975%203.33335%204.60665V12.7C3.32559%2014.4178%203.79927%2016.1034%204.70069%2017.5657C5.60211%2019.028%206.8952%2020.2085%208.43334%2020.9733L11.68%2022.5933ZM4.74668%2012.7V5.33332H6.34668C7.57546%205.32926%208.77692%204.97044%209.80668%204.29998L12%202.88665L14.1933%204.31332C15.2245%204.97907%2016.4259%205.33323%2017.6533%205.33332H19.2533V12.7C19.2574%2014.1534%2018.8542%2015.579%2018.0895%2016.815C17.3248%2018.0511%2016.2291%2019.0482%2014.9267%2019.6933L12%2021.16L9.07335%2019.6933C7.7709%2019.0482%206.67523%2018.0511%205.91051%2016.815C5.14579%2015.579%204.74262%2014.1534%204.74668%2012.7Z'%20fill='black'/%3e%3c/svg%3e",oj="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.2222%2011.994C10.7484%2012.3456%2011.3671%2012.5333%2012%2012.5333C12.8482%2012.5316%2013.6611%2012.1938%2014.2608%2011.5941C14.8605%2010.9944%2015.1982%2010.1815%2015.2%209.33332C15.2%208.70042%2015.0123%208.08173%2014.6607%207.55549C14.3091%207.02925%2013.8093%206.6191%2013.2246%206.3769C12.6399%206.1347%2011.9965%206.07133%2011.3757%206.1948C10.755%206.31828%2010.1848%206.62305%209.73727%207.07057C9.28974%207.5181%208.98497%208.08829%208.8615%208.70903C8.73803%209.32977%208.8014%209.97318%209.0436%2010.5579C9.2858%2011.1426%209.69595%2011.6424%2010.2222%2011.994ZM11.0111%207.8533C11.3038%207.65771%2011.648%207.55332%2012%207.55332V7.55998C12.4709%207.55998%2012.9227%207.7466%2013.2563%208.07897C13.5899%208.41135%2013.7782%208.86239%2013.78%209.33332C13.78%209.68537%2013.6756%2010.0295%2013.48%2010.3222C13.2844%2010.615%2013.0064%2010.8431%2012.6812%2010.9778C12.3559%2011.1125%2011.998%2011.1478%2011.6528%2011.0791C11.3075%2011.0104%2010.9903%2010.8409%2010.7414%2010.592C10.4924%2010.343%2010.3229%2010.0259%2010.2542%209.68058C10.1855%209.33529%2010.2208%208.97739%2010.3555%208.65214C10.4902%208.32689%2010.7184%208.04889%2011.0111%207.8533Z'%20fill='white'/%3e%3cpath%20d='M14.8467%2016.4467H16.2667C16.2649%2015.6928%2015.9642%2014.9705%2015.4306%2014.4381C14.8969%2013.9056%2014.1738%2013.6066%2013.42%2013.6066H10.5733C9.82013%2013.6066%209.09776%2013.9059%208.56516%2014.4385C8.03256%2014.9711%207.73334%2015.6934%207.73334%2016.4467H9.15334C9.15334%2016.07%209.30295%2015.7089%209.56925%2015.4426C9.83555%2015.1763%2010.1967%2015.0266%2010.5733%2015.0266H13.4267C13.8027%2015.0284%2014.1629%2015.1786%2014.4288%2015.4445C14.6948%2015.7104%2014.8449%2016.0706%2014.8467%2016.4467Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.68%2022.5933C11.7795%2022.6423%2011.8891%2022.6674%2012%2022.6666C12.1069%2022.6633%2012.2117%2022.636%2012.3067%2022.5867L15.5533%2020.9667C17.093%2020.2042%2018.3881%2019.0255%2019.2919%2017.5644C20.1957%2016.1032%2020.672%2014.4181%2020.6667%2012.7V4.60665C20.6668%204.5101%2020.6473%204.41454%2020.6094%204.32574C20.5715%204.23695%2020.5159%204.15678%2020.4461%204.09009C20.3763%204.02339%2020.2937%203.97156%2020.2032%203.93774C20.1128%203.90392%2020.0165%203.88881%2019.92%203.89332H17.6067C16.6604%203.88832%2015.7352%203.61308%2014.94%203.09998L12.36%201.44665C12.2455%201.37367%2012.1125%201.3349%2011.9767%201.3349C11.8409%201.3349%2011.7079%201.37367%2011.5933%201.44665L9.01335%203.09998C8.21819%203.61308%207.293%203.88832%206.34668%203.89332H4.03335C3.84648%203.89681%203.66845%203.9735%203.53754%204.1069C3.40663%204.2403%203.33331%204.41975%203.33335%204.60665V12.7C3.32559%2014.4178%203.79927%2016.1034%204.70069%2017.5657C5.60211%2019.028%206.8952%2020.2085%208.43334%2020.9733L11.68%2022.5933ZM4.74668%2012.7V5.33332H6.34668C7.57546%205.32926%208.77692%204.97044%209.80668%204.29998L12%202.88665L14.1933%204.31332C15.2245%204.97907%2016.4259%205.33323%2017.6533%205.33332H19.2533V12.7C19.2574%2014.1534%2018.8542%2015.579%2018.0895%2016.815C17.3248%2018.0511%2016.2291%2019.0482%2014.9267%2019.6933L12%2021.16L9.07335%2019.6933C7.7709%2019.0482%206.67523%2018.0511%205.91051%2016.815C5.14579%2015.579%204.74262%2014.1534%204.74668%2012.7Z'%20fill='white'/%3e%3c/svg%3e";var VC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},J4=Fn.createContext&&Fn.createContext(VC),aj=["attr","size","title"];function lj(t,e){if(t==null)return{};var n=cj(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xh.apply(this,arguments)}function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uj(t,e,n){return e=hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=dj(t,"string");return typeof e=="symbol"?e:e+""}function dj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HC(t){return t&&t.map((e,n)=>Fn.createElement(e.tag,vh({key:n},e.attr),HC(e.child)))}function Ma(t){return e=>Fn.createElement(fj,xh({attr:vh({},t.attr)},e),HC(t.child))}function fj(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=lj(t,aj),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Fn.createElement("svg",xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:vh(vh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Fn.createElement("title",null,s),t.children)};return J4!==void 0?Fn.createElement(J4.Consumer,null,n=>e(n)):e(VC)}function px(t){return Ma({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"},child:[]}]}]}]})(t)}function pj(t){return Ma({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(t)}function mj(t){return Ma({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"},child:[]}]})(t)}function Pa(t){return Ma({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function gj(){let[t,e]=N.useState(!1);return h.jsxs("div",{className:"max-w-[240px] min-w-[240px] w-full min-h-screen border-r border-r-gray-500",children:[h.jsx("div",{className:"w-full py-4 ",children:h.jsx("img",{src:OC,alt:"",className:"mx-auto"})}),h.jsxs("div",{className:"flex flex-col gap-4 px-4 mt-6",children:[h.jsx(ut,{to:"/",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:QP,alt:""}),h.jsx("p",{className:"",children:"Overview"})]})}),h.jsx(ut,{to:"/",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:YP,alt:""}),h.jsx("p",{className:"",children:"Overview"})]})}),h.jsx(ut,{to:"/machines",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:zf,alt:""}),h.jsx("p",{className:"",children:"Forming Machine"})]})}),h.jsx(ut,{to:"/machines",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:Z4,alt:""}),h.jsx("p",{className:"",children:"Forming Machine"})]})}),h.jsx(ut,{to:"/graph-charts",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:X4,alt:""}),h.jsx("p",{className:"",children:"Graphs & Charts"})]})}),h.jsx(ut,{to:"/graph-charts",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:X4,alt:""}),h.jsx("p",{className:"",children:"Graphs & Charts"})]})}),h.jsx(ut,{to:"/reports/dashboard",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:ZP,alt:""}),h.jsx("p",{className:"",children:"Reports"})]})}),h.jsx(ut,{to:"/reports/dashboard",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:XP,alt:""}),h.jsx("p",{className:"",children:"Reports"})]})}),h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",onClick:()=>e(!t),children:[h.jsx("img",{src:zf,alt:""}),h.jsx("p",{className:"",children:"Manage Products"}),t?h.jsx(mj,{}):h.jsx(pj,{})]}),t&&h.jsxs("div",{className:"flex flex-col gap-3 pl-8",children:[h.jsx(ut,{to:"/manage/products",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:h.jsx("p",{className:"p-2 ",children:"All Products"})}),h.jsx(ut,{to:"/products/add-product",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:h.jsx("p",{className:"p-2 ",children:"Add Product"})}),h.jsx(ut,{to:"/products/add-shift",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:h.jsx("p",{className:"p-2 ",children:"Add Shift"})}),h.jsx(ut,{to:"/products/add-damaged-product",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:h.jsx("p",{className:"p-2 ",children:"Add Damaged Product"})})]}),h.jsx(ut,{to:"/manage/all-machines",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:zf,alt:""}),h.jsx("p",{className:"",children:"All Machines"})]})}),h.jsx(ut,{to:"/manage/all-machines",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:Z4,alt:""}),h.jsx("p",{className:"",children:"All Machines"})]})}),h.jsx(ut,{to:"/manage/users",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:JP,alt:""}),h.jsx("p",{className:"",children:"Manage Users"})]})}),h.jsx(ut,{to:"/manage/users",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:ej,alt:""}),h.jsx("p",{className:"",children:"Manage Users"})]})}),h.jsx(ut,{to:"/incharge",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:tj,alt:""}),h.jsx("p",{className:"",children:"Incharge Section"})]})}),h.jsx(ut,{to:"/incharge",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:nj,alt:""}),h.jsx("p",{className:"",children:"Incharge Section"})]})}),h.jsx(ut,{to:"/tare-crain-updates",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:ij,alt:""}),h.jsx("p",{className:"",children:"Tare & Coil Changing "})]})}),h.jsx(ut,{to:"/tare-crain-updates",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:rj,alt:""}),h.jsx("p",{className:"",children:"Tare & Coil Changing "})]})}),h.jsx(ut,{to:"/admin/machine-production",className:({isActive:n})=>n?"bg-primary rounded-md hidden":"block",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:sj,alt:""}),h.jsx("p",{className:"",children:"Admin"})]})}),h.jsx(ut,{to:"/admin/machine-production",className:({isActive:n})=>n?"bg-primary rounded-md block text-white":"hidden",children:h.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[h.jsx("img",{src:oj,alt:""}),h.jsx("p",{className:"",children:"Admin"})]})})]})]})}async function mx(t,e,n){const r=Re(ce,t),i=nn(r,K("email","==",e),K("password","==",n),Or(1)),s=await Xe(i);let o=[];return s.forEach(a=>{o.push(a.data())}),[o.length!==0,o]}async function Md(t,e=-1){const n=Re(ce,t);let r=null;e!==-1?r=nn(n,mr("creatingDate","desc"),Or(e)):r=nn(n,mr("creatingDate","desc"));const i=await Xe(r);let s=[];return i.forEach(o=>{s.push({id:o==null?void 0:o.id,...o.data()})}),s}const hr=t=>{const[e,n]=N.useState(!1),[r,i]=N.useReducer(vj,xj),s=Re(ce,t),o=c=>{e||i(c)},a=async c=>{i("IS_LOADING");try{const u=await zI(s,{...c,creatingDate:t4()});o({type:"ADD_DOCUMENT",payload:u})}catch(u){i({type:"ERROR",payload:u.message})}},l=async(c,u)=>{i({type:"IS_PENDING"});let d={...u,updatedDate:t4()};const f=rt(s,c);try{const m=await Bg(f,d);o({type:"UPDATE_DOCUMENT",payload:m})}catch(m){i({type:"ERROR",payload:m.message}),UI(f,u)}};return N.useEffect(()=>()=>n(!0),[]),{addDocument:a,response:r,updateDocument:l}},xj={document:null,error:null,isLoading:null,success:null},vj=(t,{type:e,payload:n})=>{switch(e){case"IS_LOADING":return{document:null,error:null,isLoading:!0,success:null};case"ADD_DOCUMENT":return{document:n,error:null,isLoading:!1,success:!0};case"UPDATE_DOCUMENT":return{document:n,error:null,isLoading:!1,success:!0};case"ERROR":return{document:null,error:n,isLoading:!1,success:!1};default:return t}};var UC={exports:{}};function yj(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wf={exports:{}};const _j={},wj=Object.freeze(Object.defineProperty({__proto__:null,default:_j},Symbol.toStringTag,{value:"Module"})),Cj=XC(wj);var t3;function be(){return t3||(t3=1,function(t,e){(function(n,r){t.exports=r()})(ye,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ye<"u"&&ye.crypto&&(s=ye.crypto),!s&&typeof yj=="function")try{s=Cj}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function p(){}return function(x){var _;return p.prototype=x,_=new p,p.prototype=null,_}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(p){var x=a(this);return p&&x.mixIn(p),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var x in p)p.hasOwnProperty(x)&&(this[x]=p[x]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=c.WordArray=u.extend({init:function(p,x){p=this.words=p||[],x!=i?this.sigBytes=x:this.sigBytes=p.length*4},toString:function(p){return(p||m).stringify(this)},concat:function(p){var x=this.words,_=p.words,S=this.sigBytes,C=p.sigBytes;if(this.clamp(),S%4)for(var E=0;E<C;E++){var D=_[E>>>2]>>>24-E%4*8&255;x[S+E>>>2]|=D<<24-(S+E)%4*8}else for(var A=0;A<C;A+=4)x[S+A>>>2]=_[A>>>2];return this.sigBytes+=C,this},clamp:function(){var p=this.words,x=this.sigBytes;p[x>>>2]&=4294967295<<32-x%4*8,p.length=r.ceil(x/4)},clone:function(){var p=u.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var x=[],_=0;_<p;_+=4)x.push(o());return new d.init(x,p)}}),f=l.enc={},m=f.Hex={stringify:function(p){for(var x=p.words,_=p.sigBytes,S=[],C=0;C<_;C++){var E=x[C>>>2]>>>24-C%4*8&255;S.push((E>>>4).toString(16)),S.push((E&15).toString(16))}return S.join("")},parse:function(p){for(var x=p.length,_=[],S=0;S<x;S+=2)_[S>>>3]|=parseInt(p.substr(S,2),16)<<24-S%8*4;return new d.init(_,x/2)}},g=f.Latin1={stringify:function(p){for(var x=p.words,_=p.sigBytes,S=[],C=0;C<_;C++){var E=x[C>>>2]>>>24-C%4*8&255;S.push(String.fromCharCode(E))}return S.join("")},parse:function(p){for(var x=p.length,_=[],S=0;S<x;S++)_[S>>>2]|=(p.charCodeAt(S)&255)<<24-S%4*8;return new d.init(_,x)}},y=f.Utf8={stringify:function(p){try{return decodeURIComponent(escape(g.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return g.parse(unescape(encodeURIComponent(p)))}},w=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=y.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var x,_=this._data,S=_.words,C=_.sigBytes,E=this.blockSize,D=E*4,A=C/D;p?A=r.ceil(A):A=r.max((A|0)-this._minBufferSize,0);var b=A*E,k=r.min(b*4,C);if(b){for(var R=0;R<b;R+=E)this._doProcessBlock(S,R);x=S.splice(0,b),_.sigBytes-=k}return new d.init(x,k)},clone:function(){var p=u.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});c.Hasher=w.extend({cfg:u.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){p&&this._append(p);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(p){return function(x,_){return new p.init(_).finalize(x)}},_createHmacHelper:function(p){return function(x,_){return new v.HMAC.init(p,_).finalize(x)}}});var v=l.algo={};return l}(Math);return n})}(Wf)),Wf.exports}var qf={exports:{}},n3;function Pd(){return n3||(n3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=o.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,d=[],f=0;f<u;f++){var m=c[f];d.push(m.high),d.push(m.low)}return a.create(d,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),u=c.words=this.words.slice(0),d=u.length,f=0;f<d;f++)u[f]=u[f].clone();return c}})}(),n})}(qf)),qf.exports}var Gf={exports:{}},r3;function Ej(){return r3||(r3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],d=0;d<c;d++)u[d>>>2]|=l[d]<<24-d%4*8;o.call(this,u,c)}else o.apply(this,arguments)};a.prototype=s}}(),n.lib.WordArray})}(Gf)),Gf.exports}var Kf={exports:{}},i3;function Sj(){return i3||(i3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,d=[],f=0;f<u;f+=2){var m=c[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(m))}return d.join("")},parse:function(l){for(var c=l.length,u=[],d=0;d<c;d++)u[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return s.create(u,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,d=[],f=0;f<u;f+=2){var m=a(c[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(m))}return d.join("")},parse:function(l){for(var c=l.length,u=[],d=0;d<c;d++)u[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return s.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(Kf)),Kf.exports}var Qf={exports:{}},s3;function Js(){return s3||(s3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,d=this._map;l.clamp();for(var f=[],m=0;m<u;m+=3)for(var g=c[m>>>2]>>>24-m%4*8&255,y=c[m+1>>>2]>>>24-(m+1)%4*8&255,w=c[m+2>>>2]>>>24-(m+2)%4*8&255,v=g<<16|y<<8|w,p=0;p<4&&m+p*.75<u;p++)f.push(d.charAt(v>>>6*(3-p)&63));var x=d.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(l){var c=l.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<u.length;f++)d[u.charCodeAt(f)]=f}var m=u.charAt(64);if(m){var g=l.indexOf(m);g!==-1&&(c=g)}return a(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var d=[],f=0,m=0;m<c;m++)if(m%4){var g=u[l.charCodeAt(m-1)]<<m%4*2,y=u[l.charCodeAt(m)]>>>6-m%4*2,w=g|y;d[f>>>2]|=w<<24-f%4*8,f++}return s.create(d,f)}}(),n.enc.Base64})}(Qf)),Qf.exports}var Yf={exports:{}},o3;function bj(){return o3||(o3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,d=l.sigBytes,f=c?this._safe_map:this._map;l.clamp();for(var m=[],g=0;g<d;g+=3)for(var y=u[g>>>2]>>>24-g%4*8&255,w=u[g+1>>>2]>>>24-(g+1)%4*8&255,v=u[g+2>>>2]>>>24-(g+2)%4*8&255,p=y<<16|w<<8|v,x=0;x<4&&g+x*.75<d;x++)m.push(f.charAt(p>>>6*(3-x)&63));var _=f.charAt(64);if(_)for(;m.length%4;)m.push(_);return m.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,d=c?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<d.length;m++)f[d.charCodeAt(m)]=m}var g=d.charAt(64);if(g){var y=l.indexOf(g);y!==-1&&(u=y)}return a(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var d=[],f=0,m=0;m<c;m++)if(m%4){var g=u[l.charCodeAt(m-1)]<<m%4*2,y=u[l.charCodeAt(m)]>>>6-m%4*2,w=g|y;d[f>>>2]|=w<<24-f%4*8,f++}return s.create(d,f)}}(),n.enc.Base64url})}(Yf)),Yf.exports}var Zf={exports:{}},a3;function eo(){return a3||(a3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[];(function(){for(var y=0;y<64;y++)c[y]=r.abs(r.sin(y+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,w){for(var v=0;v<16;v++){var p=w+v,x=y[p];y[p]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var _=this._hash.words,S=y[w+0],C=y[w+1],E=y[w+2],D=y[w+3],A=y[w+4],b=y[w+5],k=y[w+6],R=y[w+7],F=y[w+8],U=y[w+9],G=y[w+10],X=y[w+11],ee=y[w+12],$=y[w+13],H=y[w+14],z=y[w+15],M=_[0],j=_[1],O=_[2],L=_[3];M=d(M,j,O,L,S,7,c[0]),L=d(L,M,j,O,C,12,c[1]),O=d(O,L,M,j,E,17,c[2]),j=d(j,O,L,M,D,22,c[3]),M=d(M,j,O,L,A,7,c[4]),L=d(L,M,j,O,b,12,c[5]),O=d(O,L,M,j,k,17,c[6]),j=d(j,O,L,M,R,22,c[7]),M=d(M,j,O,L,F,7,c[8]),L=d(L,M,j,O,U,12,c[9]),O=d(O,L,M,j,G,17,c[10]),j=d(j,O,L,M,X,22,c[11]),M=d(M,j,O,L,ee,7,c[12]),L=d(L,M,j,O,$,12,c[13]),O=d(O,L,M,j,H,17,c[14]),j=d(j,O,L,M,z,22,c[15]),M=f(M,j,O,L,C,5,c[16]),L=f(L,M,j,O,k,9,c[17]),O=f(O,L,M,j,X,14,c[18]),j=f(j,O,L,M,S,20,c[19]),M=f(M,j,O,L,b,5,c[20]),L=f(L,M,j,O,G,9,c[21]),O=f(O,L,M,j,z,14,c[22]),j=f(j,O,L,M,A,20,c[23]),M=f(M,j,O,L,U,5,c[24]),L=f(L,M,j,O,H,9,c[25]),O=f(O,L,M,j,D,14,c[26]),j=f(j,O,L,M,F,20,c[27]),M=f(M,j,O,L,$,5,c[28]),L=f(L,M,j,O,E,9,c[29]),O=f(O,L,M,j,R,14,c[30]),j=f(j,O,L,M,ee,20,c[31]),M=m(M,j,O,L,b,4,c[32]),L=m(L,M,j,O,F,11,c[33]),O=m(O,L,M,j,X,16,c[34]),j=m(j,O,L,M,H,23,c[35]),M=m(M,j,O,L,C,4,c[36]),L=m(L,M,j,O,A,11,c[37]),O=m(O,L,M,j,R,16,c[38]),j=m(j,O,L,M,G,23,c[39]),M=m(M,j,O,L,$,4,c[40]),L=m(L,M,j,O,S,11,c[41]),O=m(O,L,M,j,D,16,c[42]),j=m(j,O,L,M,k,23,c[43]),M=m(M,j,O,L,U,4,c[44]),L=m(L,M,j,O,ee,11,c[45]),O=m(O,L,M,j,z,16,c[46]),j=m(j,O,L,M,E,23,c[47]),M=g(M,j,O,L,S,6,c[48]),L=g(L,M,j,O,R,10,c[49]),O=g(O,L,M,j,H,15,c[50]),j=g(j,O,L,M,b,21,c[51]),M=g(M,j,O,L,ee,6,c[52]),L=g(L,M,j,O,D,10,c[53]),O=g(O,L,M,j,G,15,c[54]),j=g(j,O,L,M,C,21,c[55]),M=g(M,j,O,L,F,6,c[56]),L=g(L,M,j,O,z,10,c[57]),O=g(O,L,M,j,k,15,c[58]),j=g(j,O,L,M,$,21,c[59]),M=g(M,j,O,L,A,6,c[60]),L=g(L,M,j,O,X,10,c[61]),O=g(O,L,M,j,E,15,c[62]),j=g(j,O,L,M,U,21,c[63]),_[0]=_[0]+M|0,_[1]=_[1]+j|0,_[2]=_[2]+O|0,_[3]=_[3]+L|0},_doFinalize:function(){var y=this._data,w=y.words,v=this._nDataBytes*8,p=y.sigBytes*8;w[p>>>5]|=128<<24-p%32;var x=r.floor(v/4294967296),_=v;w[(p+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,w[(p+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,y.sigBytes=(w.length+1)*4,this._process();for(var S=this._hash,C=S.words,E=0;E<4;E++){var D=C[E];C[E]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return S},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});function d(y,w,v,p,x,_,S){var C=y+(w&v|~w&p)+x+S;return(C<<_|C>>>32-_)+w}function f(y,w,v,p,x,_,S){var C=y+(w&p|v&~p)+x+S;return(C<<_|C>>>32-_)+w}function m(y,w,v,p,x,_,S){var C=y+(w^v^p)+x+S;return(C<<_|C>>>32-_)+w}function g(y,w,v,p,x,_,S){var C=y+(v^(w|~p))+x+S;return(C<<_|C>>>32-_)+w}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5})}(Zf)),Zf.exports}var Xf={exports:{}},l3;function zC(){return l3||(l3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,d){for(var f=this._hash.words,m=f[0],g=f[1],y=f[2],w=f[3],v=f[4],p=0;p<80;p++){if(p<16)l[p]=u[d+p]|0;else{var x=l[p-3]^l[p-8]^l[p-14]^l[p-16];l[p]=x<<1|x>>>31}var _=(m<<5|m>>>27)+v+l[p];p<20?_+=(g&y|~g&w)+1518500249:p<40?_+=(g^y^w)+1859775393:p<60?_+=(g&y|g&w|y&w)-1894007588:_+=(g^y^w)-899497514,v=w,w=y,y=g<<30|g>>>2,g=m,m=_}f[0]=f[0]+m|0,f[1]=f[1]+g|0,f[2]=f[2]+y|0,f[3]=f[3]+w|0,f[4]=f[4]+v|0},_doFinalize:function(){var u=this._data,d=u.words,f=this._nDataBytes*8,m=u.sigBytes*8;return d[m>>>5]|=128<<24-m%32,d[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(m+64>>>9<<4)+15]=f,u.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),n.SHA1})}(Xf)),Xf.exports}var Jf={exports:{}},c3;function gx(){return c3||(c3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[],u=[];(function(){function m(v){for(var p=r.sqrt(v),x=2;x<=p;x++)if(!(v%x))return!1;return!0}function g(v){return(v-(v|0))*4294967296|0}for(var y=2,w=0;w<64;)m(y)&&(w<8&&(c[w]=g(r.pow(y,1/2))),u[w]=g(r.pow(y,1/3)),w++),y++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(m,g){for(var y=this._hash.words,w=y[0],v=y[1],p=y[2],x=y[3],_=y[4],S=y[5],C=y[6],E=y[7],D=0;D<64;D++){if(D<16)d[D]=m[g+D]|0;else{var A=d[D-15],b=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,k=d[D-2],R=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;d[D]=b+d[D-7]+R+d[D-16]}var F=_&S^~_&C,U=w&v^w&p^v&p,G=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),X=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),ee=E+X+F+u[D]+d[D],$=G+U;E=C,C=S,S=_,_=x+ee|0,x=p,p=v,v=w,w=ee+$|0}y[0]=y[0]+w|0,y[1]=y[1]+v|0,y[2]=y[2]+p|0,y[3]=y[3]+x|0,y[4]=y[4]+_|0,y[5]=y[5]+S|0,y[6]=y[6]+C|0,y[7]=y[7]+E|0},_doFinalize:function(){var m=this._data,g=m.words,y=this._nDataBytes*8,w=m.sigBytes*8;return g[w>>>5]|=128<<24-w%32,g[(w+64>>>9<<4)+14]=r.floor(y/4294967296),g[(w+64>>>9<<4)+15]=y,m.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)}(Math),n.SHA256})}(Jf)),Jf.exports}var e2={exports:{}},u3;function Dj(){return u3||(u3=1,function(t,e){(function(n,r,i){t.exports=r(be(),gx())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(e2)),e2.exports}var t2={exports:{}},h3;function WC(){return h3||(h3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pd())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,c=r.algo;function u(){return a.create.apply(a,arguments)}var d=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var g=0;g<80;g++)f[g]=u()})();var m=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,y){for(var w=this._hash.words,v=w[0],p=w[1],x=w[2],_=w[3],S=w[4],C=w[5],E=w[6],D=w[7],A=v.high,b=v.low,k=p.high,R=p.low,F=x.high,U=x.low,G=_.high,X=_.low,ee=S.high,$=S.low,H=C.high,z=C.low,M=E.high,j=E.low,O=D.high,L=D.low,ge=A,ue=b,Be=k,he=R,sn=F,zn=U,et=G,pt=X,pn=ee,on=$,Wn=H,ss=z,to=M,pi=j,ja=O,os=L,kn=0;kn<80;kn++){var mn,Ut,Cr=f[kn];if(kn<16)Ut=Cr.high=g[y+kn*2]|0,mn=Cr.low=g[y+kn*2+1]|0;else{var La=f[kn-15],Er=La.high,gn=La.low,nr=(Er>>>1|gn<<31)^(Er>>>8|gn<<24)^Er>>>7,Ba=(gn>>>1|Er<<31)^(gn>>>8|Er<<24)^(gn>>>7|Er<<25),as=f[kn-2],mi=as.high,xn=as.low,Jc=(mi>>>19|xn<<13)^(mi<<3|xn>>>29)^mi>>>6,$a=(xn>>>19|mi<<13)^(xn<<3|mi>>>29)^(xn>>>6|mi<<26),Oa=f[kn-7],Ld=Oa.high,eu=Oa.low,ls=f[kn-16],tu=ls.high,no=ls.low;mn=Ba+eu,Ut=nr+Ld+(mn>>>0<Ba>>>0?1:0),mn=mn+$a,Ut=Ut+Jc+(mn>>>0<$a>>>0?1:0),mn=mn+no,Ut=Ut+tu+(mn>>>0<no>>>0?1:0),Cr.high=Ut,Cr.low=mn}var Va=pn&Wn^~pn&to,nu=on&ss^~on&pi,ru=ge&Be^ge&sn^Be&sn,Bd=ue&he^ue&zn^he&zn,iu=(ge>>>28|ue<<4)^(ge<<30|ue>>>2)^(ge<<25|ue>>>7),cs=(ue>>>28|ge<<4)^(ue<<30|ge>>>2)^(ue<<25|ge>>>7),ro=(pn>>>14|on<<18)^(pn>>>18|on<<14)^(pn<<23|on>>>9),$d=(on>>>14|pn<<18)^(on>>>18|pn<<14)^(on<<23|pn>>>9),su=d[kn],T=su.high,I=su.low,P=os+$d,V=ja+ro+(P>>>0<os>>>0?1:0),P=P+nu,V=V+Va+(P>>>0<nu>>>0?1:0),P=P+I,V=V+T+(P>>>0<I>>>0?1:0),P=P+mn,V=V+Ut+(P>>>0<mn>>>0?1:0),J=cs+Bd,oe=iu+ru+(J>>>0<cs>>>0?1:0);ja=to,os=pi,to=Wn,pi=ss,Wn=pn,ss=on,on=pt+P|0,pn=et+V+(on>>>0<pt>>>0?1:0)|0,et=sn,pt=zn,sn=Be,zn=he,Be=ge,he=ue,ue=P+J|0,ge=V+oe+(ue>>>0<P>>>0?1:0)|0}b=v.low=b+ue,v.high=A+ge+(b>>>0<ue>>>0?1:0),R=p.low=R+he,p.high=k+Be+(R>>>0<he>>>0?1:0),U=x.low=U+zn,x.high=F+sn+(U>>>0<zn>>>0?1:0),X=_.low=X+pt,_.high=G+et+(X>>>0<pt>>>0?1:0),$=S.low=$+on,S.high=ee+pn+($>>>0<on>>>0?1:0),z=C.low=z+ss,C.high=H+Wn+(z>>>0<ss>>>0?1:0),j=E.low=j+pi,E.high=M+to+(j>>>0<pi>>>0?1:0),L=D.low=L+os,D.high=O+ja+(L>>>0<os>>>0?1:0)},_doFinalize:function(){var g=this._data,y=g.words,w=this._nDataBytes*8,v=g.sigBytes*8;y[v>>>5]|=128<<24-v%32,y[(v+128>>>10<<5)+30]=Math.floor(w/4294967296),y[(v+128>>>10<<5)+31]=w,g.sigBytes=y.length*4,this._process();var p=this._hash.toX32();return p},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});r.SHA512=s._createHelper(m),r.HmacSHA512=s._createHmacHelper(m)}(),n.SHA512})}(t2)),t2.exports}var n2={exports:{}},d3;function Nj(){return d3||(d3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pd(),WC())})(ye,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(n2)),n2.exports}var r2={exports:{}},f3;function kj(){return f3||(f3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pd())})(ye,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,c=l.Word,u=i.algo,d=[],f=[],m=[];(function(){for(var w=1,v=0,p=0;p<24;p++){d[w+5*v]=(p+1)*(p+2)/2%64;var x=v%5,_=(2*w+3*v)%5;w=x,v=_}for(var w=0;w<5;w++)for(var v=0;v<5;v++)f[w+5*v]=v+(2*w+3*v)%5*5;for(var S=1,C=0;C<24;C++){for(var E=0,D=0,A=0;A<7;A++){if(S&1){var b=(1<<A)-1;b<32?D^=1<<b:E^=1<<b-32}S&128?S=S<<1^113:S<<=1}m[C]=c.create(E,D)}})();var g=[];(function(){for(var w=0;w<25;w++)g[w]=c.create()})();var y=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],v=0;v<25;v++)w[v]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,v){for(var p=this._state,x=this.blockSize/2,_=0;_<x;_++){var S=w[v+2*_],C=w[v+2*_+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360;var E=p[_];E.high^=C,E.low^=S}for(var D=0;D<24;D++){for(var A=0;A<5;A++){for(var b=0,k=0,R=0;R<5;R++){var E=p[A+5*R];b^=E.high,k^=E.low}var F=g[A];F.high=b,F.low=k}for(var A=0;A<5;A++)for(var U=g[(A+4)%5],G=g[(A+1)%5],X=G.high,ee=G.low,b=U.high^(X<<1|ee>>>31),k=U.low^(ee<<1|X>>>31),R=0;R<5;R++){var E=p[A+5*R];E.high^=b,E.low^=k}for(var $=1;$<25;$++){var b,k,E=p[$],H=E.high,z=E.low,M=d[$];M<32?(b=H<<M|z>>>32-M,k=z<<M|H>>>32-M):(b=z<<M-32|H>>>64-M,k=H<<M-32|z>>>64-M);var j=g[f[$]];j.high=b,j.low=k}var O=g[0],L=p[0];O.high=L.high,O.low=L.low;for(var A=0;A<5;A++)for(var R=0;R<5;R++){var $=A+5*R,E=p[$],ge=g[$],ue=g[(A+1)%5+5*R],Be=g[(A+2)%5+5*R];E.high=ge.high^~ue.high&Be.high,E.low=ge.low^~ue.low&Be.low}var E=p[0],he=m[D];E.high^=he.high,E.low^=he.low}},_doFinalize:function(){var w=this._data,v=w.words;this._nDataBytes*8;var p=w.sigBytes*8,x=this.blockSize*32;v[p>>>5]|=1<<24-p%32,v[(r.ceil((p+1)/x)*x>>>5)-1]|=128,w.sigBytes=v.length*4,this._process();for(var _=this._state,S=this.cfg.outputLength/8,C=S/8,E=[],D=0;D<C;D++){var A=_[D],b=A.high,k=A.low;b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,E.push(k),E.push(b)}return new o.init(E,S)},clone:function(){for(var w=a.clone.call(this),v=w._state=this._state.slice(0),p=0;p<25;p++)v[p]=v[p].clone();return w}});i.SHA3=a._createHelper(y),i.HmacSHA3=a._createHmacHelper(y)}(Math),n.SHA3})}(r2)),r2.exports}var i2={exports:{}},p3;function Aj(){return p3||(p3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),y=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(C,E){for(var D=0;D<16;D++){var A=E+D,b=C[A];C[A]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var k=this._hash.words,R=m.words,F=g.words,U=c.words,G=u.words,X=d.words,ee=f.words,$,H,z,M,j,O,L,ge,ue,Be;O=$=k[0],L=H=k[1],ge=z=k[2],ue=M=k[3],Be=j=k[4];for(var he,D=0;D<80;D+=1)he=$+C[E+U[D]]|0,D<16?he+=w(H,z,M)+R[0]:D<32?he+=v(H,z,M)+R[1]:D<48?he+=p(H,z,M)+R[2]:D<64?he+=x(H,z,M)+R[3]:he+=_(H,z,M)+R[4],he=he|0,he=S(he,X[D]),he=he+j|0,$=j,j=M,M=S(z,10),z=H,H=he,he=O+C[E+G[D]]|0,D<16?he+=_(L,ge,ue)+F[0]:D<32?he+=x(L,ge,ue)+F[1]:D<48?he+=p(L,ge,ue)+F[2]:D<64?he+=v(L,ge,ue)+F[3]:he+=w(L,ge,ue)+F[4],he=he|0,he=S(he,ee[D]),he=he+Be|0,O=Be,Be=ue,ue=S(ge,10),ge=L,L=he;he=k[1]+z+ue|0,k[1]=k[2]+M+Be|0,k[2]=k[3]+j+O|0,k[3]=k[4]+$+L|0,k[4]=k[0]+H+ge|0,k[0]=he},_doFinalize:function(){var C=this._data,E=C.words,D=this._nDataBytes*8,A=C.sigBytes*8;E[A>>>5]|=128<<24-A%32,E[(A+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,C.sigBytes=(E.length+1)*4,this._process();for(var b=this._hash,k=b.words,R=0;R<5;R++){var F=k[R];k[R]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return b},clone:function(){var C=a.clone.call(this);return C._hash=this._hash.clone(),C}});function w(C,E,D){return C^E^D}function v(C,E,D){return C&E|~C&D}function p(C,E,D){return(C|~E)^D}function x(C,E,D){return C&D|E&~D}function _(C,E,D){return C^(E|~D)}function S(C,E){return C<<E|C>>>32-E}i.RIPEMD160=a._createHelper(y),i.HmacRIPEMD160=a._createHmacHelper(y)}(),n.RIPEMD160})}(i2)),i2.exports}var s2={exports:{}},m3;function xx(){return m3||(m3=1,function(t,e){(function(n,r){t.exports=r(be())})(ye,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var d=c.blockSize,f=d*4;u.sigBytes>f&&(u=c.finalize(u)),u.clamp();for(var m=this._oKey=u.clone(),g=this._iKey=u.clone(),y=m.words,w=g.words,v=0;v<d;v++)y[v]^=1549556828,w[v]^=909522486;m.sigBytes=g.sigBytes=f,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,d=u.finalize(c);u.reset();var f=u.finalize(this._oKey.clone().concat(d));return f}})})()})}(s2)),s2.exports}var o2={exports:{}},g3;function Tj(){return g3||(g3=1,function(t,e){(function(n,r,i){t.exports=r(be(),gx(),xx())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var m=this.cfg,g=c.create(m.hasher,d),y=o.create(),w=o.create([1]),v=y.words,p=w.words,x=m.keySize,_=m.iterations;v.length<x;){var S=g.update(f).finalize(w);g.reset();for(var C=S.words,E=C.length,D=S,A=1;A<_;A++){D=g.finalize(D),g.reset();for(var b=D.words,k=0;k<E;k++)C[k]^=b[k]}y.concat(S),p[0]++}return y.sigBytes=x*4,y}});r.PBKDF2=function(d,f,m){return u.create(m).compute(d,f)}}(),n.PBKDF2})}(o2)),o2.exports}var a2={exports:{}},x3;function is(){return x3||(x3=1,function(t,e){(function(n,r,i){t.exports=r(be(),zC(),xx())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,d){for(var f,m=this.cfg,g=m.hasher.create(),y=o.create(),w=y.words,v=m.keySize,p=m.iterations;w.length<v;){f&&g.update(f),f=g.update(u).finalize(d),g.reset();for(var x=1;x<p;x++)f=g.finalize(f),g.reset();y.concat(f)}return y.sigBytes=v*4,y}});r.EvpKDF=function(u,d,f){return c.create(f).compute(u,d)}}(),n.EvpKDF})}(a2)),a2.exports}var l2={exports:{}},v3;function Pt(){return v3||(v3=1,function(t,e){(function(n,r,i){t.exports=r(be(),is())})(ye,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,d=i.algo,f=d.EvpKDF,m=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(b,k){return this.create(this._ENC_XFORM_MODE,b,k)},createDecryptor:function(b,k){return this.create(this._DEC_XFORM_MODE,b,k)},init:function(b,k,R){this.cfg=this.cfg.extend(R),this._xformMode=b,this._key=k,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(b){return this._append(b),this._process()},finalize:function(b){b&&this._append(b);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function b(k){return typeof k=="string"?A:C}return function(k){return{encrypt:function(R,F,U){return b(F).encrypt(k,R,F,U)},decrypt:function(R,F,U){return b(F).decrypt(k,R,F,U)}}}}()});s.StreamCipher=m.extend({_doFinalize:function(){var b=this._process(!0);return b},blockSize:1});var g=i.mode={},y=s.BlockCipherMode=o.extend({createEncryptor:function(b,k){return this.Encryptor.create(b,k)},createDecryptor:function(b,k){return this.Decryptor.create(b,k)},init:function(b,k){this._cipher=b,this._iv=k}}),w=g.CBC=function(){var b=y.extend();b.Encryptor=b.extend({processBlock:function(R,F){var U=this._cipher,G=U.blockSize;k.call(this,R,F,G),U.encryptBlock(R,F),this._prevBlock=R.slice(F,F+G)}}),b.Decryptor=b.extend({processBlock:function(R,F){var U=this._cipher,G=U.blockSize,X=R.slice(F,F+G);U.decryptBlock(R,F),k.call(this,R,F,G),this._prevBlock=X}});function k(R,F,U){var G,X=this._iv;X?(G=X,this._iv=r):G=this._prevBlock;for(var ee=0;ee<U;ee++)R[F+ee]^=G[ee]}return b}(),v=i.pad={},p=v.Pkcs7={pad:function(b,k){for(var R=k*4,F=R-b.sigBytes%R,U=F<<24|F<<16|F<<8|F,G=[],X=0;X<F;X+=4)G.push(U);var ee=a.create(G,F);b.concat(ee)},unpad:function(b){var k=b.words[b.sigBytes-1>>>2]&255;b.sigBytes-=k}};s.BlockCipher=m.extend({cfg:m.cfg.extend({mode:w,padding:p}),reset:function(){var b;m.reset.call(this);var k=this.cfg,R=k.iv,F=k.mode;this._xformMode==this._ENC_XFORM_MODE?b=F.createEncryptor:(b=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==b?this._mode.init(this,R&&R.words):(this._mode=b.call(F,this,R&&R.words),this._mode.__creator=b)},_doProcessBlock:function(b,k){this._mode.processBlock(b,k)},_doFinalize:function(){var b,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),b=this._process(!0)):(b=this._process(!0),k.unpad(b)),b},blockSize:128/32});var x=s.CipherParams=o.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),_=i.format={},S=_.OpenSSL={stringify:function(b){var k,R=b.ciphertext,F=b.salt;return F?k=a.create([1398893684,1701076831]).concat(F).concat(R):k=R,k.toString(u)},parse:function(b){var k,R=u.parse(b),F=R.words;return F[0]==1398893684&&F[1]==1701076831&&(k=a.create(F.slice(2,4)),F.splice(0,4),R.sigBytes-=16),x.create({ciphertext:R,salt:k})}},C=s.SerializableCipher=o.extend({cfg:o.extend({format:S}),encrypt:function(b,k,R,F){F=this.cfg.extend(F);var U=b.createEncryptor(R,F),G=U.finalize(k),X=U.cfg;return x.create({ciphertext:G,key:R,iv:X.iv,algorithm:b,mode:X.mode,padding:X.padding,blockSize:b.blockSize,formatter:F.format})},decrypt:function(b,k,R,F){F=this.cfg.extend(F),k=this._parse(k,F.format);var U=b.createDecryptor(R,F).finalize(k.ciphertext);return U},_parse:function(b,k){return typeof b=="string"?k.parse(b,this):b}}),E=i.kdf={},D=E.OpenSSL={execute:function(b,k,R,F,U){if(F||(F=a.random(64/8)),U)var G=f.create({keySize:k+R,hasher:U}).compute(b,F);else var G=f.create({keySize:k+R}).compute(b,F);var X=a.create(G.words.slice(k),R*4);return G.sigBytes=k*4,x.create({key:G,iv:X,salt:F})}},A=s.PasswordBasedCipher=C.extend({cfg:C.cfg.extend({kdf:D}),encrypt:function(b,k,R,F){F=this.cfg.extend(F);var U=F.kdf.execute(R,b.keySize,b.ivSize,F.salt,F.hasher);F.iv=U.iv;var G=C.encrypt.call(this,b,k,U.key,F);return G.mixIn(U),G},decrypt:function(b,k,R,F){F=this.cfg.extend(F),k=this._parse(k,F.format);var U=F.kdf.execute(R,b.keySize,b.ivSize,k.salt,F.hasher);F.iv=U.iv;var G=C.decrypt.call(this,b,k,U.key,F);return G}})}()})}(l2)),l2.exports}var c2={exports:{}},y3;function Ij(){return y3||(y3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=c}});function i(s,o,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var d=0;d<a;d++)s[o+d]^=c[d]}return r}(),n.mode.CFB})}(c2)),c2.exports}var u2={exports:{}},_3;function Rj(){return _3||(_3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var d=u.slice(0);a.encryptBlock(d,0),u[l-1]=u[l-1]+1|0;for(var f=0;f<l;f++)s[o+f]^=d[f]}});return r.Decryptor=i,r}(),n.mode.CTR})}(u2)),u2.exports}var h2={exports:{}},w3;function Fj(){return w3||(w3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),s(f);var m=f.slice(0);c.encryptBlock(m,0);for(var g=0;g<u;g++)a[l+g]^=m[g]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(h2)),h2.exports}var d2={exports:{}},C3;function Mj(){return C3||(C3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var d=0;d<l;d++)s[o+d]^=u[d]}});return r.Decryptor=i,r}(),n.mode.OFB})}(d2)),d2.exports}var f2={exports:{}},E3;function Pj(){return E3||(E3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(f2)),f2.exports}var p2={exports:{}},S3;function jj(){return S3||(S3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(p2)),p2.exports}var m2={exports:{}},b3;function Lj(){return b3||(b3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(m2)),m2.exports}var g2={exports:{}},D3;function Bj(){return D3||(D3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(g2)),g2.exports}var x2={exports:{}},N3;function $j(){return N3||(N3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(x2)),x2.exports}var v2={exports:{}},k3;function Oj(){return k3||(k3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(v2)),v2.exports}var y2={exports:{}},A3;function Vj(){return A3||(A3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Pt())})(ye,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var d=l.parse(u);return o.create({ciphertext:d})}}}(),n.format.Hex})}(y2)),y2.exports}var _2={exports:{}},T3;function Hj(){return T3||(T3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),Pt())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],c=[],u=[],d=[],f=[],m=[],g=[],y=[],w=[];(function(){for(var x=[],_=0;_<256;_++)_<128?x[_]=_<<1:x[_]=_<<1^283;for(var S=0,C=0,_=0;_<256;_++){var E=C^C<<1^C<<2^C<<3^C<<4;E=E>>>8^E&255^99,a[S]=E,l[E]=S;var D=x[S],A=x[D],b=x[A],k=x[E]*257^E*16843008;c[S]=k<<24|k>>>8,u[S]=k<<16|k>>>16,d[S]=k<<8|k>>>24,f[S]=k;var k=b*16843009^A*65537^D*257^S*16843008;m[E]=k<<24|k>>>8,g[E]=k<<16|k>>>16,y[E]=k<<8|k>>>24,w[E]=k,S?(S=D^x[x[x[b^D]]],C^=x[x[C]]):S=C=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],p=o.AES=s.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,S=_.words,C=_.sigBytes/4,E=this._nRounds=C+6,D=(E+1)*4,A=this._keySchedule=[],b=0;b<D;b++)b<C?A[b]=S[b]:(x=A[b-1],b%C?C>6&&b%C==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=v[b/C|0]<<24),A[b]=A[b-C]^x);for(var k=this._invKeySchedule=[],R=0;R<D;R++){var b=D-R;if(R%4)var x=A[b];else var x=A[b-4];R<4||b<=4?k[R]=x:k[R]=m[a[x>>>24]]^g[a[x>>>16&255]]^y[a[x>>>8&255]]^w[a[x&255]]}}},encryptBlock:function(x,_){this._doCryptBlock(x,_,this._keySchedule,c,u,d,f,a)},decryptBlock:function(x,_){var S=x[_+1];x[_+1]=x[_+3],x[_+3]=S,this._doCryptBlock(x,_,this._invKeySchedule,m,g,y,w,l);var S=x[_+1];x[_+1]=x[_+3],x[_+3]=S},_doCryptBlock:function(x,_,S,C,E,D,A,b){for(var k=this._nRounds,R=x[_]^S[0],F=x[_+1]^S[1],U=x[_+2]^S[2],G=x[_+3]^S[3],X=4,ee=1;ee<k;ee++){var $=C[R>>>24]^E[F>>>16&255]^D[U>>>8&255]^A[G&255]^S[X++],H=C[F>>>24]^E[U>>>16&255]^D[G>>>8&255]^A[R&255]^S[X++],z=C[U>>>24]^E[G>>>16&255]^D[R>>>8&255]^A[F&255]^S[X++],M=C[G>>>24]^E[R>>>16&255]^D[F>>>8&255]^A[U&255]^S[X++];R=$,F=H,U=z,G=M}var $=(b[R>>>24]<<24|b[F>>>16&255]<<16|b[U>>>8&255]<<8|b[G&255])^S[X++],H=(b[F>>>24]<<24|b[U>>>16&255]<<16|b[G>>>8&255]<<8|b[R&255])^S[X++],z=(b[U>>>24]<<24|b[G>>>16&255]<<16|b[R>>>8&255]<<8|b[F&255])^S[X++],M=(b[G>>>24]<<24|b[R>>>16&255]<<16|b[F>>>8&255]<<8|b[U&255])^S[X++];x[_]=$,x[_+1]=H,x[_+2]=z,x[_+3]=M},keySize:256/32});r.AES=s._createHelper(p)}(),n.AES})}(_2)),_2.exports}var w2={exports:{}},I3;function Uj(){return I3||(I3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),Pt())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=a.DES=o.extend({_doReset:function(){for(var v=this._key,p=v.words,x=[],_=0;_<56;_++){var S=l[_]-1;x[_]=p[S>>>5]>>>31-S%32&1}for(var C=this._subKeys=[],E=0;E<16;E++){for(var D=C[E]=[],A=u[E],_=0;_<24;_++)D[_/6|0]|=x[(c[_]-1+A)%28]<<31-_%6,D[4+(_/6|0)]|=x[28+(c[_+24]-1+A)%28]<<31-_%6;D[0]=D[0]<<1|D[0]>>>31;for(var _=1;_<7;_++)D[_]=D[_]>>>(_-1)*4+3;D[7]=D[7]<<5|D[7]>>>27}for(var b=this._invSubKeys=[],_=0;_<16;_++)b[_]=C[15-_]},encryptBlock:function(v,p){this._doCryptBlock(v,p,this._subKeys)},decryptBlock:function(v,p){this._doCryptBlock(v,p,this._invSubKeys)},_doCryptBlock:function(v,p,x){this._lBlock=v[p],this._rBlock=v[p+1],g.call(this,4,252645135),g.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),g.call(this,1,1431655765);for(var _=0;_<16;_++){for(var S=x[_],C=this._lBlock,E=this._rBlock,D=0,A=0;A<8;A++)D|=d[A][((E^S[A])&f[A])>>>0];this._lBlock=E,this._rBlock=C^D}var b=this._lBlock;this._lBlock=this._rBlock,this._rBlock=b,g.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),v[p]=this._lBlock,v[p+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(v,p){var x=(this._lBlock>>>v^this._rBlock)&p;this._rBlock^=x,this._lBlock^=x<<v}function y(v,p){var x=(this._rBlock>>>v^this._lBlock)&p;this._lBlock^=x,this._rBlock^=x<<v}r.DES=o._createHelper(m);var w=a.TripleDES=o.extend({_doReset:function(){var v=this._key,p=v.words;if(p.length!==2&&p.length!==4&&p.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=p.slice(0,2),_=p.length<4?p.slice(0,2):p.slice(2,4),S=p.length<6?p.slice(0,2):p.slice(4,6);this._des1=m.createEncryptor(s.create(x)),this._des2=m.createEncryptor(s.create(_)),this._des3=m.createEncryptor(s.create(S))},encryptBlock:function(v,p){this._des1.encryptBlock(v,p),this._des2.decryptBlock(v,p),this._des3.encryptBlock(v,p)},decryptBlock:function(v,p){this._des3.decryptBlock(v,p),this._des2.encryptBlock(v,p),this._des1.decryptBlock(v,p)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(w)}(),n.TripleDES})}(w2)),w2.exports}var C2={exports:{}},R3;function zj(){return R3||(R3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),Pt())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var u=this._key,d=u.words,f=u.sigBytes,m=this._S=[],g=0;g<256;g++)m[g]=g;for(var g=0,y=0;g<256;g++){var w=g%f,v=d[w>>>2]>>>24-w%4*8&255;y=(y+m[g]+v)%256;var p=m[g];m[g]=m[y],m[y]=p}this._i=this._j=0},_doProcessBlock:function(u,d){u[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,d=this._i,f=this._j,m=0,g=0;g<4;g++){d=(d+1)%256,f=(f+u[d])%256;var y=u[d];u[d]=u[f],u[f]=y,m|=u[(u[d]+u[f])%256]<<24-g*8}return this._i=d,this._j=f,m}r.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=s._createHelper(c)}(),n.RC4})}(C2)),C2.exports}var E2={exports:{}},F3;function Wj(){return F3||(F3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),Pt())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,m=this.cfg.iv,g=0;g<4;g++)f[g]=(f[g]<<8|f[g]>>>24)&16711935|(f[g]<<24|f[g]>>>8)&4278255360;var y=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],w=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)w[g]^=y[g+4&7];if(m){var v=m.words,p=v[0],x=v[1],_=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,S=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,C=_>>>16|S&4294901760,E=S<<16|_&65535;w[0]^=_,w[1]^=C,w[2]^=S,w[3]^=E,w[4]^=_,w[5]^=C,w[6]^=S,w[7]^=E;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,m){var g=this._X;d.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[m+y]^=a[y]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,m=this._C,g=0;g<8;g++)l[g]=m[g];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var y=f[g]+m[g],w=y&65535,v=y>>>16,p=((w*w>>>17)+w*v>>>15)+v*v,x=((y&4294901760)*y|0)+((y&65535)*y|0);c[g]=p^x}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=s._createHelper(u)}(),n.Rabbit})}(E2)),E2.exports}var S2={exports:{}},M3;function qj(){return M3||(M3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),Pt())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,m=this.cfg.iv,g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],y=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var w=0;w<4;w++)d.call(this);for(var w=0;w<8;w++)y[w]^=g[w+4&7];if(m){var v=m.words,p=v[0],x=v[1],_=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,S=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,C=_>>>16|S&4294901760,E=S<<16|_&65535;y[0]^=_,y[1]^=C,y[2]^=S,y[3]^=E,y[4]^=_,y[5]^=C,y[6]^=S,y[7]^=E;for(var w=0;w<4;w++)d.call(this)}},_doProcessBlock:function(f,m){var g=this._X;d.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[m+y]^=a[y]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,m=this._C,g=0;g<8;g++)l[g]=m[g];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var y=f[g]+m[g],w=y&65535,v=y>>>16,p=((w*w>>>17)+w*v>>>15)+v*v,x=((y&4294901760)*y|0)+((y&65535)*y|0);c[g]=p^x}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=s._createHelper(u)}(),n.RabbitLegacy})}(S2)),S2.exports}var b2={exports:{}},P3;function Gj(){return P3||(P3=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),Pt())})(ye,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function d(w,v){let p=v>>24&255,x=v>>16&255,_=v>>8&255,S=v&255,C=w.sbox[0][p]+w.sbox[1][x];return C=C^w.sbox[2][_],C=C+w.sbox[3][S],C}function f(w,v,p){let x=v,_=p,S;for(let C=0;C<a;++C)x=x^w.pbox[C],_=d(w,x)^_,S=x,x=_,_=S;return S=x,x=_,_=S,_=_^w.pbox[a],x=x^w.pbox[a+1],{left:x,right:_}}function m(w,v,p){let x=v,_=p,S;for(let C=a+1;C>1;--C)x=x^w.pbox[C],_=d(w,x)^_,S=x,x=_,_=S;return S=x,x=_,_=S,_=_^w.pbox[1],x=x^w.pbox[0],{left:x,right:_}}function g(w,v,p){for(let E=0;E<4;E++){w.sbox[E]=[];for(let D=0;D<256;D++)w.sbox[E][D]=c[E][D]}let x=0;for(let E=0;E<a+2;E++)w.pbox[E]=l[E]^v[x],x++,x>=p&&(x=0);let _=0,S=0,C=0;for(let E=0;E<a+2;E+=2)C=f(w,_,S),_=C.left,S=C.right,w.pbox[E]=_,w.pbox[E+1]=S;for(let E=0;E<4;E++)for(let D=0;D<256;D+=2)C=f(w,_,S),_=C.left,S=C.right,w.sbox[E][D]=_,w.sbox[E][D+1]=S;return!0}var y=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,v=w.words,p=w.sigBytes/4;g(u,v,p)}},encryptBlock:function(w,v){var p=f(u,w[v],w[v+1]);w[v]=p.left,w[v+1]=p.right},decryptBlock:function(w,v){var p=m(u,w[v],w[v+1]);w[v]=p.left,w[v+1]=p.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(y)}(),n.Blowfish})}(b2)),b2.exports}(function(t,e){(function(n,r,i){t.exports=r(be(),Pd(),Ej(),Sj(),Js(),bj(),eo(),zC(),gx(),Dj(),WC(),Nj(),kj(),Aj(),xx(),Tj(),is(),Pt(),Ij(),Rj(),Fj(),Mj(),Pj(),jj(),Lj(),Bj(),$j(),Oj(),Vj(),Hj(),Uj(),zj(),Wj(),qj(),Gj())})(ye,function(n){return n})})(UC);var Kj=UC.exports;const D1=N1(Kj);function j3(t,e,n){const r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let i="expires="+r.toUTCString();e=D1.AES.encrypt(e,"@#$ *IlO0Oo0_-"),document.cookie=t+"="+e+"; "+i+"; SameSite=None; Secure; path=/"}function yh(t){let e=t+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0){let s=i.substring(e.length,i.length);return s=D1.AES.decrypt(s,"@#$ *IlO0Oo0_-").toString(D1.enc.Utf8),s}}return""}const Qj=()=>{let[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState("");const o=a=>{if(a.preventDefault(),t===""||n===""){s("Can't login with empty credentials!");return}mx("users",t,n).then(l=>{l[0]?(j3("email",t,30),j3("pswd",n,30),window.location.reload()):s("Wrong Credentials!")})};return h.jsx("div",{className:"max-w-[500px] mx-auto min-h-screen p-20 flex justify-center items-center",children:h.jsxs("form",{className:"w-full",children:[h.jsx("div",{className:" pb-10",children:h.jsx("img",{src:OC,alt:"",className:"w-[250px] mx-auto"})}),h.jsxs("div",{className:"loginDivCont",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{children:"Employee ID"}),h.jsx("input",{type:"text",placeholder:"Your Email",className:"p-2 rounded-full bg-gray-200 outline-none focus:outline-none border border-gray-400",value:t,onChange:a=>e(a.target.value),required:!0})," "]}),h.jsx("br",{}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{children:"Password"}),h.jsx("input",{placeholder:"Your Password",type:"password",className:"p-2 rounded-full bg-gray-200 outline-none focus:outline-none border border-gray-400",value:n,onChange:a=>r(a.target.value),required:!0})]}),h.jsx("br",{}),h.jsx("button",{className:"btn-primary mx-auto",onClick:o,children:"LOG IN"}),h.jsx("p",{className:"loginMsg",children:i})]})]})})};function Yj(){let[t,e]=N.useState("unknown"),[n,r]=N.useState(h.jsx(h.Fragment,{}));return N.useEffect(()=>{mx("users",yh("email"),yh("pswd")).then(i=>{i[0]?e("is_user"):e("not_user")})},[]),N.useEffect(()=>{t==="unknown"?r(h.jsx("div",{className:"min-h-screen flex justify-center items-center",children:h.jsx(fx,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"triangle-loading",visible:!0})})):t==="not_user"&&r(h.jsx(Qj,{}))},[t]),console.log("isUser",t),t!=="is_user"?h.jsx(h.Fragment,{children:n}):h.jsxs("div",{className:"flex gap-6",children:[h.jsx(gj,{}),h.jsx("div",{className:"container mx-auto w-full p-4",children:h.jsx(Vb,{})})]})}function qC(t){const e=new Date(t*1e3),n={year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleString("en-US",n)}function Zj({ReportData:t}){return h.jsxs("div",{className:"border border-gray-600 rounded-t-lg",children:[h.jsxs("div",{className:"border flex gap-4 items-center justify-between p-4 bg-primary text-white rounded-t-lg",children:[h.jsx("p",{className:"w-full",children:"ID"}),h.jsx("p",{className:"w-full",children:"Machine Number"}),h.jsx("p",{className:"w-full",children:"Tared On"})]}),t.map((e,n)=>h.jsxs("div",{className:"border border-gray-600 flex gap-4 items-center justify-between p-4",children:[h.jsx("p",{className:"w-full",children:n+1}),h.jsxs("p",{className:"w-full",children:["FM ",e==null?void 0:e.machine_no]}),h.jsx("p",{className:"w-full",children:qC(e==null?void 0:e.unix_time)})]},e.id))]})}function Xj({coilWeight:t,ReportData:e,handleWeightChange:n,handleUpdate:r}){return h.jsxs("div",{className:"border border-gray-600 rounded-t-lg",children:[h.jsxs("div",{className:"border flex gap-4 items-center justify-between p-4 bg-primary text-white rounded-t-lg",children:[h.jsx("p",{className:"w-full",children:"ID"}),h.jsx("p",{className:"w-full",children:"Machine Number"}),h.jsx("p",{className:"w-full",children:"Changed On"}),h.jsx("p",{className:"w-full",children:"Coil Weight"}),h.jsx("p",{className:"w-full",children:"Coil Weight"})]}),e.map((i,s)=>h.jsxs("div",{className:"border border-gray-600 flex gap-4 items-center justify-between p-4",children:[h.jsx("p",{className:"w-full",children:s+1}),h.jsxs("p",{className:"w-full",children:["FM ",i==null?void 0:i.machine_no]}),h.jsx("p",{className:"w-full",children:qC(i==null?void 0:i.unix_time)}),h.jsx("div",{className:"w-full",children:h.jsx("input",{className:" border px-4 py-2 rounded-md border-gray-500 outline-none focus:outline-none",type:"text",placeholder:"Enter coil weight",value:t[i.id]||"",onChange:o=>n(i.id,o.target.value)})}),h.jsx("p",{className:"w-full",children:h.jsx("button",{onClick:o=>r(o,i.id),className:"bg-primary px-4 py-2 rounded-md text-white",children:"Update"})})]},i.id))]})}function Jj(){let[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(!1),[o,a]=N.useState({});N.useEffect(()=>{s(!1);const u=Re(ce,n?"tareUpdates":"coilChangeUpdate"),d=nn(u,mr("unix_time","desc"),Or(50));qc(d,f=>{let m=[];f.forEach(g=>{m.push({id:g.id,...g.data()}),n||a(y=>({...y,[g.id]:g.data().weight}))}),e(m),s(!0)})},[n]);const l=async(u,d)=>{const f=rt(ce,"coilChangeUpdate",d),m=o[d];if(console.log(d,m),m)try{u.target.innerText="wait...",await Bg(f,{weight:parseFloat(m)}),u.target.innerText="Updated"}catch{u.target.innerText="error!"}else u.target.innerText="Invalid!";setTimeout(()=>{u.target.innerText="Update"},1500)},c=(u,d)=>{a(f=>({...f,[u]:d}))};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex  flex-col gap-10 pb-6",children:[h.jsx("h2",{className:"text-4xl font-sans font-medium",children:"Tare and Coil Changing Updates"}),h.jsxs("div",{className:"flex gap-8 items-center text-white",children:[h.jsx("button",{className:`px-6 py-2 rounded-md ${n?"bg-primary":"text-black bg-primary/20"}`,onClick:()=>r(!0),children:"Tare Updates"}),h.jsx("button",{className:`px-6 py-2 rounded-md ${n?"text-black bg-primary/20":"bg-primary"}`,onClick:()=>r(!1),children:"Coil Changing Updates"})]})]}),n?i&&h.jsx(Zj,{ReportData:t}):i&&h.jsx("div",{children:h.jsx(Xj,{ReportData:t,handleUpdate:l,handleWeightChange:c,coilWeight:o})})]})}const eL="/assets/realtime_reports-CvrCL2Xo.svg",tL="/assets/daily_report-ChCnQ_ll.svg",nL="/assets/Weekly_Report-Cg7tGW6d.svg",rL="/assets/Monthly_Report-DcZqTp8z.svg",iL="/assets/Quarterly_Report-B3UWh9YE.svg",sL="/assets/Yearly_Report-Dkqe5c6n.svg",oL="/assets/Machine_Efficiency-DTJmyKtf.svg";function aL(){return h.jsxs("div",{className:"py-4",children:[h.jsx("h2",{className:"text-3xl py-10 font-bold ",children:"Reports"}),h.jsxs("div",{className:"grid grid-cols1 md:grid-cols-4 gap-x-10 gap-y-20",children:[h.jsx(Wr,{to:"/reports/realtime-reports",children:h.jsxs("div",{className:"rounded-lg shadow-xl cursor-pointer px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[h.jsx("img",{src:eL,alt:"",className:"h-[100px] w-auto"}),h.jsx("p",{className:"text-2xl",children:"Realtime Report "})]})}),h.jsx(Wr,{to:"/reports/daily-reports",children:h.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[h.jsx("img",{src:tL,alt:"",className:"h-[100px] w-auto"}),h.jsx("p",{className:"text-2xl",children:"Daily Report "})]})}),h.jsx(Wr,{to:"/reports/weekly-reports",children:h.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[h.jsx("img",{src:nL,alt:"",className:"h-[100px] w-auto"}),h.jsx("p",{className:"text-2xl",children:"Weekly Report "})]})}),h.jsx(Wr,{to:"/reports/monthly-reports",children:h.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[h.jsx("img",{src:rL,alt:"",className:"h-[100px] w-auto"}),h.jsx("p",{className:"text-2xl",children:"Monthly Report "})]})}),h.jsx(Wr,{to:"/reports/quarterly-reports",children:h.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[h.jsx("img",{src:iL,alt:"",className:"h-[100px] w-auto"}),h.jsx("p",{className:"text-2xl",children:"Quarterly Report "})]})}),h.jsx(Wr,{to:"/reports/yearly-reports",children:h.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[h.jsx("img",{src:sL,alt:"",className:"h-[100px] w-auto"}),h.jsx("p",{className:"text-2xl",children:"Yearly Report "})]})}),h.jsx(Wr,{to:"/reports/machine-efficiency",children:h.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[h.jsx("img",{src:oL,alt:"",className:"h-[100px] w-auto"}),h.jsx("p",{className:"text-2xl",children:"Machine Efficiency "})]})})]})]})}function lL({ReportData:t,startIndex:e}){return h.jsxs("div",{className:"border border-gray-800 rounded-t-lg",children:[h.jsxs("div",{className:"border grid grid-cols-8 justify-between bg-primary text-white rounded-t-lg",children:[h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"ID"}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Machine Number"}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Product Type"}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Thickness"}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Product Count"}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Total weight"}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Shift"}),h.jsx("p",{className:"w-full p-4",children:"Last Production Time"})]}),t.map((n,r)=>h.jsxs("div",{className:`border border-gray-800 grid grid-cols-8  justify-between ${(n==null?void 0:n.status)=="new"?"bg-green-100":""}`,children:[h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:r+1+parseInt(e)}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.machine_no}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.product_type}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.thickness}),h.jsxs("p",{className:"w-full border-r border-r-gray-800 p-4",children:[n==null?void 0:n.count," "]}),h.jsxs("p",{className:"w-full border-r border-r-gray-800 p-4",children:[n==null?void 0:n.weight," KG"]}),h.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.shift}),h.jsxs("p",{className:"w-full p-4",children:[n.date," ",`${n.time.toString().slice(0,2)}:${n.time.toString().slice(2,4)}:${n.time.toString().slice(4,6)}`]})]},n.id))]})}function cL(){let[t,e]=N.useState([]),[n,r]=N.useState(null),[i,s]=N.useState(0),[o,a]=N.useState(0);const l=30,c="machines";N.useEffect(()=>{const m=Re(ce,c),g=nn(m,mr("unix_time","desc"),Or(l));u(g,0)},[]);const u=(m,g)=>{qc(m,y=>{e(w=>{let v=[];return y.forEach(p=>{const x={id:p==null?void 0:p.id,...p==null?void 0:p.data()},_=w.some(S=>S.id==x.id);x.status=(w==null?void 0:w.length)===0||_?"old":"new",v.push(x)}),v.length>0&&(r(y),a(v.length),s(p=>p+g)),v})})},d=()=>{if(!n){console.error("Snapshot is not available yet.");return}console.log("CLicked");let m=Re(ce,c);const g=nn(m,mr("unix_time","desc"),$I(n.docs[t.length-1]),Or(l));u(g,1)},f=()=>{if(!n){console.error("Snapshot is not available yet.");return}let m=Re(ce,c);const g=nn(m,mr("unix_time","desc"),OI(n.docs[0]),BI(l));u(g,-1)};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold py-8",children:"Realtime Report "}),h.jsx(lL,{ReportData:t,startIndex:i*l}),h.jsxs("div",{className:"flex justify-center items-center py-20 gap-10",children:[h.jsx("button",{className:`px-6 py-2 rounded-full text-xl ${i===0?"bg-gray-500":"bg-yellow-500"}`,onClick:f,disabled:i===0,children:"Previous"}),h.jsx("button",{className:`px-6 py-2 rounded-full  text-xl ${o<l?"bg-gray-500":"bg-yellow-500"}`,onClick:d,disabled:o<l,children:"Next"})]})]})}const Vn=["Round Pipe","Rectangular Pipe","Square Pipe","Design Pipe","Spiral Pipe","Half Round Pipe","Schedule Pipe"],h0=["Morning","Night"],uL=["manager","admin","owner","in-charge","machine-operator"],Tr=["0.4mm","0.5mm","0.6mm","0.7mm","0.8mm","1.0mm","1.2mm","1.5mm","2.0mm","2.5mm"],hL=["3/8 inch","5/8 inch","1 inch","11/2 inch","21/2 inch","3/8 inch x 3/8 inch","1/2 inch x 3/4 inch","1/2 inchx11/2 inch","5/8 inch x 5/8 inch","3/4 inch x 11/2 inch","1 inch x 11/2 inch","11/2 inch x 11/2 inch","2 inch x 1 inch","21/2 inch x 1 inch","3 inch x 1 inch","3 inch x 2 inch","3 inch x 3 inch","3 inch x 11/2 inch","1/2 inch","3/4 inch","11/4 inch","2 inch","3 inch","4 inch","1/2 inch x 1/2 inch","1/2 inch x 1 inch","1/2 inch x 2 inch","3/4 inch x 3/4 inch","1 inch x 1 inch","11/4 inch x 11/4 inch","11/2 inch x 2 inch","2 inch x 2 inch","21/2 inch x 11/2 inch","3 inch x 11/4 inch","61 inch x 29.5 inch","4 inch x 2 inch"];function dL(){const t="machinesIndividual",e="damagedProducts";let n=N.useRef(null),r=N.useRef(null),i=N.useRef(null),[s,o]=N.useState(!0),[a,l]=N.useState(new Set([]));N.useEffect(()=>{r.current.valueAsDate=new Date;let f=new Set([]);const m=rt(ce,"information","info");bt(m).then(g=>{let y=g.data();y.forming_machine.forEach(w=>{f.add(w)}),y.polish_machine.forEach(w=>{f.add(w)}),l(f)})},[]);function c(){let f=0,m=new Date(n.current.value),g=new Date(r.current.value);if(n.current.value===""||r.current.value==="")return u("Invalid Parameters!"),null;if(m.getTime()>g.getTime())return u("Start date should be less than End Date"),null;u("Please be Patient ..."),o(!1);async function y(w){let v=new Date(w);v.setHours(0),v.setMinutes(0),v.setSeconds(0);let p=new Date(w);p.setHours(23),p.setMinutes(59),p.setSeconds(59);let x=Re(ce,t);Array.from(a).map((_,S)=>{Vn.map((C,E)=>{let D=0,A=0,b=0,k=0,R=0,F=0,U=0,G=0,X=0,ee=hn(x,K("unix_time",">=",Math.floor(v.getTime()/1e3)),K("unix_time","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",_),K("product_type","==",C));Xe(ee).then($=>{$.forEach(M=>{U++,f++;const j=M.data();j.shift==="Morning"?parseFloat(j.weight)>0&&(D+=Math.abs(parseInt(j.count)),A+=parseFloat(j.weight)):parseFloat(j.weight)>0&&(b+=Math.abs(parseInt(j.count)),k+=parseFloat(j.weight))}),R=(D+b).toFixed(2),F=(k+A).toFixed(2);let H=Re(ce,e),z=hn(H,K("unix_time",">=",Math.floor(v.getTime()/1e3)),K("unix_time","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",_),K("product_type","==",C));Xe(z).then(M=>{M.forEach(j=>{const O=j.data();O.shift==="Morning"?G+=parseInt(O.damagedProductCount):X+=parseInt(O.damagedProductCount)}),U!==0&&d(`${v.getDate()}/${v.getMonth()+1}/${v.getFullYear()}`,_,C,G,D,A.toFixed(2),D-G,X,b,k.toFixed(2),b-X,R-G-X,F),(S+1)*(E+1)===a.size*Vn.length&&(f===0&&u("No Data Available in this Date Range"),o(!0))})})})})}for(;y(g),m.getTime()!==g.getTime();)g.setDate(g.getDate()-1)}const u=f=>{i.current.innerHTML=`<tr id="reportStatus" >
              <td class="border border-gray-500 text-center py-4 " colSpan="13">
                ${f}
            </td>
        </tr>`},d=(f,m,g,y,w,v,p,x,_,S,C,E,D)=>{const A=document.createElement("tr");A.innerHTML=`
      <tr>
        <td class="border border-black p-4">${f}</td>
        <td class="border border-black p-4">${m}</td>
        <td class="border border-black p-4">${g}</td>
        
        <td class="border border-black p-4">${w}</td>
        <td class="border border-black p-4">${y}</td>
        <td class="border border-black p-4">${p}</td>
        <td class="border border-black p-4">${v}</td>
        
        <td class="border border-black p-4">${_}</td>
        <td class="border border-black p-4">${x}</td>
        <td class="border border-black p-4">${C}</td>
        <td class="border border-black p-4">${S}</td>
        
        <td class="border border-black p-4">${E}</td>
        <td class="border border-black p-4">${D}</td>
      </tr>
    `;let b=document.getElementById("reportStatus");b!==null&&b.remove(),i.current.appendChild(A)};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold py-8",children:"Daily Report "}),h.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx("h2",{children:"From"}),h.jsx("input",{type:"date",ref:n,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"From"})," ",h.jsx("h2",{children:"To"}),h.jsx("input",{type:"date",ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"To"})]}),h.jsx("button",{onClick:c,disabled:!s,className:"px-6 py-2 rounded-full bg-black text-white",children:s?"Generate":"Please Wait ..."}),h.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),h.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",h.jsx(Pa,{})]})]}),h.jsx("div",{className:"w-full",children:h.jsxs("table",{id:"table-to-xls",className:"w-full",children:[h.jsxs("thead",{className:"bg-primary text-white font-light rounded-lg",children:[h.jsxs("tr",{children:[h.jsx("th",{rowSpan:"2",className:"border border-black",children:"Date"}),h.jsx("th",{rowSpan:"2",className:"border border-black",children:"Machine No."}),h.jsx("th",{rowSpan:"2",className:"border border-black",children:"Product Type"}),h.jsx("th",{colSpan:"4",className:"border border-black",children:"Morning"}),h.jsx("th",{colSpan:"4",className:"border border-black",children:"Night"}),h.jsx("th",{rowSpan:"2",className:"border border-black",children:"Total Product"}),h.jsx("th",{rowSpan:"2",className:"border border-black",children:"Total Weight"})]}),h.jsxs("tr",{className:"border border-black",children:[h.jsx("th",{className:"border border-black",children:"Total"}),h.jsx("th",{style:{color:"#bd0000"},className:"border border-black",children:"Damaged"}),h.jsx("th",{className:"border border-black",children:"Net"}),h.jsx("th",{className:"border border-black",children:"Weight"}),h.jsx("th",{className:"border border-black",children:"Total"}),h.jsx("th",{style:{color:"#bd0000"},className:"border border-black",children:"Damaged"}),h.jsx("th",{className:"border border-black",children:"Net"}),h.jsx("th",{className:"border border-black",children:"Weight"})]})]}),h.jsx("tbody",{ref:i,children:h.jsx("tr",{children:h.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function fL(){const t="machinesIndividual",e="damagedProducts";let n=N.useRef(null),r=N.useRef(null),i=N.useRef(null),[s,o]=N.useState(!0),[a,l]=N.useState(new Set([]));N.useEffect(()=>{r.current.valueAsDate=new Date;let f=new Set([]);const m=rt(ce,"information","info");bt(m).then(g=>{let y=g.data();y.forming_machine.forEach(w=>{f.add(w)}),y.polish_machine.forEach(w=>{f.add(w)}),l(f)})},[]);const c=()=>{let f=0,m=new Date(r.current.value);m.setHours(0),m.setMinutes(0),m.setMilliseconds(0),m.setSeconds(0);let g=parseInt(n.current.value);if(n.current.value===""||n.current.value<=0)return u("Week Range cannot be empty"),null;if(r.current.value==="")return u("Date is Empty!"),null;u("Please be Patient ..."),o(!1);async function y(w,v=!1){let p=new Date(w);p.setHours(23),p.setMinutes(59),p.setSeconds(59);let x=new Date(w);x.setDate(x.getDate()-6),x.setHours(0),x.setMinutes(0),x.setSeconds(0),console.log(p,x);let _=Re(ce,t);Array.from(a).map((S,C)=>{Vn.map((E,D)=>{let A=0,b=0,k=0,R=0,F=0,U=hn(_,K("unix_time",">=",Math.floor(x.getTime()/1e3)),K("unix_time","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",S),K("product_type","==",E));Xe(U).then(G=>{G.forEach($=>{k++,f++;const H=$.data();parseFloat(H.weight)>0&&(b+=parseFloat(H.weight),A+=Math.abs(parseInt(H.count)))});let X=Re(ce,e),ee=hn(X,K("unix_time",">=",Math.floor(x.getTime()/1e3)),K("unix_time","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",S),K("product_type","==",E));Xe(ee).then($=>{$.forEach(H=>{const z=H.data();z.shift==="Morning"?R+=parseInt(z.damagedProductCount):F+=parseInt(z.damagedProductCount),console.log("Morning Damaged",R,"Night Damaged",F)}),k!==0&&d(`${p.getDate()}/${p.getMonth()+1}/${p.getFullYear()} - 
                                      ${x.getDate()}/${x.getMonth()+1}/${x.getFullYear()}`,S,E,R+F,A,A-R-F,parseFloat(b).toFixed(2)),(C+1)*(D+1)===a.size*Vn.length&&(f===0&&u("No Data Available in this Date Range"),o(!0))})})})})}for(let w=0;w<g;w++)y(m,w+1===g),m.setDate(m.getDate()-7)},u=f=>{i.current.innerHTML=`<tr>
              <td class="border border-black p-4 text-center" id='reportStatus' colSpan="9">
                  ${f}
              </td>
          </tr>`},d=(f,m,g,y,w,v,p)=>{const x=document.createElement("tr");x.innerHTML=`<tr>
          <td class="border border-black p-4">${f}</td>
          <td class="border border-black p-4">${m}</td>
          <td class="border border-black p-4">${g}</td>
          <td class="border border-black p-4">${y}</td>
          <td class="border border-black p-4">${w}</td>
          <td class="border border-black p-4">${v}</td>
          <td class="border border-black p-4">${p}</td>
          </tr>`;let _=document.getElementById("reportStatus");_&&_.remove(),i.current.appendChild(x)};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold py-8",children:"Weekly Report "}),h.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx("h2",{children:"Date"}),h.jsx("input",{type:"number",ref:n,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"Weeks"})," ",h.jsx("h2",{children:"To"}),h.jsx("input",{type:"date",ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"To"})]}),h.jsx("button",{onClick:c,disabled:!s,className:"px-6 py-2 rounded-full bg-black text-white",children:s?"Generate":"Please Wait ..."}),h.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),h.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",h.jsx(Pa,{})]})]}),h.jsx("div",{className:"w-full",children:h.jsxs("table",{id:"table-to-xls",className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border border-black p-2",children:"Week"}),h.jsx("th",{className:"border border-black p-2",children:"Machine No."}),h.jsx("th",{className:"border border-black p-2",children:"Product Type"}),h.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged Product"}),h.jsx("th",{className:"border border-black p-2",children:"Total Product"}),h.jsx("th",{className:"border border-black p-2",children:"Net"}),h.jsx("th",{className:"border border-black p-2",children:"Total Weight"})]})}),h.jsx("tbody",{ref:i,children:h.jsx("tr",{children:h.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function pL(){const t="machinesIndividual",e="damagedProducts";let n=N.useRef(null),r=N.useRef(null),i=N.useRef(null),s=N.useRef(null);const o=parseInt(new Date().getFullYear());let[a,l]=N.useState(!0),[c,u]=N.useState(new Set([]));N.useEffect(()=>{let g=new Set([]);const y=rt(ce,"information","info");bt(y).then(w=>{let v=w.data();v.forming_machine.forEach(p=>{g.add(p)}),v.polish_machine.forEach(p=>{g.add(p)}),u(g)})},[]);function d(){let g=new Date;g.setMilliseconds(0),g.setSeconds(0),g.setMinutes(0),g.setHours(0),g.setDate(1),g.setMonth(parseInt(i.current.value)),g.setFullYear(parseInt(r.current.value));let y=0;if(s.current.value===""||i.current.value==="")return f("Month Range cannot be empty!"),null;if(s.current.value<i.current.value)return f("Start month should be less than end month!"),null;f("Please Be Patient ..."),l(!1);const w=v=>{let p=new Date(v),x=new Date(r.current.value,p.getMonth()+1,0);x.setHours(23),x.setMinutes(59),x.setSeconds(59);const _=Re(ce,t);Array.from(c).map((S,C)=>{Vn.map((E,D)=>{let A=0,b=0,k=0,R=0,F=0;const U=hn(_,K("unix_time",">=",Math.floor(p.getTime()/1e3)),K("unix_time","<=",Math.floor(x.getTime()/1e3)),K("machine_no","==",S),K("product_type","==",E));Xe(U).then(G=>{G.forEach($=>{k++,y++;const H=$.data();parseFloat(H.weight)>0&&(b+=parseFloat(H.weight),A+=Math.abs(parseInt(H.count)))});let X=Re(ce,e),ee=hn(X,K("unix_time",">=",Math.floor(p.getTime()/1e3)),K("unix_time","<=",Math.floor(x.getTime()/1e3)),K("machine_no","==",S),K("product_type","==",E));Xe(ee).then($=>{$.forEach(H=>{const z=H.data();z.shift==="Morning"?R+=parseInt(z.damagedProductCount):F+=parseInt(z.damagedProductCount),console.log("Morning Damaged",R,"Night Damaged",F)}),k!==0&&m(p.toLocaleString("default",{month:"long"}),S,E,R+F,A,A-R-F,parseFloat(b).toFixed(2)),(C+1)*(D+1)===c.size*Vn.length&&(y===0&&f("No Data Available in this Date Range"),l(!0))})})})})};for(;g.getMonth()<=s.current.value;)w(g),g.setMonth(g.getMonth()+1)}const f=g=>{n.current.innerHTML=`<tr>
              <td class='border border-black text-center py-4' id='reportStatus' colSpan="9">
                  ${g}
              </td>
          </tr>`},m=(g,y,w,v,p,x,_)=>{const S=document.createElement("tr");S.innerHTML=`<tr>
          <td class="border border-black p-4">${g}</td>
          <td class="border border-black p-4">${y}</td>
          <td class="border border-black p-4">${w}</td>
          <td class="border border-black p-4">${v}</td>
          <td class="border border-black p-4">${p}</td>
          <td class="border border-black p-4">${x}</td>
          <td class="border border-black p-4">${_}</td>
          </tr>`;let C=document.getElementById("reportStatus");C&&C.remove(),n.current.appendChild(S)};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold py-8",children:"Monthly Report "}),h.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[h.jsx("h2",{children:"Date"}),h.jsxs("select",{ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[h.jsx("option",{value:o,children:o}),h.jsx("option",{value:o-1,children:o-1}),h.jsx("option",{value:o-2,children:o-2}),h.jsx("option",{value:o-3,children:o-3}),h.jsx("option",{value:o-4,children:o-4})]}),h.jsxs("select",{ref:i,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"From"}),h.jsx("option",{value:0,children:"January"}),h.jsx("option",{value:1,children:"February"}),h.jsx("option",{value:2,children:"March"}),h.jsx("option",{value:3,children:"April"}),h.jsx("option",{value:4,children:"May"}),h.jsx("option",{value:5,children:"June"}),h.jsx("option",{value:6,children:"July"}),h.jsx("option",{value:7,children:"August"}),h.jsx("option",{value:8,children:"September"}),h.jsx("option",{value:9,children:"October"}),h.jsx("option",{value:10,children:"November"}),h.jsx("option",{value:11,children:"December"})]}),h.jsxs("select",{ref:s,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"To"}),h.jsx("option",{value:0,children:"January"}),h.jsx("option",{value:1,children:"February"}),h.jsx("option",{value:2,children:"March"}),h.jsx("option",{value:3,children:"April"}),h.jsx("option",{value:4,children:"May"}),h.jsx("option",{value:5,children:"June"}),h.jsx("option",{value:6,children:"July"}),h.jsx("option",{value:7,children:"August"}),h.jsx("option",{value:8,children:"September"}),h.jsx("option",{value:9,children:"October"}),h.jsx("option",{value:10,children:"November"}),h.jsx("option",{value:11,children:"December"})]}),h.jsx("button",{onClick:d,disabled:!a,className:"px-6 py-2 rounded-full bg-black text-white",children:a?"Generate":"Please Wait ..."}),h.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),h.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",h.jsx(Pa,{})]})]}),h.jsx("div",{className:"w-full",children:h.jsxs("table",{id:"table-to-xls",className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border border-black p-2",children:"Week"}),h.jsx("th",{className:"border border-black p-2",children:"Machine No."}),h.jsx("th",{className:"border border-black p-2",children:"Product Type"}),h.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged Product"}),h.jsx("th",{className:"border border-black p-2",children:"Total Product"}),h.jsx("th",{className:"border border-black p-2",children:"Net"}),h.jsx("th",{className:"border border-black p-2",children:"Total Weight"})]})}),h.jsx("tbody",{ref:n,children:h.jsx("tr",{children:h.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function mL(){const t="damagedProducts",e="machinesIndividual";let n=N.useRef(null),r=N.useRef(null),i=N.useRef(null),s=N.useRef(null);const o=parseInt(new Date().getFullYear());let[a,l]=N.useState(!0),[c,u]=N.useState(new Set([]));N.useEffect(()=>{let g=new Set([]);const y=rt(ce,"information","info");bt(y).then(w=>{let v=w.data();v.forming_machine.forEach(p=>{g.add(p)}),v.polish_machine.forEach(p=>{g.add(p)}),u(g)})},[]);const d=()=>{let g=0,y=new Date;if(y.setDate(1),y.setHours(0),y.setMinutes(0),y.setMilliseconds(0),y.setSeconds(0),y.setMonth(r.current.value),y.setFullYear(i.current.value),n.current.value===""||n.current.value<=0)return f("Quarter Range cannot be empty!"),null;if(r.current.value==="")return f("Start month cannot be empty!"),null;f("Please Be Patient ..."),l(!1);const w=v=>{let p=new Date(v),x=new Date(v);x.setSeconds(59),x.setHours(23),x.setMinutes(59),x.setDate(0),x.setMonth(x.getMonth()+4);const _=Re(ce,e);Array.from(c).map((S,C)=>{Vn.map((E,D)=>{let A=0,b=0,k=0,R=0,F=0;const U=hn(_,K("unix_time",">=",Math.floor(p.getTime()/1e3)),K("unix_time","<=",Math.floor(x.getTime()/1e3)),K("machine_no","==",S),K("product_type","==",E));Xe(U).then(G=>{G.forEach($=>{k++,g++;const H=$.data();parseFloat(H.weight)>0&&(b+=parseFloat(H.weight),A+=Math.abs(parseInt(H.count)))});let X=Re(ce,t),ee=hn(X,K("unix_time",">=",Math.floor(p.getTime()/1e3)),K("unix_time","<=",Math.floor(x.getTime()/1e3)),K("machine_no","==",S),K("product_type","==",E));Xe(ee).then($=>{$.forEach(H=>{const z=H.data();z.shift==="Morning"?R+=parseInt(z.damagedProductCount):F+=parseInt(z.damagedProductCount),console.log("Morning Damaged",R,"Night Damaged",F)}),k!==0&&m(`${p.toLocaleString("default",{month:"long"})}, ${p.getFullYear()} - 
                                      ${x.toLocaleString("default",{month:"long"})}, ${x.getFullYear()}`,S,E,R+F,A,A-R-F,parseFloat(b).toFixed(2)),(C+1)*(D+1)===c.size*Vn.length&&(g===0&&f("No Data Available in this Date Range"),l(!0))})})})})};for(let v=0;v<n.current.value;v++)w(y),y.setMonth(y.getMonth()+4)},f=g=>{s.current.innerHTML=`<tr>
              <td class="border border-black p-2" id='reportStatus' colSpan="9">
                  ${g}
              </td>
          </tr>`},m=(g,y,w,v,p,x,_)=>{const S=document.createElement("tr");S.innerHTML=`<tr>
          <td  class="border border-black p-4">${g}</td>
          <td  class="border border-black p-4">${y}</td>
          <td  class="border border-black p-4">${w}</td>
          <td  class="border border-black p-4">${v}</td>
          <td  class="border border-black p-4">${p}</td>
          <td  class="border border-black p-4">${x}</td>
          <td  class="border border-black p-4">${_}</td>
          </tr>`;let C=document.getElementById("reportStatus");C&&C.remove(),s.current.appendChild(S)};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold py-8",children:"Quarterly Report "}),h.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[h.jsx("h2",{children:"Date"}),h.jsx("input",{type:"number",ref:n,placeholder:"Quarters",style:{width:"9rem"},className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400"}),"From",h.jsxs("select",{ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Start Month"}),h.jsx("option",{value:0,children:"January"}),h.jsx("option",{value:1,children:"February"}),h.jsx("option",{value:2,children:"March"}),h.jsx("option",{value:3,children:"April"}),h.jsx("option",{value:4,children:"May"}),h.jsx("option",{value:5,children:"June"}),h.jsx("option",{value:6,children:"July"}),h.jsx("option",{value:7,children:"August"}),h.jsx("option",{value:8,children:"September"}),h.jsx("option",{value:9,children:"October"}),h.jsx("option",{value:10,children:"November"}),h.jsx("option",{value:11,children:"December"})]}),h.jsxs("select",{ref:i,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[h.jsx("option",{value:o,children:o}),h.jsx("option",{value:o-1,children:o-1}),h.jsx("option",{value:o-2,children:o-2}),h.jsx("option",{value:o-3,children:o-3}),h.jsx("option",{value:o-4,children:o-4})]}),h.jsx("button",{onClick:d,disabled:!a,className:"px-6 py-2 rounded-full bg-black text-white",children:a?"Generate":"Please Wait ..."}),h.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),h.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",h.jsx(Pa,{})]})]}),h.jsx("div",{className:"w-full",children:h.jsxs("table",{id:"table-to-xls",className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border border-black p-2",children:"Quarter"}),h.jsx("th",{className:"border border-black p-2",children:"Machine No."}),h.jsx("th",{className:"border border-black p-2",children:"Product Type"}),h.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged Product"}),h.jsx("th",{className:"border border-black p-2",children:"Total Product"}),h.jsx("th",{className:"border border-black p-2",children:"Net"}),h.jsx("th",{className:"border border-black p-2",children:"Total Weight"})]})}),h.jsx("tbody",{ref:s,children:h.jsx("tr",{children:h.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function gL(){const t="machinesIndividual",e="damagedProducts";let n=N.useRef(null);const r=parseInt(new Date().getFullYear());let i=N.useRef(null),s=N.useRef(null),[o,a]=N.useState(!0),[l,c]=N.useState(new Set([]));N.useEffect(()=>{let m=new Set([]);const g=rt(ce,"information","info");bt(g).then(y=>{let w=y.data();w.forming_machine.forEach(v=>{m.add(v)}),w.polish_machine.forEach(v=>{m.add(v)}),c(m)})},[]);const u=()=>{let m=0,g=new Date;g.setMilliseconds(0),g.setSeconds(0),g.setHours(0),g.setMinutes(0),g.setDate(1),g.setMonth(0),g.setFullYear(i.current.value),d("Please Be Patient ..."),a(!1);const y=w=>{let v=new Date(w);v.setHours(0),v.setMinutes(0),v.setSeconds(0);let p=new Date(w);p.setMonth(11),p.setDate(31),p.setHours(23),p.setMinutes(59),p.setSeconds(59),console.log(v,p);const x=Re(ce,t);Array.from(l).map((_,S)=>{Vn.map((C,E)=>{let D=0,A=0,b=0,k=0,R=0,F=0,U=0,G=0,X=0;const ee=hn(x,K("unix_time",">=",Math.floor(v.getTime()/1e3)),K("unix_time","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",_),K("product_type","==",C));Xe(ee).then($=>{$.forEach(M=>{U++,m++;const j=M.data();j.shift==="Morning"?parseFloat(j.weight)>0&&(D+=Math.abs(parseInt(j.count)),A+=parseFloat(j.weight)):parseFloat(j.weight)>0&&(b+=Math.abs(parseInt(j.count)),k+=parseFloat(j.weight))}),R=D+b,F=(k+A).toFixed(2);let H=Re(ce,e),z=hn(H,K("unix_time",">=",Math.floor(v.getTime()/1e3)),K("unix_time","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",_),K("product_type","==",C));Xe(z).then(M=>{M.forEach(j=>{const O=j.data();O.shift==="Morning"?G+=parseInt(O.damagedProductCount):X+=parseInt(O.damagedProductCount)}),U!==0&&f(v.getFullYear(),_,C,G,D,A.toFixed(2),D-G,X,b,k.toFixed(2),b-X,R-G-X,F),(S+1)*(E+1)===l.size*Vn.length&&(m===0&&d("No Data Available in this Date Range"),a(!0))})})})})};for(let w=0;w<s.current.value-i.current.value+1;w++)y(g),g.setFullYear(g.getFullYear()+1)},d=m=>{n.current.innerHTML=`<tr>
              <td class="border border-black p-2 text-center" id='reportStatus' colSpan="13">
                  ${m}
              </td>
          </tr>`},f=(m,g,y,w,v,p,x,_,S,C,E,D,A)=>{const b=document.createElement("tr");b.innerHTML=`<tr>
          <td class="border border-black p-2">${m}</td>
          <td class="border border-black p-2">${g}</td>
          <td class="border border-black p-2">${y}</td>

          <td class="border border-black p-2">${v}</td>
          <td class="border border-black p-2">${w}</td>
          <td class="border border-black p-2">${x}</td>
          <td class="border border-black p-2">${p}</td>

          <td class="border border-black p-2">${S}</td>
          <td class="border border-black p-2">${_}</td>
          <td class="border border-black p-2">${E}</td>
          <td class="border border-black p-2">${C}</td>

          <td class="border border-black p-2">${D}</td>
          <td class="border border-black p-2">${A}</td>
          </tr>`;let k=document.getElementById("reportStatus");k!==null&&k.remove(),n.current.appendChild(b)};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold py-8",children:"Yearly Report "}),h.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[h.jsx("h2",{children:"From"}),h.jsxs("select",{ref:i,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[h.jsx("option",{value:r,children:r}),h.jsx("option",{value:r-1,children:r-1}),h.jsx("option",{value:r-2,children:r-2}),h.jsx("option",{value:r-3,children:r-3}),h.jsx("option",{value:r-4,children:r-4})]}),"to",h.jsxs("select",{ref:s,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[h.jsx("option",{value:r,children:r}),h.jsx("option",{value:r-1,children:r-1}),h.jsx("option",{value:r-2,children:r-2}),h.jsx("option",{value:r-3,children:r-3}),h.jsx("option",{value:r-4,children:r-4})]}),h.jsx("button",{onClick:u,disabled:!o,className:"px-6 py-2 rounded-full bg-black text-white",children:o?"Generate":"Please Wait ..."}),h.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),h.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",h.jsx(Pa,{})]})]}),h.jsx("div",{className:"w-full",children:h.jsxs("table",{id:"table-to-xls",className:"w-full",children:[h.jsxs("thead",{className:"bg-primary text-white font-light rounded-lg",children:[h.jsxs("tr",{children:[h.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Date"}),h.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Machine No."}),h.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Product Type"}),h.jsx("th",{className:"border border-black p-2",colSpan:"4",children:"Morning"}),h.jsx("th",{className:"border border-black p-2",colSpan:"4",children:"Night"}),h.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Total Product"}),h.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Total Weight"})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"border border-black p-2",children:"Total"}),h.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged"}),h.jsx("th",{className:"border border-black p-2",children:"Net"}),h.jsx("th",{className:"border border-black p-2",children:"Weight"}),h.jsx("th",{className:"border border-black p-2",children:"Total"}),h.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged"}),h.jsx("th",{className:"border border-black p-2",children:"Net"}),h.jsx("th",{className:"border border-black p-2",children:"Weight"})]})]}),h.jsx("tbody",{ref:n,children:h.jsx("tr",{children:h.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function xL(){const t="machinesIndividual";let e=N.useRef(null),n=N.useRef(null),r=N.useRef(null),i=N.useRef(null),[s,o]=N.useState(new Set([])),[a,l]=N.useState(!0);N.useEffect(()=>{n.current.valueAsDate=new Date;let m="<th></th>",g=new Set([]);const y=rt(ce,"information","info");bt(y).then(w=>{let v=w.data();v.forming_machine.forEach(p=>{g.add(p)}),v.polish_machine.forEach(p=>{g.add(p)}),o(g),Tr.forEach(p=>{m+=`<th class="border border-black p-2">${p}</th>`}),i.current.innerHTML=`<tr>${m}<tr>`})},[]);const c=()=>{let m=new Date(e.current.value);m.setHours(0),m.setMinutes(0),m.setSeconds(1),m.setMilliseconds(0);let g=new Date(n.current.value);if(g.setHours(23),g.setMinutes(59),g.setMilliseconds(99),g.setSeconds(59),n.current.value===""||e.current.value==="")return u("Date Ranges cannot be empty!"),null;if(m.getTime()>g.getTime())return u("Start date should be less than end date"),null;u("Please be Patient ..."),l(!1),d(m,g)},u=m=>{r.current.innerHTML=`<tr>
              <td class='border border-black p-2' id='reportStatus' colSpan=${Tr.length+1}>
                  ${m}
              </td>
          </tr>`};async function d(m,g){const y=Re(ce,"machineStatus"),w=Re(ce,t);Array.from(s).forEach((v,p)=>{let x=0,_=hn(y,K("time_start",">=",Math.floor(m.getTime()/1e3)),K("time_start","<=",Math.floor(g.getTime()/1e3)),K("machine_no","==",`${v}`),K("isRunning","==",!0));Xe(_).then(S=>{v==="03"&&console.log("03",Math.floor(m.getTime()/1e3),Math.floor(g.getTime()/1e3)),S.forEach(E=>{x+=E.data().time_end-E.data().time_start,console.log("-------------------"),console.log(E.data())});let C=[];for(const E of Tr){let D=0;_=hn(w,K("unix_time",">=",Math.floor(m.getTime()/1e3)),K("unix_time","<=",Math.floor(g.getTime()/1e3)),K("machine_no","==",`${v}`),K("thickness","==",E)),Xe(_).then(A=>{A.forEach(b=>{D+=parseInt(b.data().count)}),D!==0?C.push(`${(x/D).toFixed(2)} sec`):C.push("N/A"),C.length===Tr.length&&f(v,C),p+1===s.size&&C.length===Tr.length&&l(!0)})}})})}const f=(m,g)=>{let y=g.map(p=>`<td>${p}</td>`);y=y.join("");const w=document.createElement("tr");w.innerHTML=`<tr class="border border-black p-2">
          <td class="border border-black p-2"><b>FM ${m}</b></td>
          ${y}
          </tr>`;let v=document.getElementById("reportStatus");v&&v.remove(),r.current.appendChild(w)};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold py-8",children:"Machine Efficiency "}),h.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[h.jsx("h2",{children:"From"}),h.jsx("input",{type:"date",ref:e,placeholder:"Quarters",style:{width:"9rem"},className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400"}),"To",h.jsx("input",{type:"date",ref:n,placeholder:"Quarters",style:{width:"9rem"},className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400"}),h.jsx("button",{onClick:c,disabled:!a,className:"px-6 py-2 rounded-full bg-black text-white",children:a?"Generate":"Please Wait ..."}),h.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),h.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",h.jsx(Pa,{})]})]}),h.jsx("div",{className:"w-full",children:h.jsxs("table",{id:"table-to-xls",className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",ref:i}),h.jsx("tbody",{ref:r,children:h.jsx("tr",{children:h.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}const vL="/assets/rafi_professional-BjLSv3OK.png";function yL(){return h.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[h.jsxs("h2",{className:"text-xl",children:["Welcome Back, ",h.jsx("span",{className:"text-primary",children:"Shahjalal Rafi!"})]}),h.jsxs("div",{className:" flex gap-4 items-center",children:[h.jsx("img",{src:vL,alt:"",className:"w-10 h-10 rounded-full"}),h.jsx("p",{children:"Shahjalal Rafi"})]})]})}function D2(t){return Ma({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 160c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32s-32-14.3-32-32V205.3L342.6 374.6c-12.5 12.5-32.8 12.5-45.3 0L192 269.3 54.6 406.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160c12.5-12.5 32.8-12.5 45.3 0L320 306.7 466.7 160H384z"},child:[]}]})(t)}const _L="data:image/svg+xml,%3csvg%20width='139'%20height='79'%20viewBox='0%200%20139%2079'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25.9728%2039.469L1%2043.8541V79H138V2.54224L114.166%2039.2242C113.72%2039.9102%20112.901%2040.2556%20112.099%2040.0962L93.1174%2036.3271C92.8591%2036.2758%2092.6133%2036.174%2092.3944%2036.0274L71.5655%2022.0847C70.6882%2021.4975%2069.5055%2021.6932%2068.8642%2022.5319L47.4015%2050.6008C46.7656%2051.4324%2045.5961%2051.6329%2044.7195%2051.0608L27.4119%2039.764C26.987%2039.4867%2026.4726%2039.3812%2025.9728%2039.469Z'%20fill='url(%23paint0_linear_604_5713)'%20fill-opacity='0.25'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='%232CF619'%20stroke-width='2'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='white'%20stroke-opacity='0.05'%20stroke-width='2'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_604_5713'%20x1='69.5'%20y1='2.54224'%20x2='69.5'%20y2='79'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232CF619'%20stop-opacity='0.7'/%3e%3cstop%20offset='1'%20stop-color='%232CF619'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",wL="data:image/svg+xml,%3csvg%20width='139'%20height='79'%20viewBox='0%200%20139%2079'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25.9728%2039.469L1%2043.8541V79H138V2.54224L114.166%2039.2242C113.72%2039.9102%20112.901%2040.2556%20112.099%2040.0962L93.1174%2036.3271C92.8591%2036.2758%2092.6133%2036.174%2092.3944%2036.0274L71.5655%2022.0847C70.6882%2021.4975%2069.5055%2021.6932%2068.8642%2022.5319L47.4015%2050.6008C46.7656%2051.4324%2045.5961%2051.6329%2044.7195%2051.0608L27.4119%2039.764C26.987%2039.4867%2026.4726%2039.3812%2025.9728%2039.469Z'%20fill='url(%23paint0_linear_604_5722)'%20fill-opacity='0.25'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='%23ED1C24'%20stroke-width='2'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='white'%20stroke-opacity='0.05'%20stroke-width='2'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_604_5722'%20x1='69.5'%20y1='2.54224'%20x2='69.5'%20y2='79'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23ED1C24'%20stop-opacity='0.7'/%3e%3cstop%20offset='1'%20stop-color='%23ED1C24'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",CL="data:image/svg+xml,%3csvg%20width='139'%20height='78'%20viewBox='0%200%20139%2078'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25.9728%2038.469L1%2042.8541V78H138V1.54224L114.166%2038.2242C113.72%2038.9102%20112.901%2039.2556%20112.099%2039.0962L93.1174%2035.3271C92.8591%2035.2758%2092.6133%2035.174%2092.3944%2035.0274L71.5655%2021.0847C70.6882%2020.4975%2069.5055%2020.6932%2068.8642%2021.5319L47.4015%2049.6008C46.7656%2050.4324%2045.5961%2050.6329%2044.7195%2050.0608L27.4119%2038.764C26.987%2038.4867%2026.4726%2038.3812%2025.9728%2038.469Z'%20fill='url(%23paint0_linear_604_5731)'%20fill-opacity='0.25'/%3e%3cpath%20d='M1%2042.6415L26.0033%2038.2433C26.5038%2038.1553%2027.019%2038.261%2027.4443%2038.5391L44.7735%2049.8698C45.6507%2050.4434%2046.8219%2050.2425%2047.4578%2049.4094L68.9485%2021.2545C69.5898%2020.4143%2070.7742%2020.2182%2071.6521%2020.8069L92.507%2034.7916C92.7261%2034.9385%2092.972%2035.0406%2093.2307%2035.092L112.228%2038.8708C113.035%2039.0314%20113.858%2038.6811%20114.302%2037.9882L138%201'%20stroke='%2316B1FF'%20stroke-width='2'/%3e%3cpath%20d='M1%2042.6415L26.0033%2038.2433C26.5038%2038.1553%2027.019%2038.261%2027.4443%2038.5391L44.7735%2049.8698C45.6507%2050.4434%2046.8219%2050.2425%2047.4578%2049.4094L68.9485%2021.2545C69.5898%2020.4143%2070.7742%2020.2182%2071.6521%2020.8069L92.507%2034.7916C92.7261%2034.9385%2092.972%2035.0406%2093.2307%2035.092L112.228%2038.8708C113.035%2039.0314%20113.858%2038.6811%20114.302%2037.9882L138%201'%20stroke='white'%20stroke-opacity='0.05'%20stroke-width='2'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_604_5731'%20x1='69.5'%20y1='1.54224'%20x2='69.5'%20y2='78'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2322B5FF'%20stop-opacity='0.7'/%3e%3cstop%20offset='1'%20stop-color='%2322B5FF'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";function EL(){let[t,e]=N.useState(!1),[n,r]=N.useState(!1),[i,s]=N.useState([]),[o,a]=N.useState([]),[l,c]=N.useState([]);N.useState("all");async function u(){const d=rt(ce,"information","info");return(await bt(d)).data()}return N.useEffect(()=>{u().then(f=>{const m=Re(ce,"machineStatus");let g=(f==null?void 0:f.forming_machine)||[],y=g.length,w=0;if(y===0){e(!0),r(!1);return}g.sort((v,p)=>parseInt(v,10)-parseInt(p,10)),g.forEach(v=>{const p=hn(m,K("machine_no","==",v),mr("time_end","desc"),Or(1));Xe(p).then(x=>{let _=!1,S="N/A";x.forEach(C=>{let E=C.data(),D=Math.floor(new Date().getTime()/1e3)-(E==null?void 0:E.time_end),A=Math.floor(D/3600),b=Math.floor(D%3600/60),k=D%60;S=`${A?`${A}h`:""}${b?` ${b}m`:""} ${k}s`,D<=600&&(_=!0)}),s(C=>[...C,{meta:"forming",machineNo:`${v}`,active:_,idleTime:S}]),w+=1,w===y&&(e(!0),r(g.length!==0))})})})},[]),N.useEffect(()=>{var m,g,y,w;let d=(g=(m=i==null?void 0:i.slice(0,16))==null?void 0:m.filter(v=>v==null?void 0:v.active))==null?void 0:g.length,f=(w=(y=i==null?void 0:i.slice(0,16))==null?void 0:y.filter(v=>!(v!=null&&v.active)))==null?void 0:w.length;a(d),c(f)},[i]),h.jsxs("div",{className:"py-10 flex gap-10 items-center",children:[h.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] w-full p-4 rounded-lg flex flex-col gap-6",children:[h.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[h.jsx("p",{children:"Active Machines"}),h.jsxs("div",{className:"flex gap-2 items-center text-[#2CF619]",children:[h.jsx(D2,{className:"fill-[#2CF619]"}),h.jsx("p",{children:"+17%"})]})]}),h.jsxs("div",{className:"flex gap-4 items-end  justify-between",children:[h.jsxs("h2",{children:[h.jsx("span",{className:"text-2xl font-bold",children:o})," Machines Active"]}),h.jsx("img",{src:_L,alt:""})]})]}),h.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] w-full p-4 rounded-lg flex flex-col gap-6",children:[h.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[h.jsx("p",{children:"Idle Machines"}),h.jsxs("div",{className:"flex gap-2 items-center text-[#ED1C24]",children:[h.jsx(D2,{className:"fill-[#ED1C24]"}),h.jsx("p",{children:"+17%"})]})]}),h.jsxs("div",{className:"flex gap-4 items-end  justify-between",children:[h.jsxs("h2",{children:[h.jsx("span",{className:"text-2xl font-bold",children:l})," ","Machines Idle"]}),h.jsx("img",{src:wL,alt:""})]})]}),h.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] w-full p-4 rounded-lg flex flex-col gap-6",children:[h.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[h.jsx("p",{children:"Total Current Production"}),h.jsxs("div",{className:"flex gap-2 items-center text-[##16B1FF]",children:[h.jsx(D2,{className:"fill-[##16B1FF]"}),h.jsx("p",{children:"+17%"})]})]}),h.jsxs("div",{className:"flex gap-4 items-end  justify-between",children:[h.jsxs("h2",{children:[h.jsx("span",{className:"text-2xl font-bold",children:"1300"})," kg"]}),h.jsx("img",{src:CL,alt:""})]})]})]})}const GC="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M20.125%2027.25C20.125%2026.5596%2020.6846%2026%2021.375%2026H28.25C28.4968%2026%2028.738%2026.073%2028.9434%2026.2099L32%2028.2477L35.0566%2026.2099C35.262%2026.073%2035.5032%2026%2035.75%2026H42.625C43.3154%2026%2043.875%2026.5596%2043.875%2027.25C43.875%2027.9404%2043.3154%2028.5%2042.625%2028.5H36.1285L32.6934%2030.7901C32.2735%2031.07%2031.7265%2031.07%2031.3066%2030.7901L27.8715%2028.5H21.375C20.6846%2028.5%2020.125%2027.9404%2020.125%2027.25Z'%20fill='black'/%3e%3cpath%20d='M35.0625%2051.5C34.3721%2051.5%2033.8125%2052.0596%2033.8125%2052.75C33.8125%2053.4404%2034.3721%2054%2035.0625%2054H40.6875C41.3779%2054%2041.9375%2053.4404%2041.9375%2052.75C41.9375%2052.0596%2041.3779%2051.5%2040.6875%2051.5H35.0625Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M30.0625%2046.5C29.3721%2046.5%2028.8125%2047.0596%2028.8125%2047.75V57.75C28.8125%2058.4404%2029.3721%2059%2030.0625%2059H45.6875C46.3779%2059%2046.9375%2058.4404%2046.9375%2057.75V47.75C46.9375%2047.0596%2046.3779%2046.5%2045.6875%2046.5H30.0625ZM31.3125%2056.5V49H44.4375V56.5H31.3125Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M21.0625%200C20.3721%200%2019.8125%200.559644%2019.8125%201.25V3.4375H7.3125C6.62214%203.4375%206.0625%203.99714%206.0625%204.6875V9.6875C6.0625%2010.3779%206.62214%2010.9375%207.3125%2010.9375H12V37.75C12%2038.4404%2012.5596%2039%2013.25%2039H15.125V41.5H13.25C12.5596%2041.5%2012%2042.0596%2012%2042.75V62.75C12%2063.4404%2012.5596%2064%2013.25%2064H50.75C51.4404%2064%2052%2063.4404%2052%2062.75V42.75C52%2042.0596%2051.4404%2041.5%2050.75%2041.5H48.875V39H50.75C51.4404%2039%2052%2038.4404%2052%2037.75V10.9375H56.6875C57.3779%2010.9375%2057.9375%2010.3779%2057.9375%209.6875V4.6875C57.9375%203.99714%2057.3779%203.4375%2056.6875%203.4375H44.1875V1.25C44.1875%200.559644%2043.6279%200%2042.9375%200H21.0625ZM49.5%2010.9375H44.1875V13.125C44.1875%2013.8154%2043.6279%2014.375%2042.9375%2014.375H37V19.875C37%2020.2065%2036.8683%2020.5245%2036.6339%2020.7589L32.8839%2024.5089C32.3957%2024.997%2031.6043%2024.997%2031.1161%2024.5089L27.3661%2020.7589C27.1317%2020.5245%2027%2020.2065%2027%2019.875V14.375H21.0625C20.3721%2014.375%2019.8125%2013.8154%2019.8125%2013.125V10.9375H14.5V36.5H20.125V33.375C20.125%2032.6846%2020.6846%2032.125%2021.375%2032.125H28.25C28.4968%2032.125%2028.738%2032.198%2028.9434%2032.3349L32%2034.3727L35.0566%2032.3349C35.262%2032.198%2035.5032%2032.125%2035.75%2032.125H42.625C43.3154%2032.125%2043.875%2032.6846%2043.875%2033.375V36.5H49.5V10.9375ZM55.4375%208.4375V5.9375H44.1875V8.4375H55.4375ZM41.6875%202.5H22.3125V11.875H41.6875V2.5ZM19.8125%208.4375V5.9375H8.5625V8.4375H19.8125ZM34.5%2014.375H29.5V19.3572L32%2021.8572L34.5%2019.3572V14.375ZM41.375%2034.625H36.1285L32.6934%2036.9151C32.2735%2037.195%2031.7265%2037.195%2031.3066%2036.9151L27.8715%2034.625H22.625V41.5H41.375V34.625ZM46.375%2039H43.875V41.5H46.375V39ZM17.625%2041.5H20.125V39H17.625V41.5ZM14.5%2044V61.5H49.5V44H14.5Z'%20fill='black'/%3e%3c/g%3e%3c/svg%3e";function SL(){var s;let[t,e]=N.useState([]);const n=30,r="machines";N.useEffect(()=>{const o=Re(ce,r),a=hn(o,mr("unix_time","desc"),Or(n));i(a)},[]);const i=(o,a)=>{qc(o,l=>{e(c=>{let u=[];return l.forEach(d=>{const f={id:d==null?void 0:d.id,...d==null?void 0:d.data()},m=c.some(g=>g.id==f.id);f.status=(c==null?void 0:c.length)===0||m?"old":"new",u.push(f)}),u})})};return h.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] p-8 rounded-lg",children:[h.jsx("h2",{className:"text-3xl",children:"Real-Time Machine Data"}),h.jsxs("div",{className:"grid grid-cols-6 items-center gap-6 bg-primary rounded-full p-4 text-white mt-6",children:[h.jsx("p",{children:"Machine Names"}),h.jsx("p",{children:"Status"}),h.jsx("p",{children:"Shift"}),h.jsx("p",{children:"Product Type"}),h.jsx("p",{children:"Production weight"}),h.jsx("p",{children:"Production Count"})]}),(s=t==null?void 0:t.slice(0,5))==null?void 0:s.map(o=>h.jsxs("div",{className:`grid grid-cols-6 items-center gap-6  rounded-md p-2 text-black mt-6 ${(o==null?void 0:o.status)=="new"?"bg-green-100":""}`,children:[h.jsxs("p",{className:"flex gap-2 items-center",children:[h.jsx("img",{src:GC,alt:"",className:"w-10 h-10"}),"FM ",o==null?void 0:o.machine_no]}),h.jsx("p",{children:"Active"}),h.jsx("p",{children:o==null?void 0:o.shift}),h.jsxs("p",{children:[o==null?void 0:o.product_type,", ",o==null?void 0:o.product_dimensions]}),h.jsxs("p",{children:[o==null?void 0:o.weight," KG"]}),h.jsx("p",{children:o==null?void 0:o.count})]}))]})}function bL(){var r,i;let[t,e]=N.useState([]);N.useState([]),N.useState([]),N.useState("all");async function n(){const s=rt(ce,"information","info");return(await bt(s)).data()}return N.useEffect(()=>{n().then(o=>{const a=Re(ce,"machineStatus");let l=(o==null?void 0:o.forming_machine)||[],c=l.length,u=0;if(c===0){setDataLoaded(!0),setDataAvailable(!1);return}l.sort((d,f)=>parseInt(d,10)-parseInt(f,10)),l.forEach(d=>{const f=hn(a,K("machine_no","==",d),mr("time_end","desc"),Or(1));Xe(f).then(m=>{let g=!1,y="N/A";m.forEach(w=>{let v=w.data(),p=Math.floor(new Date().getTime()/1e3)-(v==null?void 0:v.time_end),x=Math.floor(p/3600),_=Math.floor(p%3600/60),S=p%60;y=`${x?`${x}h`:""}${_?` ${_}m`:""} ${S}s`,p<=600&&(g=!0)}),e(w=>[...w,{meta:"forming",machineNo:`${d}`,active:g,idleTime:y}]),u+=1,u===c&&(setDataLoaded(!0),setDataAvailable(l.length!==0))})})})},[]),h.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] p-8 rounded-lg",children:[h.jsx("h2",{className:"text-3xl",children:"List of idle machine"}),h.jsxs("div",{className:"grid grid-cols-2 items-center gap-6 bg-primary rounded-full p-4 text-white mt-6",children:[h.jsx("p",{children:"Machine Names"}),h.jsx("p",{children:"Idle Time"})]}),(i=(r=t==null?void 0:t.slice(0,16))==null?void 0:r.filter(s=>!(s!=null&&s.active)))==null?void 0:i.map(s=>h.jsxs("div",{className:"grid grid-cols-2 items-center gap-6  rounded-full p-2 text-black mt-6",children:[h.jsxs("p",{className:"flex gap-2 items-center",children:[h.jsx("img",{src:GC,alt:"",className:"w-10 h-10"}),"FM ",s==null?void 0:s.machineNo]}),h.jsx("p",{children:s==null?void 0:s.idleTime})]}))]})}var N2=require("react"),Ll=require("@canvasjs/charts");Ll=Ll.Chart?Ll:window.CanvasJS;let DL=class extends N2.Component{constructor(e){super(e),this.options=e.options?e.options:{},this.containerProps=e.containerProps?{...e.containerProps}:{width:"100%",position:"relative"},this.containerProps.height=e.containerProps&&e.containerProps.height?e.containerProps.height:this.options.height?this.options.height+"px":"400px",this.containerRef=N2.createRef()}componentDidMount(){this.chart=new Ll.Chart(this.containerRef.current,this.options),this.chart.render(),this.props.onRef&&this.props.onRef(this.chart)}shouldComponentUpdate(e,n){return e.options!==this.options}componentDidUpdate(){this.chart.options=this.props.options,this.chart.render()}componentWillUnmount(){this.chart&&this.chart.destroy(),this.props.onRef&&this.props.onRef(void 0)}render(){return N2.createElement("div",{id:this.props.id,ref:this.containerRef,style:this.containerProps})}};var jd={CanvasJSChart:DL,CanvasJS:Ll},NL=jd.CanvasJSChart;class kL extends N.Component{render(){let e=this.props.data;console.log("Data",e);const n={theme:"light2",animationEnabled:!0,title:{text:"Production Details"},toolTip:{shared:!0},axisY:{title:"Total Weight",suffix:"KG"},axisX:{title:"Machine",valueFormatString:"MMM",labelAngle:-45},data:[{type:"spline",xValueFormatString:"MMM",yValueFormatString:"#,###.## KG",name:"Weight",showInLegend:!0,dataPoints:e==null?void 0:e.map(r=>({label:r.name,y:r["Total weight"]}))},{type:"spline",xValueFormatString:"MMM",yValueFormatString:"#,###.## PIPE",name:"Pipes",showInLegend:!0,dataPoints:e==null?void 0:e.map(r=>({label:r.name,y:r.Pipes}))},{type:"spline",xValueFormatString:"MMM",yValueFormatString:"#,###.## AVW",name:"AVR Pipe W",showInLegend:!0,dataPoints:e==null?void 0:e.map(r=>({label:r.name,y:Number(r["Average Pipe Weight"])}))}]};return console.log("options",n),h.jsx("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] p-8 rounded-lg flex justify-center items-center",children:h.jsx(NL,{options:n})})}}function AL(){return h.jsx("div",{className:"grid grid-cols-2 gap-8 mt-10",children:h.jsx(bL,{})})}function TL(){return h.jsxs("div",{children:[h.jsx(yL,{}),h.jsx(EL,{}),h.jsx(SL,{}),h.jsx(AL,{})]})}function IL({setshowProductModal:t,setshowShiftModal:e,setdamagedProductModal:n}){return h.jsxs("div",{className:"mb-10",children:[h.jsx("h2",{className:"text-3xl font-bold ",children:"Manage Products"}),h.jsx("div",{className:"flex gap-4 justify-end items-center",children:h.jsx(Wr,{to:"/products/add-product",children:h.jsxs("button",{className:"bg-primary px-4 py-2 rounded-full text-white flex gap-2 items-center",children:["Add Product",h.jsx(px,{className:"w-6 h-6"})]})})})]})}function RL(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return h.jsxs("p",{children:[`${e}/${n}/${r}`,h.jsx("br",{}),t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]})}function FL({productData:t}){var e;return h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:h.jsxs("tr",{className:" rounded-tl-lg",children:[h.jsx("th",{className:"border border-black p-2",children:"Sl No."}),h.jsx("th",{className:"border border-black p-2",children:"Mazchine No."}),h.jsx("th",{className:"border border-black p-2",children:"Thickness"}),h.jsx("th",{className:"border border-black p-2",children:"Dimension"}),h.jsx("th",{className:"border border-black p-2",children:"Product Type"}),h.jsx("th",{className:"border border-black p-2",children:"Added On"})]})}),h.jsx("tbody",{children:(e=t==null?void 0:t.filter(n=>(n==null?void 0:n.status)=="approved"))==null?void 0:e.map((n,r)=>h.jsxs("tr",{children:[h.jsx("td",{class:"border border-black p-4",children:r+1}),h.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.machine_no}),h.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.thickness}),h.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.product_dimensions}),h.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.product_type}),h.jsx("td",{class:"border border-black p-4",children:n!=null&&n.creatingDate?RL(n.creatingDate.toDate()):h.jsx("p",{children:"No date"})})]}))})]})}function KC({setFormData:t}){let[e,n]=N.useState([]),[r,i]=N.useState(""),[s,o]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState("");const m=g=>{if(g.preventDefault(),s===""||a===""||c===""||d==="")return i("Please fill up this form properly"),!1;t({machine_no:s,thickness:a,product_type:c,product_dimensions:d})};return N.useEffect(()=>{const g=rt(ce,"information","info");bt(g).then(y=>{let w=[];y.data().forming_machine.forEach((p,x)=>{w.push(p)}),n(w)})},[]),h.jsxs("form",{className:"flex flex-col gap-8",onSubmit:m,children:[h.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Add Product"}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Machine No*"}),h.jsxs("select",{value:s,onChange:g=>o(g.target.value),className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Machine No."}),e==null?void 0:e.map(g=>h.jsx("option",{value:g,children:g}))]})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Dimension*"}),h.jsxs("select",{className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:d,onChange:g=>f(g.target.value),children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Dimension"}),hL.map(g=>h.jsx("option",{value:g,children:g}))]})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Thickness*"}),h.jsxs("select",{className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:a,onChange:g=>l(g.target.value),children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Product Thickness"}),Tr.map(g=>h.jsx("option",{value:g,children:g}))]})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Product Type*"}),h.jsxs("select",{className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:c,onChange:g=>u(g.target.value),children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Product Type"}),Vn.map(g=>h.jsx("option",{value:g,children:g}))]})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"})}),h.jsx("span",{className:"msgSpan",children:r})]})}function ML(t){return Ma({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(t)}function d0({open:t,control:e,children:n,width:r,bg:i,padding:s}){return t&&h.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black/70 z-50 flex justify-center items-center",children:h.jsxs("div",{className:`relative bg-white max-h-[550px] md:max-h-[750px] max-w-[600px] ${r||"w-full"}  h- mx-4 shadow-xl ${s||"p-4 md:p-8"} rounded overflow-y-scroll`,children:[h.jsx("span",{className:"absolute top-2 right-2 z-50 cursor-pointer  rounded-full  p-2 ",onClick:e,children:h.jsx(ML,{className:"p-1  w-6  h-6  z-50 bg-primary rounded-full fill-white"})}),n]})})}function QC({setShiftData:t,setshowProductModal:e}){let[n,r]=N.useState(""),[i,s]=N.useState(h0[0]),[o,a]=N.useState({}),l=N.useRef(""),c=N.useRef(""),u=N.useRef("");const d=f=>{if(f.preventDefault(),l.current.value===""||c.current.value===""||u.current.value==="")return r("Please fill up this form properly"),!1;let m=l.current.valueAsNumber/1e3,g=c.current.valueAsNumber/1e3;t({starts:m,ends:g,shift:u.current.value}),e(!1)};return N.useEffect(()=>{h0.forEach(f=>{let m=rt(ce,"shiftTime",f);bt(m).then(g=>{a(y=>({...y,[f]:g.data()}))})})},[]),N.useEffect(()=>{if(Object.keys(o).length!==0){let f=parseInt(o[i].starts/3600),m=parseInt(o[i].starts%3600/60),g=parseInt(o[i].ends/3600),y=parseInt(o[i].ends%3600/60);l.current.value=`${f<9?`0${f}`:f}:${m<9?`0${m}`:m}`,c.current.value=`${g<9?`0${g}`:g}:${y<9?`0${y}`:y}`}},[i,o]),h.jsxs("form",{className:"flex flex-col gap-4",onSubmit:d,children:[h.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Choose Shift"}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Machine No*"}),h.jsxs("select",{ref:u,onChange:f=>s(f.target.value),className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Shift."}),h0.map(f=>h.jsx("option",{value:f,children:f}))]})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Starts*"}),h.jsx("input",{type:"time",ref:l,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Ends*"}),h.jsx("input",{type:"time",ref:c,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"})}),h.jsx("span",{className:"msgSpan",children:n})]})}function YC({setFormData:t,setshowProductModal:e}){let[n,r]=N.useState([]),[i,s]=N.useState(!1),[o,a]=N.useState(""),[l,c]=N.useState({machine_no:"",thickness:"N/A",product_type:"N/A",product_dimensions:"N/A",shift:"",Weight:""}),u=N.useRef(""),d=N.useRef(""),f=N.useRef(""),[m,g]=N.useState(""),[y,w]=N.useState("");const v=_=>{const S=rt(ce,"latest_product",`machine_${_}`);bt(S).then(C=>{c(C.data())})},p=()=>u.current.value===""||f.current.value===""||d.current.value===""||m===""?(a("Please fill up this form properly"),!1):!0,x=_=>{_.preventDefault(),p()&&(t({damagedProductCount:parseInt(d.current.value),machine_no:u.current.value,product_dimensions:l.product_dimensions,product_type:l.product_type,shift:f.current.value,thickness:l.thickness,unix_time:Math.floor(Date.now()/1e3),damagedCategory:m,weight:y}),e(!1),s(!1))};return N.useEffect(()=>{const _=rt(ce,"information","info");bt(_).then(S=>{let C=[];const E=S.data();C.push(h.jsx("optgroup",{label:"Forming Machines"})),E.forming_machine.forEach((D,A)=>{C.push(h.jsx("option",{value:D,children:D},A))}),C.push(h.jsx("optgroup",{label:"Polish Machines"})),E.polish_machine.forEach((D,A)=>{C.push(h.jsx("option",{value:D,children:D},A+C.length))}),r(C)})},[]),h.jsxs("form",{className:`flex flex-col gap-4 ${i?"":"#ddd"}`,onSubmit:x,children:[h.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Add Product"}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Machine No*"}),h.jsxs("select",{ref:u,onChange:_=>{v(_.target.value)},className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Machine No."}),n]})]}),h.jsxs("label",{className:"flex gap-6 items-center",style:{paddingBottom:"10px",borderBottom:"1px solid #000"},children:[h.jsx("p",{className:"w-[180px]",children:"Dimension:"}),l.product_dimensions]}),h.jsxs("label",{className:"flex gap-6 items-center",style:{paddingBottom:"10px",borderBottom:"1px solid #000"},children:[h.jsx("p",{className:"w-[180px]",children:"Thickness:"}),l.thickness]}),h.jsxs("label",{className:"flex gap-6 items-center",style:{paddingBottom:"10px",borderBottom:"1px solid #000"},children:[h.jsx("p",{className:"w-[180px]",children:"Product Type:"}),l.product_type]}),h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx("p",{className:`${m=="damaged_product"?"btn-primary":"btn-primary opacity-50"}`,onClick:()=>g("damaged_product"),children:"Damaged Product"}),h.jsx("p",{className:` ${m=="scrap_product"?"btn-primary":"btn-primary opacity-50"}`,onClick:()=>g("scrap_product"),children:"Scrap Product"}),h.jsx("p",{className:` ${m=="cut_piece_product"?"btn-primary":"btn-primary opacity-50"}`,onClick:()=>g("cut_piece_product"),children:"Cut-Piece Product"}),h.jsx("p",{className:`${m=="b_grade_product"?"btn-primary opacity-100":"btn-primary opacity-50"}`,onClick:()=>g("b_grade_product"),children:"B-Grade Product"})]}),h.jsxs("label",{className:"flex gap-6 items-center",style:{marginBottom:"0px"},children:[h.jsx("p",{className:"w-[180px]",children:"Shift*"}),h.jsxs("select",{ref:f,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Select Shift"}),h0.map(_=>h.jsx("option",{value:_,children:_}))]})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Count*"}),h.jsx("input",{ref:d,type:"number",min:"1",required:!0,placeholder:"Damaged Product Count",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Weight*"}),h.jsx("input",{type:"text",min:"1",required:!0,placeholder:"Damaged Product Count",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:y,onChange:_=>w(_.target.value)})]}),h.jsx("div",{className:"flex justify-center",children:i?h.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"}):h.jsx("input",{value:"Review",type:"button",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",onClick:()=>{p()&&(s(!0),a("Please Review the form before submitting"))}})}),h.jsx("span",{className:"msgSpan",children:o})]})}function PL({setshowProductModal:t,showProductModal:e,setshowShiftModal:n,showShiftModal:r,damagedProductModal:i,setdamagedProductModal:s}){let[o,a]=N.useState([]),[l,c]=N.useState({}),[u,d]=N.useState({}),[f,m]=N.useState({});Md("products",65).then(x=>{a(x)});const{addDocument:g}=hr("products"),{updateDocument:y,response:w}=hr("latest_product");N.useEffect(()=>{Object.keys(l).length!==0&&(g({...l,status:"pending"}),y(`machine_${l.machine_no}`,{...l,status:"pending"}))},[l]);const{updateDocument:v}=hr("shiftTime");N.useEffect(()=>{Object.keys(u).length!==0&&(v(u.shift,u),n(!1))},[u]);const{addDocument:p}=hr("damagedProducts");return N.useEffect(()=>{Object.keys(f).length!==0&&(p(f),s(!1))},[f]),h.jsxs("div",{children:[h.jsx(FL,{productData:o}),e&&h.jsx(d0,{open:e,control:()=>t(!1),children:h.jsx(KC,{setFormData:c,setshowProductModal:t})}),r&&h.jsx(d0,{open:r,control:()=>n(!1),children:h.jsx(QC,{setShiftData:d,setshowProductModal:t})}),i&&h.jsx(d0,{open:i,control:()=>s(!1),children:h.jsx(YC,{setFormData:m,setshowProductModal:s})})]})}function jL(){let[t,e]=N.useState(!1),[n,r]=N.useState(!1),[i,s]=N.useState(!1);return h.jsxs("div",{children:[h.jsx(IL,{setshowProductModal:e,setshowShiftModal:r,setdamagedProductModal:s}),h.jsx(PL,{setshowProductModal:e,showProductModal:t,setshowShiftModal:r,showShiftModal:n,damagedProductModal:i,setdamagedProductModal:s})]})}function LL(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return h.jsxs("p",{children:[`${e}/${n}/${r}`,h.jsx("br",{}),t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]})}function BL(){var a;let[t,e]=N.useState([]);Md("products",65).then(l=>{e(l)}),console.log("incharge",t);const{updateDocument:n,response:r}=hr("latest_product"),{updateDocument:i}=hr("products"),s=l=>{i(l==null?void 0:l.id,{...l,status:"approved"}),n(`machine_${l.machine_no}`,{...l,status:"approved"})},o=l=>{i(l==null?void 0:l.id,{...l,status:"declined"}),n(`machine_${l.machine_no}`,{...l,status:"declined"})};return h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:h.jsxs("tr",{className:" rounded-tl-lg",children:[h.jsx("th",{className:"border border-black p-2",children:"Sl No."}),h.jsx("th",{className:"border border-black p-2",children:"Mazchine No."}),h.jsx("th",{className:"border border-black p-2",children:"Thickness"}),h.jsx("th",{className:"border border-black p-2",children:"Dimension"}),h.jsx("th",{className:"border border-black p-2",children:"Product Type"}),h.jsx("th",{className:"border border-black p-2",children:"Added On"}),h.jsx("th",{className:"border border-black p-2",children:"Action"})]})}),h.jsx("tbody",{children:(a=t==null?void 0:t.filter(l=>(l==null?void 0:l.status)=="pending"))==null?void 0:a.map((l,c)=>h.jsxs("tr",{children:[h.jsx("td",{class:"border border-black p-4",children:c+1}),h.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.machine_no}),h.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.thickness}),h.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.product_dimensions}),h.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.product_type}),h.jsx("td",{class:"border border-black p-4",children:l!=null&&l.creatingDate?LL(l.creatingDate.toDate()):h.jsx("p",{children:"No date"})}),h.jsx("td",{class:"border border-black p-4",children:h.jsxs("div",{className:"max-w-[140px] flex gap-2 items-center",children:[h.jsx("button",{className:"btn-primary bg-red-500",onClick:()=>o(l),children:"Decline"}),h.jsx("button",{className:"btn-primary bg-green-500",onClick:()=>s(l),children:"Approve"})]})})]}))})]})}function $L(){return h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Incharge Section"}),h.jsx(BL,{})]})}function L3(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return h.jsxs("p",{children:[`${e}/${n}/${r}`,h.jsx("br",{}),t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]})}function OL(){let[t,e]=N.useState([]);return Md("products",65).then(n=>{e(n)}),console.log("admin",t),h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:h.jsxs("tr",{className:" rounded-tl-lg",children:[h.jsx("th",{className:"border border-black p-2",children:"Sl No."}),h.jsx("th",{className:"border border-black p-2",children:"Mazchine No."}),h.jsx("th",{className:"border border-black p-2",children:"Production Plan Change Request"}),h.jsx("th",{className:"border border-black p-2",children:"Production Plan Change Approve"}),h.jsx("th",{className:"border border-black p-2",children:"Status"}),h.jsx("th",{className:"border border-black p-2",children:"Details"})]})}),h.jsx("tbody",{children:t==null?void 0:t.map((n,r)=>h.jsxs("tr",{children:[h.jsx("td",{class:"border border-black p-4",children:r+1}),h.jsxs("td",{class:"border border-black p-4",children:["FM ",n==null?void 0:n.machine_no]}),h.jsx("td",{class:"border border-black p-4",children:n!=null&&n.creatingDate?L3(n==null?void 0:n.creatingDate.toDate()):h.jsx("p",{children:"No date"})}),h.jsx("td",{class:"border border-black p-4",children:n!=null&&n.updatedDate?L3(n==null?void 0:n.updatedDate.toDate()):h.jsx("p",{children:"No date"})}),h.jsx("td",{class:"border border-black p-4",children:h.jsx("p",{className:`text-center ${(n==null?void 0:n.status)=="pending"?"text-primary":(n==null?void 0:n.status)=="approved"?"text-green-500":(n==null?void 0:n.status)=="declined"?"text-red-500":""}`,children:n==null?void 0:n.status})}),h.jsx("td",{class:"border border-black p-4",children:h.jsxs("div",{className:"",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-bold",children:"Production Type:"})," ",n==null?void 0:n.product_type]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-bold",children:"Dimension:"})," ",n==null?void 0:n.product_dimensions]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-bold",children:"Thickness:"})," ",n==null?void 0:n.thickness]})]})})]}))})]})}function VL(){return h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Admin Section"}),h.jsx(OL,{})]})}const Hr=({permission:t,children:e})=>{let[n,r]=N.useState({});return N.useEffect(()=>{mx("users",yh("email"),yh("pswd")).then(i=>{if(i[0]){let s=i[1][0].access;console.log("access",s);const o=rt(ce,"permissions",s);bt(o).then(a=>{a.exists()&&r(a.data())})}})},[]),console.log("UserPermissions",n),n[t]?e:h.jsx("div",{className:"flex justify-center items-center min-h-screen",children:h.jsx(fx,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"triangle-loading",visible:!0})})};function HL({setshowUserModal:t}){return h.jsxs("div",{className:"mb-10",children:[h.jsx("h2",{className:"text-3xl font-bold ",children:"Manage Users"}),h.jsx("div",{className:"flex gap-4 justify-end items-center",children:h.jsxs("button",{className:"bg-primary px-4 py-2 rounded-full text-white flex gap-2 items-center",onClick:()=>{t(!0)},children:["Add User",h.jsx(px,{className:"w-6 h-6"})]})})]})}function UL({userdata:t}){return h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:h.jsxs("tr",{className:" rounded-tl-lg",children:[h.jsx("th",{className:"border border-black p-2",children:"ID."}),h.jsx("th",{className:"border border-black p-2",children:" Name"}),h.jsx("th",{className:"border border-black p-2",children:"User Name"}),h.jsx("th",{className:"border border-black p-2",children:"Email"}),h.jsx("th",{className:"border border-black p-2",children:"Access"})]})}),h.jsx("tbody",{children:t==null?void 0:t.map((e,n)=>h.jsxs("tr",{children:[h.jsx("td",{class:"border border-black p-4",children:n+1}),h.jsx("td",{class:"border border-black p-4",children:e.name}),h.jsx("td",{class:"border border-black p-4",children:e.username}),h.jsx("td",{class:"border border-black p-4",children:e.email}),h.jsx("td",{class:"border border-black p-4",children:e.access})]}))})]})}function zL({setFormData:t,setshowUserModal:e}){let n=N.useRef(""),r=N.useRef(""),i=N.useRef(""),s=N.useRef(""),o=N.useRef(""),[a,l]=N.useState("");const c=u=>{if(u.preventDefault(),n.current.value===""||r.current.value===""||i.current.value===""||s.current.value==="")return l("Please fill up this form properly"),!1;t({username:n.current.value,name:r.current.value,email:s.current.value,password:i.current.value,access:o.current.value}),e(!1)};return h.jsxs("form",{className:"flex flex-col gap-4",onSubmit:c,children:[h.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Add Product"}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"User Name*"}),h.jsx("input",{type:"text",ref:n,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Name*"}),h.jsx("input",{type:"text",ref:r,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Password*"}),h.jsx("input",{type:"password",ref:i,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Email*"}),h.jsx("input",{type:"email",ref:s,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),h.jsxs("label",{className:"flex gap-6 items-center",children:[h.jsx("p",{className:"w-[180px]",children:"Access*"}),h.jsx("select",{ref:o,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:uL.map(u=>h.jsx("option",{value:u,children:u}))})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"})}),h.jsx("span",{className:"msgSpan",children:a})]})}function WL({showUserModal:t,setshowUserModal:e}){let[n,r]=N.useState({}),[i,s]=N.useState([]);Md("users").then(a=>{s(a)});const{addDocument:o}=hr("users");return N.useEffect(()=>{Object.keys(n).length!==0&&o(n)},[n]),h.jsxs("div",{children:[h.jsx(UL,{userdata:i}),t&&h.jsx(d0,{open:t,control:()=>e(!1),children:h.jsx(zL,{setFormData:r,setshowUserModal:e})})]})}function qL(){let[t,e]=N.useState(!1);return h.jsxs("div",{children:[h.jsx(HL,{setshowUserModal:e}),h.jsx(WL,{showUserModal:t,setshowUserModal:e})]})}function GL(){let[t,e]=N.useState({});const{addDocument:n}=hr("products"),{updateDocument:r,response:i}=hr("latest_product");return N.useEffect(()=>{Object.keys(t).length!==0&&(n({...t,status:"pending"}),r(`machine_${t.machine_no}`,{...t,status:"pending"}),e({}))},[t]),h.jsx("div",{children:h.jsx(KC,{setFormData:e})})}function KL(){let[t,e]=N.useState({});const{updateDocument:n}=hr("shiftTime");return N.useEffect(()=>{Object.keys(t).length!==0&&(n(t.shift,t),setshowShiftModal(!1))},[t]),h.jsx("div",{children:h.jsx(QC,{setShiftData:e})})}function QL(){let[t,e]=N.useState({});const{addDocument:n}=hr("damagedProducts");return N.useEffect(()=>{Object.keys(t).length!==0&&n(t)},[t]),h.jsx("div",{children:h.jsx(YC,{setFormData:e})})}function YL({setShowAdd:t}){let[e,n]=N.useState(""),[r,i]=N.useState(null);const s=o=>{if(o.preventDefault(),r!==""){const a=rt(ce,"information","info");Bg(a,{forming_machine:WI(r)}),i(null),t(!1)}else return n("Machine number cannot be empty!"),!1};return h.jsxs("form",{className:"py-10",onSubmit:s,children:[h.jsx("h2",{className:"text-2xl pb-4 font-bold",children:"Add Machine"}),h.jsxs("label",{className:"flex gap-6 items-center mb-6",children:[h.jsx("p",{className:"w-[180px]",children:"Machine No*"}),h.jsx("input",{id:"",type:"number",name:"machine_no",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:r,onChange:o=>i(o.target.value)})]}),e?h.jsx("span",{className:"text-red-500",children:e}):null,h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{className:"btn-primary",type:"submit",children:"Add"})})]})}function ZL(){const[t,e]=N.useState(!1);let[n,r]=N.useState([]);return N.useEffect(()=>{const i=rt(ce,"information","info");qc(i,s=>{const o=s.data();let a=[];o.forming_machine.forEach((l,c)=>{a.push(l)}),r(a)})},[]),h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold py-6",children:"Forming Machines"}),h.jsxs("div",{className:"flex justify-between items-center gap-4 mb-8 mr-10",children:[h.jsx("h2",{children:"List of Machines"}),h.jsxs("button",{className:"bg-primary px-4 py-2 rounded-full text-white flex gap-2 items-center",onClick:()=>{e(!t)},children:["Add Product",h.jsx(px,{className:"w-6 h-6"})]})]}),t?h.jsx(YL,{setShowAdd:e}):null,h.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:n==null?void 0:n.map(i=>h.jsxs("div",{className:"px-6 py-2 rounded-xl border border-black",children:["FM ",i]}))})]})}function XL(){const t="machinesIndividual",e=parseInt(new Date().getFullYear());let[n,r]=N.useState(new Date),[i,s]=N.useState([]),[o,a]=N.useState(e),[l,c]=N.useState(""),[u,d]=N.useState([]),[f,m]=N.useState([]);console.log("graphData",i),N.useEffect(()=>{c("Select a machine number range");const C=rt(ce,"information","info");bt(C).then(E=>{let D=[];const A=E.data();let b=[];D.push(h.jsx("optgroup",{label:"Forming Machines"})),A.forming_machine.forEach((k,R)=>{b.push(k),(R+1)%6===0&&(D.push(h.jsxs("option",{value:b,children:[b[0],b[1]?`, ${b[1]}`:"",b[2]?`, ${b[2]}`:"",b[3]?`, ${b[3]}`:"",b[4]?`, ${b[4]}`:"",b[5]?`, ${b[5]}`:""]},R)),b=[])}),b.length!==0&&D.push(h.jsxs("option",{value:b,children:[b[0],b[1]?`, ${b[1]}`:"",b[2]?`, ${b[2]}`:"",b[3]?`, ${b[3]}`:"",b[4]?`, ${b[4]}`:"",b[5]?`, ${b[5]}`:""]},"x")),b=[],D.push(h.jsx("optgroup",{label:"Polish Machines"})),A.polish_machine.forEach((k,R)=>{b.push(k),(R+1)%3===0&&(D.push(h.jsxs("option",{value:b,children:[b[0],b[1]?`, ${b[1]}`:"",b[2]?`, ${b[2]}`:""]},R+D.length)),b=[])}),b.length!==0&&D.push(h.jsxs("option",{value:b,children:[b[0],b[1]?`, ${b[1]}`:"",b[2]?`, ${b[2]}`:""]},"y")),b=[],d(D)})},[]);let[g,y]=N.useState(null),[w,v]=N.useState("");N.useEffect(()=>{w!==""?w==="daily"?x():w==="monthly"?_(g):w==="yearly"&&S():f.length!==0&&c("Now select timespan"),console.log(o)},[o,f]);const p=(C,E)=>{let D=[];f.length===0?c("Please Select a Range First"):f.map((A,b)=>{const k=Re(ce,t),R=nn(k,K("unix_time",">=",Math.floor(C.getTime()/1e3)),K("unix_time","<=",Math.floor(E.getTime()/1e3)),K("machine_no","==",A));Xe(R).then(F=>{let U=0,G=0;F.forEach(X=>{parseFloat(X.data().weight)>0&&(U+=parseFloat(X.data().count),G+=parseFloat(X.data().weight))}),D.push({name:A,Pipes:U,"Total weight":G,"Average Pipe Weight":(G/U).toFixed(2)}),f.length===b+1&&s(D)})})},x=C=>{let E=new Date(n);E.setHours(0),E.setMinutes(0),E.setSeconds(0);let D=new Date(n);D.setHours(23),D.setMinutes(59),D.setSeconds(59),c(`Showing Daily Graph of ${n}`),p(E,D),v("daily")},_=C=>{if(C.detail===0){let E=parseInt(C.target.options[C.target.selectedIndex].value),D=new Date;D.setFullYear(o),D.setMonth(E),D.setDate(1),D.setHours(0),D.setMinutes(0),D.setMilliseconds(0),D.setSeconds(0);let A=new Date;A.setFullYear(o),A.setMonth(E+1),A.setDate(0),A.setHours(23),A.setMinutes(59),A.setMilliseconds(0),A.setSeconds(59),c(`Showing Monthly Graph of ${C.nativeEvent.target[C.nativeEvent.target.selectedIndex].text}, ${o}`),p(D,A),v("monthly"),y(C)}},S=C=>{let E=new Date;E.setFullYear(o),E.setMonth(0),E.setDate(1),E.setHours(0),E.setMinutes(0),E.setMilliseconds(0),E.setSeconds(0);let D=new Date;D.setFullYear(o),D.setMonth(12),D.setDate(0),D.setHours(23),D.setMinutes(59),D.setMilliseconds(0),D.setSeconds(59),c(`Showing Yearly Graph of ${o}`),p(E,D),v("yearly")};return console.log("machineNumListDiv",u),h.jsxs("div",{className:"mt-10",children:[h.jsxs("div",{className:"flex gap-6 items-center mb-10",children:[h.jsx("h2",{className:"min-w-[400px] text-3xl font-bold",children:"Production Details of"}),h.jsx("input",{type:"date",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:n,onChange:C=>r(C.target.value)}),h.jsxs("select",{className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",onChange:C=>{m(C.target.options[C.target.selectedIndex].value.split(","))},children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Select Machine Range"}),u]}),h.jsx("div",{className:"category",children:h.jsx("button",{className:"bg-primary p-2 rounded-lg text-white",onClick:x,children:"Set"})})]}),h.jsx("h1",{className:"py-4 text-center",children:l}),h.jsx(kL,{data:i})]})}var JL=jd.CanvasJSChart;class eB extends N.Component{render(){let e=this.props.data;console.log("Data",e);const n={theme:"light2",animationEnabled:!0,title:{text:"Production Details"},toolTip:{shared:!0},axisY:{title:"Total Weight",suffix:"KG"},axisX:{title:"Month",valueFormatString:"MMM",labelAngle:-45},data:[{type:"spline",xValueFormatString:"MMM",yValueFormatString:"#,###.## KG",name:"Weight",showInLegend:!0,dataPoints:e==null?void 0:e.map(r=>({label:r.name,y:r["Total weight"]}))},{type:"spline",xValueFormatString:"MMM",yValueFormatString:"#,###.## PIPE",name:"Pipes",showInLegend:!0,dataPoints:e==null?void 0:e.map(r=>({label:r.name,y:r.Pipes}))}]};return console.log("options",n),h.jsx("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] p-8 rounded-lg flex justify-center items-center",children:h.jsx(JL,{options:n})})}}function tB(){const t="machinesIndividual",e=parseInt(new Date().getFullYear());let n=N.useRef(""),r=N.useRef(""),[i,s]=N.useState(new Date);N.useState(e);let[o,a]=N.useState([]),[l,c]=N.useState([]),[u,d]=N.useState({}),[f,m]=N.useState("Select Product Thickness"),[g,y]=N.useState("Machine and Product is not selected"),[w,v]=N.useState("");N.useEffect(()=>{const S=rt(ce,"information","info");bt(S).then(C=>{let E=[];const D=C.data();E.push(h.jsx("optgroup",{label:"Forming Machines"})),D.forming_machine.forEach((A,b)=>{E.push(h.jsx("option",{defaultValue:A,children:A},b))}),E.push(h.jsx("optgroup",{label:"Polish Machines"})),D.polish_machine.forEach((A,b)=>{E.push(h.jsx("option",{defaultValue:A,children:A},b+E.length))}),c(E)})},[]);const p=(S,C)=>{let E=[];Vn.map((D,A)=>{const b=Re(ce,t),k=nn(b,K("unix_time",">=",Math.floor(S.getTime()/1e3)),K("unix_time","<=",Math.floor(C.getTime()/1e3)),K("machine_no","==",u.machineNo),K("thickness","==",u.thickness),K("product_type","==",D));Xe(k).then(R=>{let F=0,U=0;R.forEach(G=>{parseFloat(G.data().weight)>0&&(F+=parseFloat(G.data().count),U+=parseFloat(G.data().weight))}),E.push({name:D,Pipes:F,Weight:U}),Vn.length===A+1&&a(E)})})},x=S=>{if(Object.keys(u).length!==0){let C=new Date(i);C.setHours(0),C.setMinutes(0),C.setSeconds(0);let E=new Date(i);E.setHours(23),E.setMinutes(59),E.setSeconds(59),p(C,E),m(`Showing Daily Graph of ${i}`)}},_=()=>{n.current.value!==""&&r.current.options[r.current.selectedIndex].value!==""?(d({thickness:n.current.value,machineNo:r.current.options[r.current.selectedIndex].value}),y(`Machine No: ${r.current.options[r.current.selectedIndex].value}, Product Thickness: ${n.current.value}`),m("Now Select Time Span"),v("Set!")):v("Please Fill up the fields correctly!"),window.setTimeout(()=>{v("")},2e3)};return console.log("graphData",o),h.jsxs("div",{className:"mt-10",children:[h.jsxs("div",{className:"flex gap-6 items-center mb-10",children:[h.jsx("h2",{className:"min-w-[400px] text-3xl font-bold",children:"Product Type and Thickness"}),h.jsx("input",{type:"date",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:i,onChange:S=>s(S.target.value)}),h.jsxs("select",{ref:n,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Product Thickness"}),Tr.map(S=>h.jsx("option",{value:S,children:S}))]}),h.jsxs("select",{ref:r,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[h.jsx("option",{selected:!0,disabled:!0,value:"",children:"Machine No."}),l]}),h.jsx("button",{onClick:_,className:"bg-primary p-2 rounded-lg text-white",children:"Set"}),h.jsx("div",{className:"category",children:h.jsx("button",{className:"bg-primary p-2 rounded-lg text-white",onClick:x,children:"Set"})})]}),h.jsx("h1",{className:"py-4 text-center",children:f}),h.jsx(eB,{data:o})]})}function nB({graphData:t,thresholdTime:e}){const[n,r]=N.useState([]),i=N.useRef(null),[s,o]=N.useState({visible:!1,content:"",x:0,y:0});N.useEffect(()=>{if(!t)return;console.log(t);const c=t.map(u=>{const d={machine_no:u.machine_no,data:[]};let f={started:u.data[0].time,time:u.data[0].time,Value:u.data[0].Value,segmentWidth:1,thresholdTime:e};return u.data.forEach((m,g)=>{f.Value!==m.Value?(d.data.push(f),f={started:m.time,time:m.time,Value:m.Value,segmentWidth:1,thresholdTime:e}):(f.segmentWidth++,f.thresholdTime+=e),g===u.data.length-1&&d.data.push(f)}),d});r(c)},[t,e]);const a=(c,u)=>{i.current.style.opacity=1,i.current.style.visibility="visible",o({visible:!0,content:`${u.Value?"Active for":"Idle for"} ${formatTime(u.thresholdTime)} hours`,x:c.pageX,y:c.pageY})},l=()=>{i.current.style.opacity=0,i.current.style.visibility="hidden",o({visible:!1,content:"",x:0,y:0})};return console.log("segment",n),h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:i,style:{zIndex:10,position:"absolute",top:s.y-20,left:s.x+10,backgroundColor:"#333",color:"#fff",padding:"5px 8px",borderRadius:"5px",fontSize:"0.8rem",whiteSpace:"nowrap",pointerEvents:"none",transition:"opacity .5s ease",opacity:0,visibility:"hidden"},children:s.content}),h.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},className:" rounded-xl",children:n==null?void 0:n.slice(0,16).map(c=>h.jsxs("div",{className:"mt-8",children:[h.jsx("span",{style:{background:"rgb(196 196 195)",borderRadius:"5px",padding:"5px 6px",marginRight:"10px",fontSize:"1.2rem",position:"relative",top:"4px"},children:c.machine_no}),h.jsx("div",{style:{width:"auto",height:"20px",display:"inline-flex"},children:c.data.map((u,d)=>{var f;return h.jsx("div",{style:{width:`${u.segmentWidth*10}px`,height:"24px",backgroundColor:u.Value===0?"#FF4560":"#00E396",cursor:"pointer"},className:`${d==0?"rounded-l-xl":((f=c==null?void 0:c.data)==null?void 0:f.length)-1==d?"rounded-r-xl":""}`,onMouseMove:m=>a(m,u),onMouseLeave:l,children:h.jsx("span",{style:{fontSize:".8rem",position:"relative",top:u.Value===0?"23px":"-20px",left:"-5px",width:"70px",transformOrigin:"center",display:"block",paddingTop:"3px"},className:"text-black",children:u==null?void 0:u.started})},d)})}),h.jsx("hr",{style:{border:"0.5px solid #d3d3d3",marginTop:"3rem",marginBottom:".5rem"}}),h.jsx("br",{})]},c.machine_no))})]})}function B3(t){var e=new Date(t*1e3),n=e.getHours(),r=n>=12?"PM":"AM";n=n%12,n=n||12,n=n<10?"0"+n:n;var i=e.getMinutes();i=i<10?"0"+i:i;var s=n+":"+i+" "+r;return s}function rB(t,e,n){for(let r=0;r<t.length;r++){if(parseInt(t[r].time_start)>=e&&parseInt(t[r].time_start)<=n)return!0;if(parseInt(t[r].time_start)<=e&&parseInt(t[r].time_end)>=n)return!0;if(parseInt(t[r].time_start)>=e&&parseInt(t[r].time_end)<=n)return!0;if(parseInt(t[r].time_end)>=e&&parseInt(t[r].time_end)<=n)return!0}return!1}function iB(t,e,n,r){let i=[],s=parseInt((r-n)/t);for(let o=0;o<s;o++){let a=o*t+n,l=(o+1)*t+n;rB(e,a,l)?i.push({Value:1,time:B3(a)}):i.push({Value:0,time:B3(a)})}return i}function sB(){let[t,e]=N.useState(""),[n,r]=N.useState([]),[i,s]=N.useState(""),[o,a]=N.useState(!1),[l,c]=N.useState(new Date);const[u,d]=N.useState({series:[{name:"Active",data:[44,55,41,67,22,43]},{name:"Idle",data:[13,23,20,8,13,27]},{name:"Active1",data:[93,72,89,75,115,80]}],options:{chart:{type:"bar",stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:[]},legend:{show:!1},fill:{opacity:1},colors:["#00E396","#FF4560"]}});N.useEffect(()=>{var m=new Date,g=("0"+m.getDate()).slice(-2),y=("0"+(m.getMonth()+1)).slice(-2),w=m.getFullYear()+"-"+y+"-"+g;e(w);const v=rt(ce,"information","info");bt(v).then(p=>{let x=[];const _=p.data();_.forming_machine.forEach((S,C)=>{x.push(S)}),_.polish_machine.forEach((S,C)=>{x.push(S)}),s(x)})},[]),N.useEffect(()=>{f()},[i]);async function f(){let m=[];r([]);let g=new Date(l);g.setHours(0),g.setMinutes(0),g.setMilliseconds(0),g.setSeconds(0);let y=new Date(l);y.getDate()!==new Date().getDate()&&(y.setHours(23),y.setMinutes(59),y.setMilliseconds(999),y.setSeconds(59)),g=Math.floor(g.getTime()/1e3),y=Math.floor(y.getTime()/1e3),a(!0);const w=Re(ce,"machineStatus");i.forEach(async v=>{let p=[];const x=nn(w,K("time_start",">=",g),K("time_start","<=",y),K("machine_no","==",v));(await Xe(x)).forEach(S=>{p.push(S.data())}),m.push({machine_no:v,data:iB(900,p,g,y)}),m.length==i.length&&(a(!1),r(m),d({...u,options:{...u.options,xaxis:{categories:i}}}))})}return h.jsxs("div",{className:" my-10",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx("h6",{className:"min-w-[450px] text-3xl font-bold",children:"Downtime Tracking"}),h.jsx("input",{type:"date",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:t,onChange:m=>{e(m.target.value),c(m.target.valueAsDate)}}),h.jsx("button",{className:"bg-primary p-2 rounded-lg text-white",onClick:f,children:"Set"})]}),h.jsxs("h6",{className:"flex items-center mt-8",children:[h.jsx("span",{style:{width:"1rem",height:"1rem",background:"red",display:"block",margin:"0rem 1rem"}})," ","Idle",h.jsx("span",{style:{width:"1rem",height:"1rem",background:"green",display:"block",margin:"0rem 1rem"}})," ","Active"]})]}),n.length===0&&!o?h.jsx("h1",{style:{fontSize:"1.2rem",marginBottom:"2rem"},children:"No Data Found"}):h.jsx("div",{className:" max-h-[500px] overflow-y-scroll",children:h.jsx(nB,{graphData:n,thresholdTime:900})}),o?h.jsxs("h1",{style:{textAlign:"center",color:"gray",fontSize:"2rem"},children:[h.jsx("br",{}),h.jsx("br",{}),"loading ..."]}):null]})}var oB=jd.CanvasJSChart;class aB extends N.Component{render(){var r;let e=this.props.data;console.log("Data",e);const n={theme:"light2",animationEnabled:!0,title:{text:"Production Details"},toolTip:{shared:!0},axisY:{title:"Total Time",suffix:"Min"},axisX:{title:"Machine",valueFormatString:"MMM",labelAngle:-45},data:[{type:"spline",xValueFormatString:"MMM",yValueFormatString:"#,###.## Min",name:"Time",showInLegend:!0,dataPoints:(r=e==null?void 0:e.slice(0,16))==null?void 0:r.map((i,s)=>({label:i.machine_number,y:i.av_time[0]}))}]};return console.log("options",n),h.jsx("div",{className:" flex justify-center items-center",children:h.jsx(oB,{options:n})})}}function lB(){const t="machinesIndividual";let[e,n]=N.useState(new Date),[r,i]=N.useState(new Date);N.useRef(null),N.useRef(null);let[s,o]=N.useState(new Set([])),[a,l]=N.useState(!0),[c,u]=N.useState([]),[d,f]=N.useState(""),[m,g]=N.useState("");console.log("machineDetails",c),N.useEffect(()=>{let v=new Set([]);const p=rt(ce,"information","info");bt(p).then(x=>{let _=x.data();_.forming_machine.forEach(S=>{v.add(S)}),_.polish_machine.forEach(S=>{v.add(S)}),o(v)})},[]);const y=()=>{let v=new Date(e);v.setHours(0),v.setMinutes(0),v.setSeconds(1),v.setMilliseconds(0);let p=new Date(r);if(p.setHours(23),p.setMinutes(59),p.setMilliseconds(99),p.setSeconds(59),r===""||e==="")return f("Date Ranges cannot be empty!"),null;if(v.getTime()>p.getTime())return f("Start date should be less than end date"),null;f("Please be Patient ..."),l(!1),w(v,p)};async function w(v,p){const x=Re(ce,"machineStatus"),_=Re(ce,t),S=[];let C=0;Array.from(s).forEach((E,D)=>{let A=nn(x,K("time_start",">=",Math.floor(v.getTime()/1e3)),K("time_start","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",`${E}`),K("isRunning","==",!0));Xe(A).then(b=>{E==="03"&&console.log("03",Math.floor(v.getTime()/1e3),Math.floor(p.getTime()/1e3)),b.forEach(F=>{C+=F.data().time_end-F.data().time_start,console.log("-------------------"),console.log(F.data())});let k=[],R=0;A=nn(_,K("unix_time",">=",Math.floor(v.getTime()/1e3)),K("unix_time","<=",Math.floor(p.getTime()/1e3)),K("machine_no","==",`${E}`),K("thickness","==",m)),Xe(A).then(F=>{F.forEach(U=>{R+=parseInt(U.data().count)}),R!==0?k.push((C/R).toFixed(2)):k.push(0)}),S.push({machine_number:E,av_time:k}),u(S),l(!0)})})}return h.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] p-8 rounded-lg max-w-3xl mx-auto  my-10",children:[h.jsx("h2",{className:"text-3xl font-bold mb-6",children:"MachineEfficiencyGraph"}),h.jsxs("div",{className:"flex gap-4 items-center mb-8",children:[h.jsx("input",{type:"date",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:e,onChange:v=>n(v.target.value)}),h.jsxs("select",{className:"w-full p-3 rounded-md border border-black outline-none focus:outline-none bg-black text-white",onChange:v=>{g(v.target.value)},children:[h.jsx("option",{selected:!0,disabled:!0,children:"Select Machine Range"}),Tr==null?void 0:Tr.map(v=>h.jsx("option",{selected:!0,value:v,children:v}))]}),h.jsx("button",{className:"bg-primary p-2 rounded-lg text-white",onClick:()=>y(),children:"Set"})]}),h.jsx(aB,{data:c})]})}var cB=jd.CanvasJSChart;class uB extends N.Component{render(){let e=this.props.data;const n={animationEnabled:!0,title:{text:"Shift Base Production"},subtitles:[{verticalAlign:"center",fontSize:24,dockInsidePlotArea:!0}],data:[{type:"doughnut",showInLegend:!0,indexLabel:"{name}: {y}",yValueFormatString:"#,### KG",dataPoints:e==null?void 0:e.map(r=>({name:r==null?void 0:r.name,y:r==null?void 0:r.weight}))}]};return console.log("options",n),h.jsx("div",{children:h.jsx(cB,{options:n})})}}function hB(){const t="machinesIndividual";let[e,n]=N.useState(new Date),[r,i]=N.useState(new Date);N.useRef(null),N.useRef(null);let[s,o]=N.useState(new Set([])),[a,l]=N.useState(!0),[c,u]=N.useState([]),[d,f]=N.useState([]),[m,g]=N.useState("");N.useState("");let[y,w]=N.useState([]);console.log("machineDetails",c),N.useEffect(()=>{let _=new Set([]);const S=rt(ce,"information","info");bt(S).then(C=>{let E=C.data();E.forming_machine.forEach(D=>{_.add(D)}),E.polish_machine.forEach(D=>{_.add(D)}),o(_)})},[]);const v=()=>{let _=new Date(e);_.setHours(0),_.setMinutes(0),_.setSeconds(1),_.setMilliseconds(0);let S=new Date(r);if(S.setHours(23),S.setMinutes(59),S.setMilliseconds(99),S.setSeconds(59),r===""||e==="")return g("Date Ranges cannot be empty!"),null;if(_.getTime()>S.getTime())return g("Start date should be less than end date"),null;g("Please be Patient ..."),l(!1),p(_,S)};async function p(_,S){const C=Re(ce,"machineStatus"),E=Re(ce,t),D=Array.from(s).map(async b=>{const k=nn(C,K("time_start",">=",Math.floor(_.getTime()/1e3)),K("time_start","<=",Math.floor(S.getTime()/1e3)),K("machine_no","==",`${b}`),K("isRunning","==",!0)),R=nn(E,K("unix_time",">=",Math.floor(_.getTime()/1e3)),K("unix_time","<=",Math.floor(S.getTime()/1e3)),K("machine_no","==",`${b}`));let F=0;(await Xe(k)).forEach(ee=>{F+=ee.data().time_end-ee.data().time_start});let G=0;return(await Xe(R)).forEach(ee=>{G+=parseInt(ee.data().weight)}),{machine_number:b,totalWeight:G!==0?G.toFixed(2):0}}),A=await Promise.all(D);u(A),l(!0)}async function x(){let _=[];(await Xe(Re(ce,"damagedProducts"))).forEach(C=>{console.log(C.id," => ",C.data()),_.push({id:C.id,...C.data()})}),f(_)}return console.log("machineDetails",d,c),N.useEffect(()=>{(()=>{const S=c==null?void 0:c.reduce((b,k)=>b+Number((k==null?void 0:k.totalWeight)||0),0),C=d==null?void 0:d.reduce((b,k)=>(k==null?void 0:k.damagedCategory)==="damaged_product"?b+Number((k==null?void 0:k.weight)||0):b,0),E=d==null?void 0:d.reduce((b,k)=>(k==null?void 0:k.damagedCategory)==="scrap_product"?b+Number((k==null?void 0:k.weight)||0):b,0),D=d==null?void 0:d.reduce((b,k)=>(k==null?void 0:k.damagedCategory)==="cut_piece_product"?b+Number((k==null?void 0:k.weight)||0):b,0),A=d==null?void 0:d.reduce((b,k)=>(k==null?void 0:k.damagedCategory)==="b_grade_product"?b+Number((k==null?void 0:k.weight)||0):b,0);w([{name:"Production Weight",weight:S},{name:"Damaged Weight",weight:C},{name:"Scrap Weight",weight:E},{name:"Cut-Piece",weight:D},{name:"B-Grade",weight:A}])})()},[c,d]),h.jsxs("div",{children:[h.jsx("button",{className:"btn-primary",onClick:()=>{v(),x()},children:"Show"}),h.jsx(uB,{data:y})]})}function dB(){return h.jsxs("div",{children:[h.jsx(XL,{}),h.jsx(tB,{}),h.jsx(hB,{}),h.jsx(lB,{}),h.jsx(sB,{})]})}const fB=Qb([{element:h.jsx(Yj,{}),children:[{path:"/",element:h.jsx(TL,{})},{path:"/machines",element:h.jsx(KP,{})},{path:"/tare-crain-updates",element:h.jsx(Jj,{})},{path:"/reports/dashboard",element:h.jsx(aL,{})},{path:"/reports/realtime-reports",element:h.jsx(Hr,{permission:"manageRealtime",children:h.jsx(cL,{})})},{path:"/reports/daily-reports",element:h.jsx(dL,{})},{path:"/reports/weekly-reports",element:h.jsx(fL,{})},{path:"/reports/monthly-reports",element:h.jsx(pL,{})},{path:"/reports/quarterly-reports",element:h.jsx(mL,{})},{path:"/reports/yearly-reports",element:h.jsx(gL,{})},{path:"/reports/machine-efficiency",element:h.jsx(xL,{})},{path:"/manage/all-machines",element:h.jsx(Hr,{permission:"manageProduct",children:h.jsx(ZL,{})})},{path:"/manage/products",element:h.jsx(Hr,{permission:"manageProduct",children:h.jsx(jL,{})})},{path:"/products/add-product",element:h.jsx(Hr,{permission:"addProduct",children:h.jsx(GL,{})})},{path:"/products/add-shift",element:h.jsx(Hr,{permission:"setShiftTime",children:h.jsx(KL,{})})},{path:"/products/add-damaged-product",element:h.jsx(Hr,{permission:"addDamagedProduct",children:h.jsx(QL,{})})},{path:"/manage/users",element:h.jsxs(Hr,{permission:"manageUser",children:[h.jsx(qL,{}),","]})},{path:"/incharge",element:h.jsx(Hr,{permission:"manageIncharge",children:h.jsx($L,{})})},{path:"/admin/machine-production",element:h.jsx(Hr,{permission:"adminSection",children:h.jsx(VL,{})})},{path:"/graph-charts",element:h.jsx(dB,{})}]}]);function pB(){return h.jsx(h.Fragment,{children:h.jsx(rD,{router:fB})})}X6(document.getElementById("root")).render(h.jsx(pB,{}));
