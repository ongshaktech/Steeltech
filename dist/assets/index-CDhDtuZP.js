function R_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function q6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var F_={exports:{}},x0={},P_={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),G6=Symbol.for("react.portal"),K6=Symbol.for("react.fragment"),Q6=Symbol.for("react.strict_mode"),Y6=Symbol.for("react.profiler"),X6=Symbol.for("react.provider"),Z6=Symbol.for("react.context"),J6=Symbol.for("react.forward_ref"),eS=Symbol.for("react.suspense"),tS=Symbol.for("react.memo"),nS=Symbol.for("react.lazy"),fx=Symbol.iterator;function rS(t){return t===null||typeof t!="object"?null:(t=fx&&t[fx]||t["@@iterator"],typeof t=="function"?t:null)}var M_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,j_={};function ya(t,e,n){this.props=t,this.context=e,this.refs=j_,this.updater=n||M_}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L_(){}L_.prototype=ya.prototype;function C1(t,e,n){this.props=t,this.context=e,this.refs=j_,this.updater=n||M_}var S1=C1.prototype=new L_;S1.constructor=C1;B_(S1,ya.prototype);S1.isPureReactComponent=!0;var px=Array.isArray,$_=Object.prototype.hasOwnProperty,b1={current:null},O_={key:!0,ref:!0,__self:!0,__source:!0};function U_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$_.call(e,r)&&!O_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_c,type:t,key:s,ref:o,props:i,_owner:b1.current}}function iS(t,e){return{$$typeof:_c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function D1(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c}function sS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mx=/\/+/g;function Ld(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sS(""+t.key):e.toString(36)}function Bu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _c:case G6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ld(o,0):r,px(i)?(n="",t!=null&&(n=t.replace(mx,"$&/")+"/"),Bu(i,e,n,"",function(c){return c})):i!=null&&(D1(i)&&(i=iS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",px(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ld(s,a);o+=Bu(s,e,n,l,i)}else if(l=rS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ld(s,a++),o+=Bu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function su(t,e,n){if(t==null)return t;var r=[],i=0;return Bu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},ju={transition:null},aS={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:ju,ReactCurrentOwner:b1};function V_(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:su,forEach:function(t,e,n){su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return su(t,function(){e++}),e},toArray:function(t){return su(t,function(e){return e})||[]},only:function(t){if(!D1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=ya;we.Fragment=K6;we.Profiler=Y6;we.PureComponent=C1;we.StrictMode=Q6;we.Suspense=eS;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS;we.act=V_;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=b1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$_.call(e,l)&&!O_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_c,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:Z6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X6,_context:t},t.Consumer=t};we.createElement=U_;we.createFactory=function(t){var e=U_.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:J6,render:t}};we.isValidElement=D1;we.lazy=function(t){return{$$typeof:nS,_payload:{_status:-1,_result:t},_init:oS}};we.memo=function(t,e){return{$$typeof:tS,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};we.unstable_act=V_;we.useCallback=function(t,e){return cn.current.useCallback(t,e)};we.useContext=function(t){return cn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};we.useEffect=function(t,e){return cn.current.useEffect(t,e)};we.useId=function(){return cn.current.useId()};we.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return cn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};we.useRef=function(t){return cn.current.useRef(t)};we.useState=function(t){return cn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return cn.current.useTransition()};we.version="18.3.1";P_.exports=we;var k=P_.exports;const In=E1(k),lS=R_({__proto__:null,default:In},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=k,uS=Symbol.for("react.element"),hS=Symbol.for("react.fragment"),dS=Object.prototype.hasOwnProperty,fS=cS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pS={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dS.call(e,r)&&!pS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uS,type:t,key:s,ref:o,props:i,_owner:fS.current}}x0.Fragment=hS;x0.jsx=H_;x0.jsxs=H_;F_.exports=x0;var d=F_.exports,z_={exports:{}},$n={},W_={exports:{}},q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,V){var H=$.length;$.push(V);e:for(;0<H;){var R=H-1>>>1,P=$[R];if(0<i(P,V))$[R]=V,$[H]=P,H=R;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var V=$[0],H=$.pop();if(H!==V){$[0]=H;e:for(var R=0,P=$.length,O=P>>>1;R<O;){var j=2*(R+1)-1,me=$[j],ce=j+1,je=$[ce];if(0>i(me,H))ce<P&&0>i(je,me)?($[R]=je,$[ce]=H,R=ce):($[R]=me,$[j]=H,R=j);else if(ce<P&&0>i(je,H))$[R]=je,$[ce]=H,R=ce;else break e}}return V}function i($,V){var H=$.sortIndex-V.sortIndex;return H!==0?H:$.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=$)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function w($){if(v=!1,x($),!g)if(n(l)!==null)g=!0,Z(C);else{var V=n(c);V!==null&&re(w,V.startTime-$)}}function C($,V){g=!1,v&&(v=!1,y(D),D=-1),m=!0;var H=f;try{for(x(V),h=n(l);h!==null&&(!(h.expirationTime>V)||$&&!N());){var R=h.callback;if(typeof R=="function"){h.callback=null,f=h.priorityLevel;var P=R(h.expirationTime<=V);V=t.unstable_now(),typeof P=="function"?h.callback=P:h===n(l)&&r(l),x(V)}else r(l);h=n(l)}if(h!==null)var O=!0;else{var j=n(c);j!==null&&re(w,j.startTime-V),O=!1}return O}finally{h=null,f=H,m=!1}}var E=!1,S=null,D=-1,T=5,b=-1;function N(){return!(t.unstable_now()-b<T)}function M(){if(S!==null){var $=t.unstable_now();b=$;var V=!0;try{V=S(!0,$)}finally{V?B():(E=!1,S=null)}}else E=!1}var B;if(typeof p=="function")B=function(){p(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,K=q.port2;q.port1.onmessage=M,B=function(){K.postMessage(null)}}else B=function(){_(M,0)};function Z($){S=$,E||(E=!0,B())}function re($,V){D=_(function(){$(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Z(C))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var H=f;f=V;try{return $()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=f;f=$;try{return V()}finally{f=H}},t.unstable_scheduleCallback=function($,V,H){var R=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?R+H:R):H=R,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=H+P,$={id:u++,callback:V,priorityLevel:$,startTime:H,expirationTime:P,sortIndex:-1},H>R?($.sortIndex=H,e(c,$),n(l)===null&&$===n(c)&&(v?(y(D),D=-1):v=!0,re(w,H-R))):($.sortIndex=P,e(l,$),g||m||(g=!0,Z(C))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var V=f;return function(){var H=f;f=V;try{return $.apply(this,arguments)}finally{f=H}}}})(q_);W_.exports=q_;var mS=W_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=k,Bn=mS;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G_=new Set,Ml={};function Ws(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(Ml[t]=e,t=0;t<e.length;t++)G_.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cp=Object.prototype.hasOwnProperty,xS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gx={},xx={};function vS(t){return Cp.call(xx,t)?!0:Cp.call(gx,t)?!1:xS.test(t)?xx[t]=!0:(gx[t]=!0,!1)}function yS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _S(t,e,n,r){if(e===null||typeof e>"u"||yS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var k1=/[\-:]([a-z])/g;function A1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(k1,A1);Lt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(k1,A1);Lt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(k1,A1);Lt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function N1(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_S(e,n,i,r)&&(n=null),r||i===null?vS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var di=gS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),T1=Symbol.for("react.strict_mode"),Sp=Symbol.for("react.profiler"),K_=Symbol.for("react.provider"),Q_=Symbol.for("react.context"),I1=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),R1=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Y_=Symbol.for("react.offscreen"),vx=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=vx&&t[vx]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,$d;function ol(t){if($d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$d=e&&e[1]||""}return`
`+$d+t}var Od=!1;function Ud(t,e){if(!t||Od)return"";Od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Od=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ol(t):""}function wS(t){switch(t.tag){case 5:return ol(t.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return t=Ud(t.type,!1),t;case 11:return t=Ud(t.type.render,!1),t;case 1:return t=Ud(t.type,!0),t;default:return""}}function kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case vo:return"Portal";case Sp:return"Profiler";case T1:return"StrictMode";case bp:return"Suspense";case Dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q_:return(t.displayName||"Context")+".Consumer";case K_:return(t._context.displayName||"Context")+".Provider";case I1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R1:return e=t.displayName||null,e!==null?e:kp(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return kp(t(e))}catch{}}return null}function ES(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(e);case 8:return e===T1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CS(t){var e=X_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function au(t){t._valueTracker||(t._valueTracker=CS(t))}function Z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ap(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J_(t,e){e=e.checked,e!=null&&N1(t,"checked",e,!1)}function Np(t,e){J_(t,e);var n=Ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _x(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||uh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ip(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(al(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ui(n)}}function ew(t,e){var n=Ui(e.value),r=Ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ex(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lu,nw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lu=lu||document.createElement("div"),lu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SS=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(t){SS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xl[e]=xl[t]})});function rw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xl.hasOwnProperty(t)&&xl[t]?(""+e).trim():e+"px"}function iw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bS=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fp(t,e){if(e){if(bS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=null;function F1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bp=null,Mo=null,Bo=null;function Cx(t){if(t=Cc(t)){if(typeof Bp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=E0(e),Bp(t.stateNode,t.type,e))}}function sw(t){Mo?Bo?Bo.push(t):Bo=[t]:Mo=t}function ow(){if(Mo){var t=Mo,e=Bo;if(Bo=Mo=null,Cx(t),e)for(t=0;t<e.length;t++)Cx(e[t])}}function aw(t,e){return t(e)}function lw(){}var Vd=!1;function cw(t,e,n){if(Vd)return t(e,n);Vd=!0;try{return aw(t,e,n)}finally{Vd=!1,(Mo!==null||Bo!==null)&&(lw(),ow())}}function jl(t,e){var n=t.stateNode;if(n===null)return null;var r=E0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var jp=!1;if(ni)try{var za={};Object.defineProperty(za,"passive",{get:function(){jp=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{jp=!1}function DS(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var vl=!1,hh=null,dh=!1,Lp=null,kS={onError:function(t){vl=!0,hh=t}};function AS(t,e,n,r,i,s,o,a,l){vl=!1,hh=null,DS.apply(kS,arguments)}function NS(t,e,n,r,i,s,o,a,l){if(AS.apply(this,arguments),vl){if(vl){var c=hh;vl=!1,hh=null}else throw Error(z(198));dh||(dh=!0,Lp=c)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sx(t){if(qs(t)!==t)throw Error(z(188))}function TS(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sx(i),t;if(s===r)return Sx(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function hw(t){return t=TS(t),t!==null?dw(t):null}function dw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dw(t);if(e!==null)return e;t=t.sibling}return null}var fw=Bn.unstable_scheduleCallback,bx=Bn.unstable_cancelCallback,IS=Bn.unstable_shouldYield,RS=Bn.unstable_requestPaint,dt=Bn.unstable_now,FS=Bn.unstable_getCurrentPriorityLevel,P1=Bn.unstable_ImmediatePriority,pw=Bn.unstable_UserBlockingPriority,fh=Bn.unstable_NormalPriority,PS=Bn.unstable_LowPriority,mw=Bn.unstable_IdlePriority,v0=null,Pr=null;function MS(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(v0,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:LS,BS=Math.log,jS=Math.LN2;function LS(t){return t>>>=0,t===0?32:31-(BS(t)/jS|0)|0}var cu=64,uu=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ph(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ll(a):(s&=o,s!==0&&(r=ll(s)))}else o=n&~i,o!==0?r=ll(o):s!==0&&(r=ll(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function $S(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ur(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=$S(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function $p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gw(){var t=cu;return cu<<=1,!(cu&4194240)&&(cu=64),t}function Hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function US(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function M1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function xw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vw,B1,yw,_w,ww,Op=!1,hu=[],ki=null,Ai=null,Ni=null,Ll=new Map,$l=new Map,wi=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dx(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function Wa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cc(e),e!==null&&B1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HS(t,e,n,r,i){switch(e){case"focusin":return ki=Wa(ki,t,e,n,r,i),!0;case"dragenter":return Ai=Wa(Ai,t,e,n,r,i),!0;case"mouseover":return Ni=Wa(Ni,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ll.set(s,Wa(Ll.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$l.set(s,Wa($l.get(s)||null,t,e,n,r,i)),!0}return!1}function Ew(t){var e=xs(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=uw(n),e!==null){t.blockedOn=e,ww(t.priority,function(){yw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Up(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mp=r,n.target.dispatchEvent(r),Mp=null}else return e=Cc(n),e!==null&&B1(e),t.blockedOn=n,!1;e.shift()}return!0}function kx(t,e,n){Lu(t)&&n.delete(e)}function zS(){Op=!1,ki!==null&&Lu(ki)&&(ki=null),Ai!==null&&Lu(Ai)&&(Ai=null),Ni!==null&&Lu(Ni)&&(Ni=null),Ll.forEach(kx),$l.forEach(kx)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Op||(Op=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,zS)))}function Ol(t){function e(i){return qa(i,t)}if(0<hu.length){qa(hu[0],t);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ki!==null&&qa(ki,t),Ai!==null&&qa(Ai,t),Ni!==null&&qa(Ni,t),Ll.forEach(e),$l.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)Ew(n),n.blockedOn===null&&wi.shift()}var jo=di.ReactCurrentBatchConfig,mh=!0;function WS(t,e,n,r){var i=Le,s=jo.transition;jo.transition=null;try{Le=1,j1(t,e,n,r)}finally{Le=i,jo.transition=s}}function qS(t,e,n,r){var i=Le,s=jo.transition;jo.transition=null;try{Le=4,j1(t,e,n,r)}finally{Le=i,jo.transition=s}}function j1(t,e,n,r){if(mh){var i=Up(t,e,n,r);if(i===null)Jd(t,e,r,gh,n),Dx(t,r);else if(HS(i,t,e,n,r))r.stopPropagation();else if(Dx(t,r),e&4&&-1<VS.indexOf(t)){for(;i!==null;){var s=Cc(i);if(s!==null&&vw(s),s=Up(t,e,n,r),s===null&&Jd(t,e,r,gh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jd(t,e,r,null,n)}}var gh=null;function Up(t,e,n,r){if(gh=null,t=F1(r),t=xs(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function Cw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FS()){case P1:return 1;case pw:return 4;case fh:case PS:return 16;case mw:return 536870912;default:return 16}default:return 16}}var Ci=null,L1=null,$u=null;function Sw(){if($u)return $u;var t,e=L1,n=e.length,r,i="value"in Ci?Ci.value:Ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $u=i.slice(t,1<r?1-r:void 0)}function Ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function Ax(){return!1}function On(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?du:Ax,this.isPropagationStopped=Ax,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$1=On(_a),Ec=it({},_a,{view:0,detail:0}),GS=On(Ec),zd,Wd,Ga,y0=it({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(zd=t.screenX-Ga.screenX,Wd=t.screenY-Ga.screenY):Wd=zd=0,Ga=t),zd)},movementY:function(t){return"movementY"in t?t.movementY:Wd}}),Nx=On(y0),KS=it({},y0,{dataTransfer:0}),QS=On(KS),YS=it({},Ec,{relatedTarget:0}),qd=On(YS),XS=it({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),ZS=On(XS),JS=it({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e9=On(JS),t9=it({},_a,{data:0}),Tx=On(t9),n9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=i9[t])?!!e[t]:!1}function O1(){return s9}var o9=it({},Ec,{key:function(t){if(t.key){var e=n9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O1,charCode:function(t){return t.type==="keypress"?Ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a9=On(o9),l9=it({},y0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ix=On(l9),c9=it({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O1}),u9=On(c9),h9=it({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),d9=On(h9),f9=it({},y0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p9=On(f9),m9=[9,13,27,32],U1=ni&&"CompositionEvent"in window,yl=null;ni&&"documentMode"in document&&(yl=document.documentMode);var g9=ni&&"TextEvent"in window&&!yl,bw=ni&&(!U1||yl&&8<yl&&11>=yl),Rx=" ",Fx=!1;function Dw(t,e){switch(t){case"keyup":return m9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function x9(t,e){switch(t){case"compositionend":return kw(e);case"keypress":return e.which!==32?null:(Fx=!0,Rx);case"textInput":return t=e.data,t===Rx&&Fx?null:t;default:return null}}function v9(t,e){if(_o)return t==="compositionend"||!U1&&Dw(t,e)?(t=Sw(),$u=L1=Ci=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bw&&e.locale!=="ko"?null:e.data;default:return null}}var y9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!y9[t.type]:e==="textarea"}function Aw(t,e,n,r){sw(r),e=xh(e,"onChange"),0<e.length&&(n=new $1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Ul=null;function _9(t){$w(t,0)}function _0(t){var e=Co(t);if(Z_(e))return t}function w9(t,e){if(t==="change")return e}var Nw=!1;if(ni){var Gd;if(ni){var Kd="oninput"in document;if(!Kd){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),Kd=typeof Mx.oninput=="function"}Gd=Kd}else Gd=!1;Nw=Gd&&(!document.documentMode||9<document.documentMode)}function Bx(){_l&&(_l.detachEvent("onpropertychange",Tw),Ul=_l=null)}function Tw(t){if(t.propertyName==="value"&&_0(Ul)){var e=[];Aw(e,Ul,t,F1(t)),cw(_9,e)}}function E9(t,e,n){t==="focusin"?(Bx(),_l=e,Ul=n,_l.attachEvent("onpropertychange",Tw)):t==="focusout"&&Bx()}function C9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _0(Ul)}function S9(t,e){if(t==="click")return _0(e)}function b9(t,e){if(t==="input"||t==="change")return _0(e)}function D9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:D9;function Vl(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cp.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function jx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lx(t,e){var n=jx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jx(n)}}function Iw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rw(){for(var t=window,e=uh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uh(t.document)}return e}function V1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k9(t){var e=Rw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Iw(n.ownerDocument.documentElement,n)){if(r!==null&&V1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Lx(n,s);var o=Lx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A9=ni&&"documentMode"in document&&11>=document.documentMode,wo=null,Vp=null,wl=null,Hp=!1;function $x(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hp||wo==null||wo!==uh(r)||(r=wo,"selectionStart"in r&&V1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Vl(wl,r)||(wl=r,r=xh(Vp,"onSelect"),0<r.length&&(e=new $1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function fu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Qd={},Fw={};ni&&(Fw=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function w0(t){if(Qd[t])return Qd[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fw)return Qd[t]=e[n];return t}var Pw=w0("animationend"),Mw=w0("animationiteration"),Bw=w0("animationstart"),jw=w0("transitionend"),Lw=new Map,Ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(t,e){Lw.set(t,e),Ws(e,[t])}for(var Yd=0;Yd<Ox.length;Yd++){var Xd=Ox[Yd],N9=Xd.toLowerCase(),T9=Xd[0].toUpperCase()+Xd.slice(1);Ki(N9,"on"+T9)}Ki(Pw,"onAnimationEnd");Ki(Mw,"onAnimationIteration");Ki(Bw,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(jw,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I9=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Ux(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NS(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ux(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ux(i,a,c),s=l}}}if(dh)throw t=Lp,dh=!1,Lp=null,t}function ze(t,e){var n=e[Kp];n===void 0&&(n=e[Kp]=new Set);var r=t+"__bubble";n.has(r)||(Ow(e,t,2,!1),n.add(r))}function Zd(t,e,n){var r=0;e&&(r|=4),Ow(n,t,r,e)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[pu]){t[pu]=!0,G_.forEach(function(n){n!=="selectionchange"&&(I9.has(n)||Zd(n,!1,t),Zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pu]||(e[pu]=!0,Zd("selectionchange",!1,e))}}function Ow(t,e,n,r){switch(Cw(e)){case 1:var i=WS;break;case 4:i=qS;break;default:i=j1}n=i.bind(null,e,n,t),i=void 0,!jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cw(function(){var c=s,u=F1(n),h=[];e:{var f=Lw.get(t);if(f!==void 0){var m=$1,g=t;switch(t){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":m=a9;break;case"focusin":g="focus",m=qd;break;case"focusout":g="blur",m=qd;break;case"beforeblur":case"afterblur":m=qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=u9;break;case Pw:case Mw:case Bw:m=ZS;break;case jw:m=d9;break;case"scroll":m=GS;break;case"wheel":m=p9;break;case"copy":case"cut":case"paste":m=e9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ix}var v=(e&4)!==0,_=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var p=c,x;p!==null;){x=p;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,y!==null&&(w=jl(p,y),w!=null&&v.push(zl(p,w,x)))),_)break;p=p.return}0<v.length&&(f=new m(f,g,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Mp&&(g=n.relatedTarget||n.fromElement)&&(xs(g)||g[ri]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?xs(g):null,g!==null&&(_=qs(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=Nx,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ix,w="onPointerLeave",y="onPointerEnter",p="pointer"),_=m==null?f:Co(m),x=g==null?f:Co(g),f=new v(w,p+"leave",m,n,u),f.target=_,f.relatedTarget=x,w=null,xs(u)===c&&(v=new v(y,p+"enter",g,n,u),v.target=x,v.relatedTarget=_,w=v),_=w,m&&g)t:{for(v=m,y=g,p=0,x=v;x;x=ao(x))p++;for(x=0,w=y;w;w=ao(w))x++;for(;0<p-x;)v=ao(v),p--;for(;0<x-p;)y=ao(y),x--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=ao(v),y=ao(y)}v=null}else v=null;m!==null&&Vx(h,f,m,v,!1),g!==null&&_!==null&&Vx(h,_,g,v,!0)}}e:{if(f=c?Co(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=w9;else if(Px(f))if(Nw)C=b9;else{C=C9;var E=E9}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=S9);if(C&&(C=C(t,c))){Aw(h,C,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Tp(f,"number",f.value)}switch(E=c?Co(c):window,t){case"focusin":(Px(E)||E.contentEditable==="true")&&(wo=E,Vp=c,wl=null);break;case"focusout":wl=Vp=wo=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,$x(h,n,u);break;case"selectionchange":if(A9)break;case"keydown":case"keyup":$x(h,n,u)}var S;if(U1)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else _o?Dw(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(bw&&n.locale!=="ko"&&(_o||D!=="onCompositionStart"?D==="onCompositionEnd"&&_o&&(S=Sw()):(Ci=u,L1="value"in Ci?Ci.value:Ci.textContent,_o=!0)),E=xh(c,D),0<E.length&&(D=new Tx(D,t,null,n,u),h.push({event:D,listeners:E}),S?D.data=S:(S=kw(n),S!==null&&(D.data=S)))),(S=g9?x9(t,n):v9(t,n))&&(c=xh(c,"onBeforeInput"),0<c.length&&(u=new Tx("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}$w(h,e)})}function zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jl(t,n),s!=null&&r.unshift(zl(t,s,i)),s=jl(t,e),s!=null&&r.push(zl(t,s,i))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=jl(n,s),l!=null&&o.unshift(zl(n,l,a))):i||(l=jl(n,s),l!=null&&o.push(zl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var R9=/\r\n?/g,F9=/\u0000|\uFFFD/g;function Hx(t){return(typeof t=="string"?t:""+t).replace(R9,`
`).replace(F9,"")}function mu(t,e,n){if(e=Hx(e),Hx(t)!==e&&n)throw Error(z(425))}function vh(){}var zp=null,Wp=null;function qp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gp=typeof setTimeout=="function"?setTimeout:void 0,P9=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,M9=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(B9)}:Gp;function B9(t){setTimeout(function(){throw t})}function ef(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ol(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Ar="__reactFiber$"+wa,Wl="__reactProps$"+wa,ri="__reactContainer$"+wa,Kp="__reactEvents$"+wa,j9="__reactListeners$"+wa,L9="__reactHandles$"+wa;function xs(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wx(t);t!==null;){if(n=t[Ar])return n;t=Wx(t)}return e}t=n,n=t.parentNode}return null}function Cc(t){return t=t[Ar]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function E0(t){return t[Wl]||null}var Qp=[],So=-1;function Qi(t){return{current:t}}function Qe(t){0>So||(t.current=Qp[So],Qp[So]=null,So--)}function He(t,e){So++,Qp[So]=t.current,t.current=e}var Vi={},en=Qi(Vi),wn=Qi(!1),Rs=Vi;function Go(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function En(t){return t=t.childContextTypes,t!=null}function yh(){Qe(wn),Qe(en)}function qx(t,e,n){if(en.current!==Vi)throw Error(z(168));He(en,e),He(wn,n)}function Uw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,ES(t)||"Unknown",i));return it({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Rs=en.current,He(en,t),He(wn,wn.current),!0}function Gx(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Uw(t,e,Rs),r.__reactInternalMemoizedMergedChildContext=t,Qe(wn),Qe(en),He(en,t)):Qe(wn),He(wn,n)}var qr=null,C0=!1,tf=!1;function Vw(t){qr===null?qr=[t]:qr.push(t)}function $9(t){C0=!0,Vw(t)}function Yi(){if(!tf&&qr!==null){tf=!0;var t=0,e=Le;try{var n=qr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,C0=!1}catch(i){throw qr!==null&&(qr=qr.slice(t+1)),fw(P1,Yi),i}finally{Le=e,tf=!1}}return null}var bo=[],Do=0,wh=null,Eh=0,zn=[],Wn=0,Fs=null,Gr=1,Kr="";function hs(t,e){bo[Do++]=Eh,bo[Do++]=wh,wh=t,Eh=e}function Hw(t,e,n){zn[Wn++]=Gr,zn[Wn++]=Kr,zn[Wn++]=Fs,Fs=t;var r=Gr;t=Kr;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var s=32-ur(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gr=1<<32-ur(e)+i|n<<i|r,Kr=s+t}else Gr=1<<s|n<<i|r,Kr=t}function H1(t){t.return!==null&&(hs(t,1),Hw(t,1,0))}function z1(t){for(;t===wh;)wh=bo[--Do],bo[Do]=null,Eh=bo[--Do],bo[Do]=null;for(;t===Fs;)Fs=zn[--Wn],zn[Wn]=null,Kr=zn[--Wn],zn[Wn]=null,Gr=zn[--Wn],zn[Wn]=null}var Rn=null,Tn=null,et=!1,or=null;function zw(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,Tn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Gr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,Tn=null,!0):!1;default:return!1}}function Yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xp(t){if(et){var e=Tn;if(e){var n=e;if(!Kx(t,e)){if(Yp(t))throw Error(z(418));e=Ti(n.nextSibling);var r=Rn;e&&Kx(t,e)?zw(r,n):(t.flags=t.flags&-4097|2,et=!1,Rn=t)}}else{if(Yp(t))throw Error(z(418));t.flags=t.flags&-4097|2,et=!1,Rn=t}}}function Qx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function gu(t){if(t!==Rn)return!1;if(!et)return Qx(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qp(t.type,t.memoizedProps)),e&&(e=Tn)){if(Yp(t))throw Ww(),Error(z(418));for(;e;)zw(t,e),e=Ti(e.nextSibling)}if(Qx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Rn?Ti(t.stateNode.nextSibling):null;return!0}function Ww(){for(var t=Tn;t;)t=Ti(t.nextSibling)}function Ko(){Tn=Rn=null,et=!1}function W1(t){or===null?or=[t]:or.push(t)}var O9=di.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function xu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yx(t){var e=t._init;return e(t._payload)}function qw(t){function e(y,p){if(t){var x=y.deletions;x===null?(y.deletions=[p],y.flags|=16):x.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Pi(y,p),y.index=0,y.sibling=null,y}function s(y,p,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<p?(y.flags|=2,p):x):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,x,w){return p===null||p.tag!==6?(p=cf(x,y.mode,w),p.return=y,p):(p=i(p,x),p.return=y,p)}function l(y,p,x,w){var C=x.type;return C===yo?u(y,p,x.props.children,w,x.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yi&&Yx(C)===p.type)?(w=i(p,x.props),w.ref=Ka(y,p,x),w.return=y,w):(w=Gu(x.type,x.key,x.props,null,y.mode,w),w.ref=Ka(y,p,x),w.return=y,w)}function c(y,p,x,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=uf(x,y.mode,w),p.return=y,p):(p=i(p,x.children||[]),p.return=y,p)}function u(y,p,x,w,C){return p===null||p.tag!==7?(p=ks(x,y.mode,w,C),p.return=y,p):(p=i(p,x),p.return=y,p)}function h(y,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=cf(""+p,y.mode,x),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ou:return x=Gu(p.type,p.key,p.props,null,y.mode,x),x.ref=Ka(y,null,p),x.return=y,x;case vo:return p=uf(p,y.mode,x),p.return=y,p;case yi:var w=p._init;return h(y,w(p._payload),x)}if(al(p)||Ha(p))return p=ks(p,y.mode,x,null),p.return=y,p;xu(y,p)}return null}function f(y,p,x,w){var C=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(y,p,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ou:return x.key===C?l(y,p,x,w):null;case vo:return x.key===C?c(y,p,x,w):null;case yi:return C=x._init,f(y,p,C(x._payload),w)}if(al(x)||Ha(x))return C!==null?null:u(y,p,x,w,null);xu(y,x)}return null}function m(y,p,x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(x)||null,a(p,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ou:return y=y.get(w.key===null?x:w.key)||null,l(p,y,w,C);case vo:return y=y.get(w.key===null?x:w.key)||null,c(p,y,w,C);case yi:var E=w._init;return m(y,p,x,E(w._payload),C)}if(al(w)||Ha(w))return y=y.get(x)||null,u(p,y,w,C,null);xu(p,w)}return null}function g(y,p,x,w){for(var C=null,E=null,S=p,D=p=0,T=null;S!==null&&D<x.length;D++){S.index>D?(T=S,S=null):T=S.sibling;var b=f(y,S,x[D],w);if(b===null){S===null&&(S=T);break}t&&S&&b.alternate===null&&e(y,S),p=s(b,p,D),E===null?C=b:E.sibling=b,E=b,S=T}if(D===x.length)return n(y,S),et&&hs(y,D),C;if(S===null){for(;D<x.length;D++)S=h(y,x[D],w),S!==null&&(p=s(S,p,D),E===null?C=S:E.sibling=S,E=S);return et&&hs(y,D),C}for(S=r(y,S);D<x.length;D++)T=m(S,y,D,x[D],w),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?D:T.key),p=s(T,p,D),E===null?C=T:E.sibling=T,E=T);return t&&S.forEach(function(N){return e(y,N)}),et&&hs(y,D),C}function v(y,p,x,w){var C=Ha(x);if(typeof C!="function")throw Error(z(150));if(x=C.call(x),x==null)throw Error(z(151));for(var E=C=null,S=p,D=p=0,T=null,b=x.next();S!==null&&!b.done;D++,b=x.next()){S.index>D?(T=S,S=null):T=S.sibling;var N=f(y,S,b.value,w);if(N===null){S===null&&(S=T);break}t&&S&&N.alternate===null&&e(y,S),p=s(N,p,D),E===null?C=N:E.sibling=N,E=N,S=T}if(b.done)return n(y,S),et&&hs(y,D),C;if(S===null){for(;!b.done;D++,b=x.next())b=h(y,b.value,w),b!==null&&(p=s(b,p,D),E===null?C=b:E.sibling=b,E=b);return et&&hs(y,D),C}for(S=r(y,S);!b.done;D++,b=x.next())b=m(S,y,D,b.value,w),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?D:b.key),p=s(b,p,D),E===null?C=b:E.sibling=b,E=b);return t&&S.forEach(function(M){return e(y,M)}),et&&hs(y,D),C}function _(y,p,x,w){if(typeof x=="object"&&x!==null&&x.type===yo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ou:e:{for(var C=x.key,E=p;E!==null;){if(E.key===C){if(C=x.type,C===yo){if(E.tag===7){n(y,E.sibling),p=i(E,x.props.children),p.return=y,y=p;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yi&&Yx(C)===E.type){n(y,E.sibling),p=i(E,x.props),p.ref=Ka(y,E,x),p.return=y,y=p;break e}n(y,E);break}else e(y,E);E=E.sibling}x.type===yo?(p=ks(x.props.children,y.mode,w,x.key),p.return=y,y=p):(w=Gu(x.type,x.key,x.props,null,y.mode,w),w.ref=Ka(y,p,x),w.return=y,y=w)}return o(y);case vo:e:{for(E=x.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(y,p.sibling),p=i(p,x.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=uf(x,y.mode,w),p.return=y,y=p}return o(y);case yi:return E=x._init,_(y,p,E(x._payload),w)}if(al(x))return g(y,p,x,w);if(Ha(x))return v(y,p,x,w);xu(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,x),p.return=y,y=p):(n(y,p),p=cf(x,y.mode,w),p.return=y,y=p),o(y)):n(y,p)}return _}var Qo=qw(!0),Gw=qw(!1),Ch=Qi(null),Sh=null,ko=null,q1=null;function G1(){q1=ko=Sh=null}function K1(t){var e=Ch.current;Qe(Ch),t._currentValue=e}function Zp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){Sh=t,q1=ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(q1!==t)if(t={context:t,memoizedValue:e,next:null},ko===null){if(Sh===null)throw Error(z(308));ko=t,Sh.dependencies={lanes:0,firstContext:t}}else ko=ko.next=t;return e}var vs=null;function Q1(t){vs===null?vs=[t]:vs.push(t)}function Kw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Q1(e)):(n.next=i.next,i.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _i=!1;function Y1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ii(t,n)}return i=r.interleaved,i===null?(e.next=e,Q1(r)):(e.next=i.next,i.next=e),r.interleaved=e,ii(t,n)}function Uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,M1(t,n)}}function Xx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bh(t,e,n,r){var i=t.updateQueue;_i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=it({},h,f);break e;case 2:_i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=h}}function Zx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Sc={},Mr=Qi(Sc),ql=Qi(Sc),Gl=Qi(Sc);function ys(t){if(t===Sc)throw Error(z(174));return t}function X1(t,e){switch(He(Gl,e),He(ql,t),He(Mr,Sc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rp(e,t)}Qe(Mr),He(Mr,e)}function Yo(){Qe(Mr),Qe(ql),Qe(Gl)}function Yw(t){ys(Gl.current);var e=ys(Mr.current),n=Rp(e,t.type);e!==n&&(He(ql,t),He(Mr,n))}function Z1(t){ql.current===t&&(Qe(Mr),Qe(ql))}var nt=Qi(0);function Dh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function J1(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var Vu=di.ReactCurrentDispatcher,rf=di.ReactCurrentBatchConfig,Ps=0,rt=null,_t=null,St=null,kh=!1,El=!1,Kl=0,U9=0;function Vt(){throw Error(z(321))}function eg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function tg(t,e,n,r,i,s){if(Ps=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vu.current=t===null||t.memoizedState===null?W9:q9,t=n(r,i),El){s=0;do{if(El=!1,Kl=0,25<=s)throw Error(z(301));s+=1,St=_t=null,e.updateQueue=null,Vu.current=G9,t=n(r,i)}while(El)}if(Vu.current=Ah,e=_t!==null&&_t.next!==null,Ps=0,St=_t=rt=null,kh=!1,e)throw Error(z(300));return t}function ng(){var t=Kl!==0;return Kl=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=t:St=St.next=t,St}function Xn(){if(_t===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=St===null?rt.memoizedState:St.next;if(e!==null)St=e,_t=t;else{if(t===null)throw Error(z(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?rt.memoizedState=St=t:St=St.next=t}return St}function Ql(t,e){return typeof e=="function"?e(t):e}function sf(t){var e=Xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ps&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,rt.lanes|=u,Ms|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,Ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function of(t){var e=Xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gr(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Xw(){}function Zw(t,e){var n=rt,r=Xn(),i=e(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,vn=!0),r=r.queue,rg(t3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Yl(9,e3.bind(null,n,r,i,e),void 0,null),At===null)throw Error(z(349));Ps&30||Jw(n,e,i)}return i}function Jw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e3(t,e,n,r){e.value=n,e.getSnapshot=r,n3(e)&&r3(t)}function t3(t,e,n){return n(function(){n3(e)&&r3(t)})}function n3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function r3(t){var e=ii(t,1);e!==null&&hr(e,t,1,-1)}function Jx(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:t},e.queue=t,t=t.dispatch=z9.bind(null,rt,t),[e.memoizedState,t]}function Yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function i3(){return Xn().memoizedState}function Hu(t,e,n,r){var i=Dr();rt.flags|=t,i.memoizedState=Yl(1|e,n,void 0,r===void 0?null:r)}function S0(t,e,n,r){var i=Xn();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&eg(r,o.deps)){i.memoizedState=Yl(e,n,s,r);return}}rt.flags|=t,i.memoizedState=Yl(1|e,n,s,r)}function ev(t,e){return Hu(8390656,8,t,e)}function rg(t,e){return S0(2048,8,t,e)}function s3(t,e){return S0(4,2,t,e)}function o3(t,e){return S0(4,4,t,e)}function a3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l3(t,e,n){return n=n!=null?n.concat([t]):null,S0(4,4,a3.bind(null,e,t),n)}function ig(){}function c3(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function u3(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h3(t,e,n){return Ps&21?(gr(n,e)||(n=gw(),rt.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function V9(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=rf.transition;rf.transition={};try{t(!1),e()}finally{Le=n,rf.transition=r}}function d3(){return Xn().memoizedState}function H9(t,e,n){var r=Fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f3(t))p3(e,n);else if(n=Kw(t,e,n,r),n!==null){var i=on();hr(n,t,r,i),m3(n,e,r)}}function z9(t,e,n){var r=Fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f3(t))p3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(i.next=i,Q1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Kw(t,e,i,r),n!==null&&(i=on(),hr(n,t,r,i),m3(n,e,r))}}function f3(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function p3(t,e){El=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function m3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,M1(t,n)}}var Ah={readContext:Yn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},W9={readContext:Yn,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:ev,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4194308,4,a3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hu(4,2,t,e)},useMemo:function(t,e){var n=Dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=H9.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:Jx,useDebugValue:ig,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=Jx(!1),e=t[0];return t=V9.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=Dr();if(et){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),At===null)throw Error(z(349));Ps&30||Jw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ev(t3.bind(null,r,s,t),[t]),r.flags|=2048,Yl(9,e3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dr(),e=At.identifierPrefix;if(et){var n=Kr,r=Gr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q9={readContext:Yn,useCallback:c3,useContext:Yn,useEffect:rg,useImperativeHandle:l3,useInsertionEffect:s3,useLayoutEffect:o3,useMemo:u3,useReducer:sf,useRef:i3,useState:function(){return sf(Ql)},useDebugValue:ig,useDeferredValue:function(t){var e=Xn();return h3(e,_t.memoizedState,t)},useTransition:function(){var t=sf(Ql)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Xw,useSyncExternalStore:Zw,useId:d3,unstable_isNewReconciler:!1},G9={readContext:Yn,useCallback:c3,useContext:Yn,useEffect:rg,useImperativeHandle:l3,useInsertionEffect:s3,useLayoutEffect:o3,useMemo:u3,useReducer:of,useRef:i3,useState:function(){return of(Ql)},useDebugValue:ig,useDeferredValue:function(t){var e=Xn();return _t===null?e.memoizedState=t:h3(e,_t.memoizedState,t)},useTransition:function(){var t=of(Ql)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Xw,useSyncExternalStore:Zw,useId:d3,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var b0={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=Fi(t),s=Xr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(hr(e,t,i,r),Uu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=Fi(t),s=Xr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(hr(e,t,i,r),Uu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Fi(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(hr(e,t,r,n),Uu(e,t,r))}};function tv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vl(n,r)||!Vl(i,s):!0}function g3(t,e,n){var r=!1,i=Vi,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=En(e)?Rs:en.current,r=e.contextTypes,s=(r=r!=null)?Go(t,i):Vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=b0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&b0.enqueueReplaceState(e,e.state,null)}function em(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Y1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=En(e)?Rs:en.current,i.context=Go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&b0.enqueueReplaceState(i,i.state,null),bh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var n="",r=e;do n+=wS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K9=typeof WeakMap=="function"?WeakMap:Map;function x3(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,hm=r),tm(t,e)},n}function v3(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tm(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=l7.bind(null,t,e,n),e.then(t,t))}function iv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var Q9=di.ReactCurrentOwner,vn=!1;function rn(t,e,n,r){e.child=t===null?Gw(e,null,n,r):Qo(e,t.child,n,r)}function ov(t,e,n,r,i){n=n.render;var s=e.ref;return Lo(e,i),r=tg(t,e,n,r,s,i),n=ng(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(et&&n&&H1(e),e.flags|=1,rn(t,e,r,i),e.child)}function av(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!dg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,y3(t,e,s,r,i)):(t=Gu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(o,r)&&t.ref===e.ref)return si(t,e,i)}return e.flags|=1,t=Pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function y3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Vl(s,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,si(t,e,i)}return nm(t,e,n,r,i)}function _3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(No,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(No,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(No,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(No,An),An|=r;return rn(t,e,i,n),e.child}function w3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nm(t,e,n,r,i){var s=En(n)?Rs:en.current;return s=Go(e,s),Lo(e,i),n=tg(t,e,n,r,s,i),r=ng(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(et&&r&&H1(e),e.flags|=1,rn(t,e,n,i),e.child)}function lv(t,e,n,r,i){if(En(n)){var s=!0;_h(e)}else s=!1;if(Lo(e,i),e.stateNode===null)zu(t,e),g3(e,n,r),em(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=En(n)?Rs:en.current,c=Go(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nv(e,o,r,c),_i=!1;var f=e.memoizedState;o.state=f,bh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||wn.current||_i?(typeof u=="function"&&(Jp(e,n,u,r),l=e.memoizedState),(a=_i||tv(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=En(n)?Rs:en.current,l=Go(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&nv(e,o,r,l),_i=!1,f=e.memoizedState,o.state=f,bh(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||wn.current||_i?(typeof m=="function"&&(Jp(e,n,m,r),g=e.memoizedState),(c=_i||tv(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rm(t,e,n,r,s,i)}function rm(t,e,n,r,i,s){w3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Gx(e,n,!1),si(t,e,s);r=e.stateNode,Q9.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,a,s)):rn(t,e,a,s),e.memoizedState=r.state,i&&Gx(e,n,!0),e.child}function E3(t){var e=t.stateNode;e.pendingContext?qx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qx(t,e.context,!1),X1(t,e.containerInfo)}function cv(t,e,n,r,i){return Ko(),W1(i),e.flags|=256,rn(t,e,n,r),e.child}var im={dehydrated:null,treeContext:null,retryLane:0};function sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function C3(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(nt,i&1),t===null)return Xp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=A0(o,r,0,null),t=ks(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sm(n),e.memoizedState=im,t):sg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Y9(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Pi(a,s):(s=ks(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=im,r}return s=t.child,t=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sg(t,e){return e=A0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vu(t,e,n,r){return r!==null&&W1(r),Qo(e,t.child,null,n),t=sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y9(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=af(Error(z(422))),vu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=A0({mode:"visible",children:r.children},i,0,null),s=ks(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=sm(o),e.memoizedState=im,s);if(!(e.mode&1))return vu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=af(s,r,void 0),vu(t,e,o,r)}if(a=(o&t.childLanes)!==0,vn||a){if(r=At,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ii(t,i),hr(r,t,i,-1))}return hg(),r=af(Error(z(421))),vu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=c7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tn=Ti(i.nextSibling),Rn=e,et=!0,or=null,t!==null&&(zn[Wn++]=Gr,zn[Wn++]=Kr,zn[Wn++]=Fs,Gr=t.id,Kr=t.overflow,Fs=e),e=sg(e,r.children),e.flags|=4096,e)}function uv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zp(t.return,e,n)}function lf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function S3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uv(t,n,e);else if(t.tag===19)uv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lf(e,!0,n,null,s);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function X9(t,e,n){switch(e.tag){case 3:E3(e),Ko();break;case 5:Yw(e);break;case 1:En(e.type)&&_h(e);break;case 4:X1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Ch,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?C3(t,e,n):(He(nt,nt.current&1),t=si(t,e,n),t!==null?t.sibling:null);He(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return S3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,_3(t,e,n)}return si(t,e,n)}var b3,om,D3,k3;b3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};om=function(){};D3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(Mr.current);var s=null;switch(n){case"input":i=Ap(t,i),r=Ap(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=Ip(t,i),r=Ip(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vh)}Fp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ml.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};k3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z9(t,e,n){var r=e.pendingProps;switch(z1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return En(e.type)&&yh(),Ht(e),null;case 3:return r=e.stateNode,Yo(),Qe(wn),Qe(en),J1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(pm(or),or=null))),om(t,e),Ht(e),null;case 5:Z1(e);var i=ys(Gl.current);if(n=e.type,t!==null&&e.stateNode!=null)D3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ht(e),null}if(t=ys(Mr.current),gu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ar]=e,r[Wl]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<cl.length;i++)ze(cl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":yx(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":wx(r,s),ze("invalid",r)}Fp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),i=["children",""+a]):Ml.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":au(r),_x(r,s,!0);break;case"textarea":au(r),Ex(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[Wl]=r,b3(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pp(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<cl.length;i++)ze(cl[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":yx(t,r),i=Ap(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),ze("invalid",t);break;case"textarea":wx(t,r),i=Ip(t,r),ze("invalid",t);break;default:i=r}Fp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bl(t,l):typeof l=="number"&&Bl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ml.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&N1(t,s,l,o))}switch(n){case"input":au(t),_x(t,r,!1);break;case"textarea":au(t),Ex(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Po(t,!!r.multiple,s,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)k3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ys(Gl.current),ys(Mr.current),gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(s=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return Ht(e),null;case 13:if(Qe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Tn!==null&&e.mode&1&&!(e.flags&128))Ww(),Ko(),e.flags|=98560,s=!1;else if(s=gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Ar]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else or!==null&&(pm(or),or=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?wt===0&&(wt=3):hg())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Yo(),om(t,e),t===null&&Hl(e.stateNode.containerInfo),Ht(e),null;case 10:return K1(e.type._context),Ht(e),null;case 17:return En(e.type)&&yh(),Ht(e),null;case 19:if(Qe(nt),s=e.memoizedState,s===null)return Ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qa(s,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dh(t),o!==null){for(e.flags|=128,Qa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>Zo&&(e.flags|=128,r=!0,Qa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Ht(e),null}else 2*dt()-s.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=nt.current,He(nt,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return ug(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function J9(t,e){switch(z1(e),e.tag){case 1:return En(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Qe(wn),Qe(en),J1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Z1(e),null;case 13:if(Qe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(nt),null;case 4:return Yo(),null;case 10:return K1(e.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var yu=!1,qt=!1,e7=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function am(t,e,n){try{n()}catch(r){lt(t,e,r)}}var hv=!1;function t7(t,e){if(zp=mh,t=Rw(),V1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wp={focusedElem:t,selectionRange:n},mh=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:rr(e.type,v),_);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(w){lt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return g=hv,hv=!1,g}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&am(e,n,s)}i=i.next}while(i!==r)}}function D0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A3(t){var e=t.alternate;e!==null&&(t.alternate=null,A3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[Wl],delete e[Kp],delete e[j9],delete e[L9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N3(t){return t.tag===5||t.tag===3||t.tag===4}function dv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(t=t.child,t!==null))for(cm(t,e,n),t=t.sibling;t!==null;)cm(t,e,n),t=t.sibling}function um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(um(t,e,n),t=t.sibling;t!==null;)um(t,e,n),t=t.sibling}var Ft=null,ir=!1;function gi(t,e,n){for(n=n.child;n!==null;)T3(t,e,n),n=n.sibling}function T3(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(v0,n)}catch{}switch(n.tag){case 5:qt||Ao(n,e);case 6:var r=Ft,i=ir;Ft=null,gi(t,e,n),Ft=r,ir=i,Ft!==null&&(ir?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(ir?(t=Ft,n=n.stateNode,t.nodeType===8?ef(t.parentNode,n):t.nodeType===1&&ef(t,n),Ol(t)):ef(Ft,n.stateNode));break;case 4:r=Ft,i=ir,Ft=n.stateNode.containerInfo,ir=!0,gi(t,e,n),Ft=r,ir=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&am(n,e,o),i=i.next}while(i!==r)}gi(t,e,n);break;case 1:if(!qt&&(Ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,gi(t,e,n),qt=r):gi(t,e,n);break;default:gi(t,e,n)}}function fv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new e7),e.forEach(function(r){var i=u7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,ir=!1;break e;case 3:Ft=a.stateNode.containerInfo,ir=!0;break e;case 4:Ft=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(Ft===null)throw Error(z(160));T3(s,o,i),Ft=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)I3(e,t),e=e.sibling}function I3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),br(t),r&4){try{Cl(3,t,t.return),D0(3,t)}catch(v){lt(t,t.return,v)}try{Cl(5,t,t.return)}catch(v){lt(t,t.return,v)}}break;case 1:tr(e,t),br(t),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(tr(e,t),br(t),r&512&&n!==null&&Ao(n,n.return),t.flags&32){var i=t.stateNode;try{Bl(i,"")}catch(v){lt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&J_(i,s),Pp(a,o);var c=Pp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?iw(i,h):u==="dangerouslySetInnerHTML"?nw(i,h):u==="children"?Bl(i,h):N1(i,u,h,c)}switch(a){case"input":Np(i,s);break;case"textarea":ew(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Po(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wl]=s}catch(v){lt(t,t.return,v)}}break;case 6:if(tr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){lt(t,t.return,v)}}break;case 3:if(tr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(e.containerInfo)}catch(v){lt(t,t.return,v)}break;case 4:tr(e,t),br(t);break;case 13:tr(e,t),br(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lg=dt())),r&4&&fv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(c=qt)||u,tr(e,t),qt=c):tr(e,t),br(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(J=t,u=t.child;u!==null;){for(h=J=u;J!==null;){switch(f=J,m=f.child,f.tag){case 0:case 11:case 14:case 15:Cl(4,f,f.return);break;case 1:Ao(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){lt(r,n,v)}}break;case 5:Ao(f,f.return);break;case 22:if(f.memoizedState!==null){mv(h);continue}}m!==null?(m.return=f,J=m):mv(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rw("display",o))}catch(v){lt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){lt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),br(t),r&4&&fv(t);break;case 21:break;default:tr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N3(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bl(i,""),r.flags&=-33);var s=dv(t);um(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dv(t);cm(t,a,o);break;default:throw Error(z(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n7(t,e,n){J=t,R3(t)}function R3(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qt;a=yu;var c=qt;if(yu=o,(qt=l)&&!c)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?gv(i):l!==null?(l.return=o,J=l):gv(i);for(;s!==null;)J=s,R3(s),s=s.sibling;J=i,yu=a,qt=c}pv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):pv(t)}}function pv(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||D0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ol(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}qt||e.flags&512&&lm(e)}catch(f){lt(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function mv(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function gv(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{D0(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var s=e.return;try{lm(e)}catch(l){lt(e,s,l)}break;case 5:var o=e.return;try{lm(e)}catch(l){lt(e,o,l)}}}catch(l){lt(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var r7=Math.ceil,Nh=di.ReactCurrentDispatcher,og=di.ReactCurrentOwner,Qn=di.ReactCurrentBatchConfig,Te=0,At=null,vt=null,Bt=0,An=0,No=Qi(0),wt=0,Xl=null,Ms=0,k0=0,ag=0,Sl=null,gn=null,lg=0,Zo=1/0,Hr=null,Th=!1,hm=null,Ri=null,_u=!1,Si=null,Ih=0,bl=0,dm=null,Wu=-1,qu=0;function on(){return Te&6?dt():Wu!==-1?Wu:Wu=dt()}function Fi(t){return t.mode&1?Te&2&&Bt!==0?Bt&-Bt:O9.transition!==null?(qu===0&&(qu=gw()),qu):(t=Le,t!==0||(t=window.event,t=t===void 0?16:Cw(t.type)),t):1}function hr(t,e,n,r){if(50<bl)throw bl=0,dm=null,Error(z(185));wc(t,n,r),(!(Te&2)||t!==At)&&(t===At&&(!(Te&2)&&(k0|=n),wt===4&&Ei(t,Bt)),Cn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Zo=dt()+500,C0&&Yi()))}function Cn(t,e){var n=t.callbackNode;OS(t,e);var r=ph(t,t===At?Bt:0);if(r===0)n!==null&&bx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bx(n),e===1)t.tag===0?$9(xv.bind(null,t)):Vw(xv.bind(null,t)),M9(function(){!(Te&6)&&Yi()}),n=null;else{switch(xw(r)){case 1:n=P1;break;case 4:n=pw;break;case 16:n=fh;break;case 536870912:n=mw;break;default:n=fh}n=O3(n,F3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F3(t,e){if(Wu=-1,qu=0,Te&6)throw Error(z(327));var n=t.callbackNode;if($o()&&t.callbackNode!==n)return null;var r=ph(t,t===At?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rh(t,r);else{e=r;var i=Te;Te|=2;var s=M3();(At!==t||Bt!==e)&&(Hr=null,Zo=dt()+500,Ds(t,e));do try{o7();break}catch(a){P3(t,a)}while(!0);G1(),Nh.current=s,Te=i,vt!==null?e=0:(At=null,Bt=0,e=wt)}if(e!==0){if(e===2&&(i=$p(t),i!==0&&(r=i,e=fm(t,i))),e===1)throw n=Xl,Ds(t,0),Ei(t,r),Cn(t,dt()),n;if(e===6)Ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!i7(i)&&(e=Rh(t,r),e===2&&(s=$p(t),s!==0&&(r=s,e=fm(t,s))),e===1))throw n=Xl,Ds(t,0),Ei(t,r),Cn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ds(t,gn,Hr);break;case 3:if(Ei(t,r),(r&130023424)===r&&(e=lg+500-dt(),10<e)){if(ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gp(ds.bind(null,t,gn,Hr),e);break}ds(t,gn,Hr);break;case 4:if(Ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ur(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r7(r/1960))-r,10<r){t.timeoutHandle=Gp(ds.bind(null,t,gn,Hr),r);break}ds(t,gn,Hr);break;case 5:ds(t,gn,Hr);break;default:throw Error(z(329))}}}return Cn(t,dt()),t.callbackNode===n?F3.bind(null,t):null}function fm(t,e){var n=Sl;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Rh(t,e),t!==2&&(e=gn,gn=n,e!==null&&pm(e)),t}function pm(t){gn===null?gn=t:gn.push.apply(gn,t)}function i7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~ag,e&=~k0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function xv(t){if(Te&6)throw Error(z(327));$o();var e=ph(t,0);if(!(e&1))return Cn(t,dt()),null;var n=Rh(t,e);if(t.tag!==0&&n===2){var r=$p(t);r!==0&&(e=r,n=fm(t,r))}if(n===1)throw n=Xl,Ds(t,0),Ei(t,e),Cn(t,dt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,gn,Hr),Cn(t,dt()),null}function cg(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Zo=dt()+500,C0&&Yi())}}function Bs(t){Si!==null&&Si.tag===0&&!(Te&6)&&$o();var e=Te;Te|=1;var n=Qn.transition,r=Le;try{if(Qn.transition=null,Le=1,t)return t()}finally{Le=r,Qn.transition=n,Te=e,!(Te&6)&&Yi()}}function ug(){An=No.current,Qe(No)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,P9(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(z1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:Yo(),Qe(wn),Qe(en),J1();break;case 5:Z1(r);break;case 4:Yo();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:K1(r.type._context);break;case 22:case 23:ug()}n=n.return}if(At=t,vt=t=Pi(t.current,null),Bt=An=e,wt=0,Xl=null,ag=k0=Ms=0,gn=Sl=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vs=null}return t}function P3(t,e){do{var n=vt;try{if(G1(),Vu.current=Ah,kh){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(Ps=0,St=_t=rt=null,El=!1,Kl=0,og.current=null,n===null||n.return===null){wt=1,Xl=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=iv(o);if(m!==null){m.flags&=-257,sv(m,o,a,s,e),m.mode&1&&rv(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){rv(s,c,e),hg();break e}l=Error(z(426))}}else if(et&&a.mode&1){var _=iv(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),sv(_,o,a,s,e),W1(Xo(l,a));break e}}s=l=Xo(l,a),wt!==4&&(wt=2),Sl===null?Sl=[s]:Sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=x3(s,l,e);Xx(s,y);break e;case 1:a=l;var p=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ri===null||!Ri.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=v3(s,a,e);Xx(s,w);break e}}s=s.return}while(s!==null)}j3(n)}catch(C){e=C,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function M3(){var t=Nh.current;return Nh.current=Ah,t===null?Ah:t}function hg(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||!(Ms&268435455)&&!(k0&268435455)||Ei(At,Bt)}function Rh(t,e){var n=Te;Te|=2;var r=M3();(At!==t||Bt!==e)&&(Hr=null,Ds(t,e));do try{s7();break}catch(i){P3(t,i)}while(!0);if(G1(),Te=n,Nh.current=r,vt!==null)throw Error(z(261));return At=null,Bt=0,wt}function s7(){for(;vt!==null;)B3(vt)}function o7(){for(;vt!==null&&!IS();)B3(vt)}function B3(t){var e=$3(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?j3(t):vt=e,og.current=null}function j3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=J9(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,vt=null;return}}else if(n=Z9(n,e,An),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);wt===0&&(wt=5)}function ds(t,e,n){var r=Le,i=Qn.transition;try{Qn.transition=null,Le=1,a7(t,e,n,r)}finally{Qn.transition=i,Le=r}return null}function a7(t,e,n,r){do $o();while(Si!==null);if(Te&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(US(t,s),t===At&&(vt=At=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,O3(fh,function(){return $o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=Le;Le=1;var a=Te;Te|=4,og.current=null,t7(t,n),I3(n,t),k9(Wp),mh=!!zp,Wp=zp=null,t.current=n,n7(n),RS(),Te=a,Le=o,Qn.transition=s}else t.current=n;if(_u&&(_u=!1,Si=t,Ih=i),s=t.pendingLanes,s===0&&(Ri=null),MS(n.stateNode),Cn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Th)throw Th=!1,t=hm,hm=null,t;return Ih&1&&t.tag!==0&&$o(),s=t.pendingLanes,s&1?t===dm?bl++:(bl=0,dm=t):bl=0,Yi(),null}function $o(){if(Si!==null){var t=xw(Ih),e=Qn.transition,n=Le;try{if(Qn.transition=null,Le=16>t?16:t,Si===null)var r=!1;else{if(t=Si,Si=null,Ih=0,Te&6)throw Error(z(331));var i=Te;for(Te|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:Cl(8,u,s)}var h=u.child;if(h!==null)h.return=u,J=h;else for(;J!==null;){u=J;var f=u.sibling,m=u.return;if(A3(u),u===c){J=null;break}if(f!==null){f.return=m,J=f;break}J=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,J=y;break e}J=s.return}}var p=t.current;for(J=p;J!==null;){o=J;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,J=x;else e:for(o=p;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:D0(9,a)}}catch(C){lt(a,a.return,C)}if(a===o){J=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,J=w;break e}J=a.return}}if(Te=i,Yi(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(v0,t)}catch{}r=!0}return r}finally{Le=n,Qn.transition=e}}return!1}function vv(t,e,n){e=Xo(n,e),e=x3(t,e,1),t=Ii(t,e,1),e=on(),t!==null&&(wc(t,1,e),Cn(t,e))}function lt(t,e,n){if(t.tag===3)vv(t,t,n);else for(;e!==null;){if(e.tag===3){vv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=Xo(n,t),t=v3(e,t,1),e=Ii(e,t,1),t=on(),e!==null&&(wc(e,1,t),Cn(e,t));break}}e=e.return}}function l7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Bt&n)===n&&(wt===4||wt===3&&(Bt&130023424)===Bt&&500>dt()-lg?Ds(t,0):ag|=n),Cn(t,e)}function L3(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=on();t=ii(t,e),t!==null&&(wc(t,e,n),Cn(t,n))}function c7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L3(t,n)}function u7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),L3(t,n)}var $3;$3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,X9(t,e,n);vn=!!(t.flags&131072)}else vn=!1,et&&e.flags&1048576&&Hw(e,Eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zu(t,e),t=e.pendingProps;var i=Go(e,en.current);Lo(e,n),i=tg(null,e,r,t,i,n);var s=ng();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(s=!0,_h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y1(e),i.updater=b0,e.stateNode=i,i._reactInternals=e,em(e,r,t,n),e=rm(null,e,r,!0,s,n)):(e.tag=0,et&&s&&H1(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d7(r),t=rr(r,t),i){case 0:e=nm(null,e,r,t,n);break e;case 1:e=lv(null,e,r,t,n);break e;case 11:e=ov(null,e,r,t,n);break e;case 14:e=av(null,e,r,rr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),nm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),lv(t,e,r,i,n);case 3:e:{if(E3(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qw(t,e),bh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xo(Error(z(423)),e),e=cv(t,e,r,n,i);break e}else if(r!==i){i=Xo(Error(z(424)),e),e=cv(t,e,r,n,i);break e}else for(Tn=Ti(e.stateNode.containerInfo.firstChild),Rn=e,et=!0,or=null,n=Gw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===i){e=si(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return Yw(e),t===null&&Xp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qp(r,i)?o=null:s!==null&&qp(r,s)&&(e.flags|=32),w3(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&Xp(e),null;case 13:return C3(t,e,n);case 4:return X1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),ov(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(Ch,r._currentValue),r._currentValue=o,s!==null)if(gr(s.value,o)){if(s.children===i.children&&!wn.current){e=si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lo(e,n),i=Yn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),av(t,e,r,i,n);case 15:return y3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),zu(t,e),e.tag=1,En(r)?(t=!0,_h(e)):t=!1,Lo(e,n),g3(e,r,i),em(e,r,i,n),rm(null,e,r,!0,t,n);case 19:return S3(t,e,n);case 22:return _3(t,e,n)}throw Error(z(156,e.tag))};function O3(t,e){return fw(t,e)}function h7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new h7(t,e,n,r)}function dg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d7(t){if(typeof t=="function")return dg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I1)return 11;if(t===R1)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")dg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yo:return ks(n.children,i,s,e);case T1:o=8,i|=8;break;case Sp:return t=Gn(12,n,e,i|2),t.elementType=Sp,t.lanes=s,t;case bp:return t=Gn(13,n,e,i),t.elementType=bp,t.lanes=s,t;case Dp:return t=Gn(19,n,e,i),t.elementType=Dp,t.lanes=s,t;case Y_:return A0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K_:o=10;break e;case Q_:o=9;break e;case I1:o=11;break e;case R1:o=14;break e;case yi:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ks(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function A0(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=Y_,t.lanes=n,t.stateNode={isHidden:!1},t}function cf(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function uf(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fg(t,e,n,r,i,s,o,a,l){return t=new f7(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y1(s),t}function p7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U3(t){if(!t)return Vi;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(En(n))return Uw(t,n,e)}return e}function V3(t,e,n,r,i,s,o,a,l){return t=fg(n,r,!0,t,i,s,o,a,l),t.context=U3(null),n=t.current,r=on(),i=Fi(n),s=Xr(r,i),s.callback=e??null,Ii(n,s,i),t.current.lanes=i,wc(t,i,r),Cn(t,r),t}function N0(t,e,n,r){var i=e.current,s=on(),o=Fi(i);return n=U3(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,o),t!==null&&(hr(t,i,o,s),Uu(t,i,o)),o}function Fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pg(t,e){yv(t,e),(t=t.alternate)&&yv(t,e)}function m7(){return null}var H3=typeof reportError=="function"?reportError:function(t){console.error(t)};function mg(t){this._internalRoot=t}T0.prototype.render=mg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));N0(t,e,null,null)};T0.prototype.unmount=mg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){N0(null,t,null,null)}),e[ri]=null}};function T0(t){this._internalRoot=t}T0.prototype.unstable_scheduleHydration=function(t){if(t){var e=_w();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&Ew(t)}};function gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function I0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _v(){}function g7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fh(o);s.call(c)}}var o=V3(e,r,t,0,null,!1,!1,"",_v);return t._reactRootContainer=o,t[ri]=o.current,Hl(t.nodeType===8?t.parentNode:t),Bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fh(l);a.call(c)}}var l=fg(t,0,!1,null,null,!1,!1,"",_v);return t._reactRootContainer=l,t[ri]=l.current,Hl(t.nodeType===8?t.parentNode:t),Bs(function(){N0(e,l,n,r)}),l}function R0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fh(o);a.call(l)}}N0(e,o,t,i)}else o=g7(n,e,t,i,r);return Fh(o)}vw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(M1(e,n|1),Cn(e,dt()),!(Te&6)&&(Zo=dt()+500,Yi()))}break;case 13:Bs(function(){var r=ii(t,1);if(r!==null){var i=on();hr(r,t,1,i)}}),pg(t,1)}};B1=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=on();hr(e,t,134217728,n)}pg(t,134217728)}};yw=function(t){if(t.tag===13){var e=Fi(t),n=ii(t,e);if(n!==null){var r=on();hr(n,t,e,r)}pg(t,e)}};_w=function(){return Le};ww=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Bp=function(t,e,n){switch(e){case"input":if(Np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=E0(r);if(!i)throw Error(z(90));Z_(r),Np(r,i)}}}break;case"textarea":ew(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};aw=cg;lw=Bs;var x7={usingClientEntryPoint:!1,Events:[Cc,Co,E0,sw,ow,cg]},Ya={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v7={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||m7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{v0=wu.inject(v7),Pr=wu}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x7;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gg(e))throw Error(z(200));return p7(t,e,null,n)};$n.createRoot=function(t,e){if(!gg(t))throw Error(z(299));var n=!1,r="",i=H3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fg(t,1,!1,null,null,n,!1,r,i),t[ri]=e.current,Hl(t.nodeType===8?t.parentNode:t),new mg(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=hw(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return Bs(t)};$n.hydrate=function(t,e,n){if(!I0(e))throw Error(z(200));return R0(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!gg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=H3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=V3(e,null,t,1,n??null,i,!1,s,o),t[ri]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new T0(e)};$n.render=function(t,e,n){if(!I0(e))throw Error(z(200));return R0(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!I0(t))throw Error(z(40));return t._reactRootContainer?(Bs(function(){R0(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};$n.unstable_batchedUpdates=cg;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!I0(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return R0(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z3)}catch(t){console.error(t)}}z3(),z_.exports=$n;var xg=z_.exports;const y7=E1(xg),_7=R_({__proto__:null,default:y7},[xg]);var W3,wv=xg;W3=wv.createRoot,wv.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Je(){return Je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Je.apply(this,arguments)}var mt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mt||(mt={}));const Ev="popstate";function w7(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:js(i)}return C7(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E7(){return Math.random().toString(36).substr(2,8)}function Cv(t,e){return{usr:t.state,key:t.key,idx:e}}function Zl(t,e,n,r){return n===void 0&&(n=null),Je({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xi(e):e,{state:n,key:e&&e.key||r||E7()})}function js(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=mt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Je({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=mt.Pop;let _=u(),y=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:y})}function f(_,y){a=mt.Push;let p=Zl(v.location,_,y);c=u()+1;let x=Cv(p,c),w=v.createHref(p);try{o.pushState(x,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(w)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,y){a=mt.Replace;let p=Zl(v.location,_,y);c=u();let x=Cv(p,c),w=v.createHref(p);o.replaceState(x,"",w),s&&l&&l({action:a,location:v.location,delta:0})}function g(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:js(_);return p=p.replace(/ $/,"%20"),_e(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let v={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ev,h),l=_,()=>{i.removeEventListener(Ev,h),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let y=g(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(_){return o.go(_)}};return v}var Oe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oe||(Oe={}));const S7=new Set(["lazy","caseSensitive","path","id","index","children"]);function b7(t){return t.index===!0}function Ph(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),b7(i)){let l=Je({},i,e(i),{id:a});return r[a]=l,l}else{let l=Je({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Ph(i.children,e,o,r)),l}})}function ms(t,e,n){return n===void 0&&(n="/"),Ku(t,e,n,!1)}function Ku(t,e,n,r){let i=typeof e=="string"?Xi(e):e,s=oi(i.pathname||"/",n);if(s==null)return null;let o=q3(t);k7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=L7(s);a=B7(o[l],c,r)}return a}function D7(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function q3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Zr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),q3(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:P7(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of G3(s.path))i(s,o,l)}),e}function G3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=G3(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function k7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:M7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A7=/^:[\w-]+$/,N7=3,T7=2,I7=1,R7=10,F7=-2,Sv=t=>t==="*";function P7(t,e){let n=t.split("/"),r=n.length;return n.some(Sv)&&(r+=F7),e&&(r+=T7),n.filter(i=>!Sv(i)).reduce((i,s)=>i+(A7.test(s)?N7:s===""?I7:R7),r)}function M7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function B7(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=Mh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Mh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Zr([s,h.pathname]),pathnameBase:U7(Zr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Zr([s,h.pathnameBase]))}return o}function Mh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function j7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function L7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xi(t):t;return{pathname:n?n.startsWith("/")?n:O7(n,e):e,search:V7(r),hash:H7(i)}}function O7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(t,e){let n=K3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xi(t):(i=Je({},t),_e(!i.pathname||!i.pathname.includes("?"),hf("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),hf("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),hf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=$7(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Zr=t=>t.join("/").replace(/\/\/+/g,"/"),U7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Bh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function F0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q3=["post","put","patch","delete"],z7=new Set(Q3),W7=["get",...Q3],q7=new Set(W7),G7=new Set([301,302,303,307,308]),K7=new Set([307,308]),df={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Q7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Y3="remix-router-transitions";function X7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let A=t.detectErrorBoundary;i=I=>({hasErrorBoundary:A(I)})}else i=Y7;let s={},o=Ph(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||tb,u=t.patchRoutesOnNavigation,h=Je({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,g=null,v=null,_=null,y=t.hydrationData!=null,p=ms(o,t.history.location,l),x=null;if(p==null&&!u){let A=mn(404,{pathname:t.history.location.pathname}),{matches:I,route:F}=Mv(o);p=I,x={[F.id]:A}}p&&!t.hydrationData&&cs(p,o,t.history.location.pathname).active&&(p=null);let w;if(p)if(p.some(A=>A.route.lazy))w=!1;else if(!p.some(A=>A.route.loader))w=!0;else if(h.v7_partialHydration){let A=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let F=p.findIndex(U=>I[U.route.id]!==void 0);w=p.slice(0,F+1).every(U=>!gm(U.route,A,I))}else w=p.every(F=>!gm(F.route,A,I))}else w=t.hydrationData!=null;else if(w=!1,p=[],h.v7_partialHydration){let A=cs(null,o,t.history.location.pathname);A.active&&A.matches&&(p=A.matches)}let C,E={historyAction:t.history.action,location:t.history.location,matches:p,initialized:w,navigation:df,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},S=mt.Pop,D=!1,T,b=!1,N=new Map,M=null,B=!1,q=!1,K=[],Z=new Set,re=new Map,$=0,V=-1,H=new Map,R=new Set,P=new Map,O=new Map,j=new Set,me=new Map,ce=new Map,je;function ue(){if(f=t.history.listen(A=>{let{action:I,location:F,delta:U}=A;if(je){je(),je=void 0;return}Jo(ce.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Zc({currentLocation:E.location,nextLocation:F,historyAction:I});if(X&&U!=null){let se=new Promise(fe=>{je=fe});t.history.go(U*-1),ls(X,{state:"blocked",location:F,proceed(){ls(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),se.then(()=>t.history.go(U))},reset(){let fe=new Map(E.blockers);fe.set(X,Xa),Ze({blockers:fe})}});return}return Vn(I,F)}),n){mb(e,N);let A=()=>gb(e,N);e.addEventListener("pagehide",A),M=()=>e.removeEventListener("pagehide",A)}return E.initialized||Vn(mt.Pop,E.location,{initialHydration:!0}),C}function tn(){f&&f(),M&&M(),m.clear(),T&&T.abort(),E.fetchers.forEach((A,I)=>as(I)),E.blockers.forEach((A,I)=>Xc(I))}function Un(A){return m.add(A),()=>m.delete(A)}function Ze(A,I){I===void 0&&(I={}),E=Je({},E,A);let F=[],U=[];h.v7_fetcherPersist&&E.fetchers.forEach((X,se)=>{X.state==="idle"&&(j.has(se)?U.push(se):F.push(se))}),[...m].forEach(X=>X(E,{deletedFetchers:U,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),h.v7_fetcherPersist&&(F.forEach(X=>E.fetchers.delete(X)),U.forEach(X=>as(X)))}function ht(A,I,F){var U,X;let{flushSync:se}=F===void 0?{}:F,fe=E.actionData!=null&&E.navigation.formMethod!=null&&sr(E.navigation.formMethod)&&E.navigation.state==="loading"&&((U=A.state)==null?void 0:U._isRedirect)!==!0,te;I.actionData?Object.keys(I.actionData).length>0?te=I.actionData:te=null:fe?te=E.actionData:te=null;let ne=I.loaderData?Fv(E.loaderData,I.loaderData,I.matches||[],I.errors):E.loaderData,ee=E.blockers;ee.size>0&&(ee=new Map(ee),ee.forEach((Ne,Rt)=>ee.set(Rt,Xa)));let ae=D===!0||E.navigation.formMethod!=null&&sr(E.navigation.formMethod)&&((X=A.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),B||S===mt.Pop||(S===mt.Push?t.history.push(A,A.state):S===mt.Replace&&t.history.replace(A,A.state));let Ee;if(S===mt.Pop){let Ne=N.get(E.location.pathname);Ne&&Ne.has(A.pathname)?Ee={currentLocation:E.location,nextLocation:A}:N.has(A.pathname)&&(Ee={currentLocation:A,nextLocation:E.location})}else if(b){let Ne=N.get(E.location.pathname);Ne?Ne.add(A.pathname):(Ne=new Set([A.pathname]),N.set(E.location.pathname,Ne)),Ee={currentLocation:E.location,nextLocation:A}}Ze(Je({},I,{actionData:te,loaderData:ne,historyAction:S,location:A,initialized:!0,navigation:df,revalidation:"idle",restoreScrollPosition:tu(A,I.matches||E.matches),preventScrollReset:ae,blockers:ee}),{viewTransitionOpts:Ee,flushSync:se===!0}),S=mt.Pop,D=!1,b=!1,B=!1,q=!1,K=[]}async function hn(A,I){if(typeof A=="number"){t.history.go(A);return}let F=mm(E.location,E.matches,l,h.v7_prependBasename,A,h.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:U,submission:X,error:se}=bv(h.v7_normalizeFormMethod,!1,F,I),fe=E.location,te=Zl(E.location,U,I&&I.state);te=Je({},te,t.history.encodeLocation(te));let ne=I&&I.replace!=null?I.replace:void 0,ee=mt.Push;ne===!0?ee=mt.Replace:ne===!1||X!=null&&sr(X.formMethod)&&X.formAction===E.location.pathname+E.location.search&&(ee=mt.Replace);let ae=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Ee=(I&&I.flushSync)===!0,Ne=Zc({currentLocation:fe,nextLocation:te,historyAction:ee});if(Ne){ls(Ne,{state:"blocked",location:te,proceed(){ls(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),hn(A,I)},reset(){let Rt=new Map(E.blockers);Rt.set(Ne,Xa),Ze({blockers:Rt})}});return}return await Vn(ee,te,{submission:X,pendingError:se,preventScrollReset:ae,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Ee})}function nn(){if(Cr(),Ze({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Vn(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Vn(S||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:b===!0})}}async function Vn(A,I,F){T&&T.abort(),T=null,S=A,B=(F&&F.startUninterruptedRevalidation)===!0,Md(E.location,E.matches),D=(F&&F.preventScrollReset)===!0,b=(F&&F.enableViewTransition)===!0;let U=a||o,X=F&&F.overrideNavigation,se=ms(U,I,l),fe=(F&&F.flushSync)===!0,te=cs(se,U,I.pathname);if(te.active&&te.matches&&(se=te.matches),!se){let{error:Ve,notFoundMatches:Re,route:ot}=no(I.pathname);ht(I,{matches:Re,loaderData:{},errors:{[ot.id]:Ve}},{flushSync:fe});return}if(E.initialized&&!q&&ab(E.location,I)&&!(F&&F.submission&&sr(F.submission.formMethod))){ht(I,{matches:se},{flushSync:fe});return}T=new AbortController;let ne=lo(t.history,I,T.signal,F&&F.submission),ee;if(F&&F.pendingError)ee=[gs(se).route.id,{type:Oe.error,error:F.pendingError}];else if(F&&F.submission&&sr(F.submission.formMethod)){let Ve=await ss(ne,I,F.submission,se,te.active,{replace:F.replace,flushSync:fe});if(Ve.shortCircuited)return;if(Ve.pendingActionResult){let[Re,ot]=Ve.pendingActionResult;if(Nn(ot)&&F0(ot.error)&&ot.error.status===404){T=null,ht(I,{matches:Ve.matches,loaderData:{},errors:{[Re]:ot.error}});return}}se=Ve.matches||se,ee=Ve.pendingActionResult,X=ff(I,F.submission),fe=!1,te.active=!1,ne=lo(t.history,ne.url,ne.signal)}let{shortCircuited:ae,matches:Ee,loaderData:Ne,errors:Rt}=await to(ne,I,se,te.active,X,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,fe,ee);ae||(T=null,ht(I,Je({matches:Ee||se},Pv(ee),{loaderData:Ne,errors:Rt})))}async function ss(A,I,F,U,X,se){se===void 0&&(se={}),Cr();let fe=fb(I,F);if(Ze({navigation:fe},{flushSync:se.flushSync===!0}),X){let ee=await ro(U,I.pathname,A.signal);if(ee.type==="aborted")return{shortCircuited:!0};if(ee.type==="error"){let ae=gs(ee.partialMatches).route.id;return{matches:ee.partialMatches,pendingActionResult:[ae,{type:Oe.error,error:ee.error}]}}else if(ee.matches)U=ee.matches;else{let{notFoundMatches:ae,error:Ee,route:Ne}=no(I.pathname);return{matches:ae,pendingActionResult:[Ne.id,{type:Oe.error,error:Ee}]}}}let te,ne=ul(U,I);if(!ne.route.action&&!ne.route.lazy)te={type:Oe.error,error:mn(405,{method:A.method,pathname:I.pathname,routeId:ne.route.id})};else if(te=(await Er("action",E,A,[ne],U,null))[ne.route.id],A.signal.aborted)return{shortCircuited:!0};if(_s(te)){let ee;return se&&se.replace!=null?ee=se.replace:ee=Tv(te.response.headers.get("Location"),new URL(A.url),l)===E.location.pathname+E.location.search,await Ut(A,te,!0,{submission:F,replace:ee}),{shortCircuited:!0}}if(bi(te))throw mn(400,{type:"defer-action"});if(Nn(te)){let ee=gs(U,ne.route.id);return(se&&se.replace)!==!0&&(S=mt.Push),{matches:U,pendingActionResult:[ee.route.id,te]}}return{matches:U,pendingActionResult:[ne.route.id,te]}}async function to(A,I,F,U,X,se,fe,te,ne,ee,ae){let Ee=X||ff(I,se),Ne=se||fe||jv(Ee),Rt=!B&&(!h.v7_partialHydration||!ne);if(U){if(Rt){let at=pi(ae);Ze(Je({navigation:Ee},at!==void 0?{actionData:at}:{}),{flushSync:ee})}let Ie=await ro(F,I.pathname,A.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let at=gs(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,loaderData:{},errors:{[at]:Ie.error}}}else if(Ie.matches)F=Ie.matches;else{let{error:at,notFoundMatches:so,route:Va}=no(I.pathname);return{matches:so,loaderData:{},errors:{[Va.id]:at}}}}let Ve=a||o,[Re,ot]=kv(t.history,E,F,Ne,I,h.v7_partialHydration&&ne===!0,h.v7_skipActionErrorRevalidation,q,K,Z,j,P,R,Ve,l,ae);if($a(Ie=>!(F&&F.some(at=>at.route.id===Ie))||Re&&Re.some(at=>at.route.id===Ie)),V=++$,Re.length===0&&ot.length===0){let Ie=ja();return ht(I,Je({matches:F,loaderData:{},errors:ae&&Nn(ae[1])?{[ae[0]]:ae[1].error}:null},Pv(ae),Ie?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(Rt){let Ie={};if(!U){Ie.navigation=Ee;let at=pi(ae);at!==void 0&&(Ie.actionData=at)}ot.length>0&&(Ie.fetchers=Pa(ot)),Ze(Ie,{flushSync:ee})}ot.forEach(Ie=>{pn(Ie.key),Ie.controller&&re.set(Ie.key,Ie.controller)});let io=()=>ot.forEach(Ie=>pn(Ie.key));T&&T.signal.addEventListener("abort",io);let{loaderResults:Oa,fetcherResults:Or}=await Ma(E,F,Re,ot,A);if(A.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",io),ot.forEach(Ie=>re.delete(Ie.key));let Sr=Eu(Oa);if(Sr)return await Ut(A,Sr.result,!0,{replace:te}),{shortCircuited:!0};if(Sr=Eu(Or),Sr)return R.add(Sr.key),await Ut(A,Sr.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:jd,errors:Ua}=Rv(E,F,Oa,ae,ot,Or,me);me.forEach((Ie,at)=>{Ie.subscribe(so=>{(so||Ie.done)&&me.delete(at)})}),h.v7_partialHydration&&ne&&E.errors&&(Ua=Je({},E.errors,Ua));let us=ja(),ru=La(V),iu=us||ru||ot.length>0;return Je({matches:F,loaderData:jd,errors:Ua},iu?{fetchers:new Map(E.fetchers)}:{})}function pi(A){if(A&&!Nn(A[1]))return{[A[0]]:A[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function Pa(A){return A.forEach(I=>{let F=E.fetchers.get(I.key),U=Za(void 0,F?F.data:void 0);E.fetchers.set(I.key,U)}),new Map(E.fetchers)}function os(A,I,F,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");pn(A);let X=(U&&U.flushSync)===!0,se=a||o,fe=mm(E.location,E.matches,l,h.v7_prependBasename,F,h.v7_relativeSplatPath,I,U==null?void 0:U.relative),te=ms(se,fe,l),ne=cs(te,se,fe);if(ne.active&&ne.matches&&(te=ne.matches),!te){er(A,I,mn(404,{pathname:fe}),{flushSync:X});return}let{path:ee,submission:ae,error:Ee}=bv(h.v7_normalizeFormMethod,!0,fe,U);if(Ee){er(A,I,Ee,{flushSync:X});return}let Ne=ul(te,ee),Rt=(U&&U.preventScrollReset)===!0;if(ae&&sr(ae.formMethod)){Dn(A,I,ee,Ne,te,ne.active,X,Rt,ae);return}P.set(A,{routeId:I,path:ee}),dn(A,I,ee,Ne,te,ne.active,X,Rt,ae)}async function Dn(A,I,F,U,X,se,fe,te,ne){Cr(),P.delete(A);function ee(ft){if(!ft.route.action&&!ft.route.lazy){let oo=mn(405,{method:ne.formMethod,pathname:F,routeId:I});return er(A,I,oo,{flushSync:fe}),!0}return!1}if(!se&&ee(U))return;let ae=E.fetchers.get(A);fn(A,pb(ne,ae),{flushSync:fe});let Ee=new AbortController,Ne=lo(t.history,F,Ee.signal,ne);if(se){let ft=await ro(X,F,Ne.signal);if(ft.type==="aborted")return;if(ft.type==="error"){er(A,I,ft.error,{flushSync:fe});return}else if(ft.matches){if(X=ft.matches,U=ul(X,F),ee(U))return}else{er(A,I,mn(404,{pathname:F}),{flushSync:fe});return}}re.set(A,Ee);let Rt=$,Re=(await Er("action",E,Ne,[U],X,A))[U.route.id];if(Ne.signal.aborted){re.get(A)===Ee&&re.delete(A);return}if(h.v7_fetcherPersist&&j.has(A)){if(_s(Re)||Nn(Re)){fn(A,xi(void 0));return}}else{if(_s(Re))if(re.delete(A),V>Rt){fn(A,xi(void 0));return}else return R.add(A),fn(A,Za(ne)),Ut(Ne,Re,!1,{fetcherSubmission:ne,preventScrollReset:te});if(Nn(Re)){er(A,I,Re.error);return}}if(bi(Re))throw mn(400,{type:"defer-action"});let ot=E.navigation.location||E.location,io=lo(t.history,ot,Ee.signal),Oa=a||o,Or=E.navigation.state!=="idle"?ms(Oa,E.navigation.location,l):E.matches;_e(Or,"Didn't find any matches after fetcher action");let Sr=++$;H.set(A,Sr);let jd=Za(ne,Re.data);E.fetchers.set(A,jd);let[Ua,us]=kv(t.history,E,Or,ne,ot,!1,h.v7_skipActionErrorRevalidation,q,K,Z,j,P,R,Oa,l,[U.route.id,Re]);us.filter(ft=>ft.key!==A).forEach(ft=>{let oo=ft.key,dx=E.fetchers.get(oo),W6=Za(void 0,dx?dx.data:void 0);E.fetchers.set(oo,W6),pn(oo),ft.controller&&re.set(oo,ft.controller)}),Ze({fetchers:new Map(E.fetchers)});let ru=()=>us.forEach(ft=>pn(ft.key));Ee.signal.addEventListener("abort",ru);let{loaderResults:iu,fetcherResults:Ie}=await Ma(E,Or,Ua,us,io);if(Ee.signal.aborted)return;Ee.signal.removeEventListener("abort",ru),H.delete(A),re.delete(A),us.forEach(ft=>re.delete(ft.key));let at=Eu(iu);if(at)return Ut(io,at.result,!1,{preventScrollReset:te});if(at=Eu(Ie),at)return R.add(at.key),Ut(io,at.result,!1,{preventScrollReset:te});let{loaderData:so,errors:Va}=Rv(E,Or,iu,void 0,us,Ie,me);if(E.fetchers.has(A)){let ft=xi(Re.data);E.fetchers.set(A,ft)}La(Sr),E.navigation.state==="loading"&&Sr>V?(_e(S,"Expected pending action"),T&&T.abort(),ht(E.navigation.location,{matches:Or,loaderData:so,errors:Va,fetchers:new Map(E.fetchers)})):(Ze({errors:Va,loaderData:Fv(E.loaderData,so,Or,Va),fetchers:new Map(E.fetchers)}),q=!1)}async function dn(A,I,F,U,X,se,fe,te,ne){let ee=E.fetchers.get(A);fn(A,Za(ne,ee?ee.data:void 0),{flushSync:fe});let ae=new AbortController,Ee=lo(t.history,F,ae.signal);if(se){let Re=await ro(X,F,Ee.signal);if(Re.type==="aborted")return;if(Re.type==="error"){er(A,I,Re.error,{flushSync:fe});return}else if(Re.matches)X=Re.matches,U=ul(X,F);else{er(A,I,mn(404,{pathname:F}),{flushSync:fe});return}}re.set(A,ae);let Ne=$,Ve=(await Er("loader",E,Ee,[U],X,A))[U.route.id];if(bi(Ve)&&(Ve=await wg(Ve,Ee.signal,!0)||Ve),re.get(A)===ae&&re.delete(A),!Ee.signal.aborted){if(j.has(A)){fn(A,xi(void 0));return}if(_s(Ve))if(V>Ne){fn(A,xi(void 0));return}else{R.add(A),await Ut(Ee,Ve,!1,{preventScrollReset:te});return}if(Nn(Ve)){er(A,I,Ve.error);return}_e(!bi(Ve),"Unhandled fetcher deferred data"),fn(A,xi(Ve.data))}}async function Ut(A,I,F,U){let{submission:X,fetcherSubmission:se,preventScrollReset:fe,replace:te}=U===void 0?{}:U;I.response.headers.has("X-Remix-Revalidate")&&(q=!0);let ne=I.response.headers.get("Location");_e(ne,"Expected a Location header on the redirect Response"),ne=Tv(ne,new URL(A.url),l);let ee=Zl(E.location,ne,{_isRedirect:!0});if(n){let Re=!1;if(I.response.headers.has("X-Remix-Reload-Document"))Re=!0;else if(_g.test(ne)){const ot=t.history.createURL(ne);Re=ot.origin!==e.location.origin||oi(ot.pathname,l)==null}if(Re){te?e.location.replace(ne):e.location.assign(ne);return}}T=null;let ae=te===!0||I.response.headers.has("X-Remix-Replace")?mt.Replace:mt.Push,{formMethod:Ee,formAction:Ne,formEncType:Rt}=E.navigation;!X&&!se&&Ee&&Ne&&Rt&&(X=jv(E.navigation));let Ve=X||se;if(K7.has(I.response.status)&&Ve&&sr(Ve.formMethod))await Vn(ae,ee,{submission:Je({},Ve,{formAction:ne}),preventScrollReset:fe||D,enableViewTransition:F?b:void 0});else{let Re=ff(ee,X);await Vn(ae,ee,{overrideNavigation:Re,fetcherSubmission:se,preventScrollReset:fe||D,enableViewTransition:F?b:void 0})}}async function Er(A,I,F,U,X,se){let fe,te={};try{fe=await nb(c,A,I,F,U,X,se,s,i)}catch(ne){return U.forEach(ee=>{te[ee.route.id]={type:Oe.error,error:ne}}),te}for(let[ne,ee]of Object.entries(fe))if(lb(ee)){let ae=ee.result;te[ne]={type:Oe.redirect,response:sb(ae,F,ne,X,l,h.v7_relativeSplatPath)}}else te[ne]=await ib(ee);return te}async function Ma(A,I,F,U,X){let se=A.matches,fe=Er("loader",A,X,F,I,null),te=Promise.all(U.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let Ne=(await Er("loader",A,lo(t.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:Ne}}else return Promise.resolve({[ae.key]:{type:Oe.error,error:mn(404,{pathname:ae.path})}})})),ne=await fe,ee=(await te).reduce((ae,Ee)=>Object.assign(ae,Ee),{});return await Promise.all([hb(I,ne,X.signal,se,A.loaderData),db(I,ee,U)]),{loaderResults:ne,fetcherResults:ee}}function Cr(){q=!0,K.push(...$a()),P.forEach((A,I)=>{re.has(I)&&Z.add(I),pn(I)})}function fn(A,I,F){F===void 0&&(F={}),E.fetchers.set(A,I),Ze({fetchers:new Map(E.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function er(A,I,F,U){U===void 0&&(U={});let X=gs(E.matches,I);as(A),Ze({errors:{[X.route.id]:F},fetchers:new Map(E.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Ba(A){return h.v7_fetcherPersist&&(O.set(A,(O.get(A)||0)+1),j.has(A)&&j.delete(A)),E.fetchers.get(A)||Q7}function as(A){let I=E.fetchers.get(A);re.has(A)&&!(I&&I.state==="loading"&&H.has(A))&&pn(A),P.delete(A),H.delete(A),R.delete(A),j.delete(A),Z.delete(A),E.fetchers.delete(A)}function mi(A){if(h.v7_fetcherPersist){let I=(O.get(A)||0)-1;I<=0?(O.delete(A),j.add(A)):O.set(A,I)}else as(A);Ze({fetchers:new Map(E.fetchers)})}function pn(A){let I=re.get(A);I&&(I.abort(),re.delete(A))}function Yc(A){for(let I of A){let F=Ba(I),U=xi(F.data);E.fetchers.set(I,U)}}function ja(){let A=[],I=!1;for(let F of R){let U=E.fetchers.get(F);_e(U,"Expected fetcher: "+F),U.state==="loading"&&(R.delete(F),A.push(F),I=!0)}return Yc(A),I}function La(A){let I=[];for(let[F,U]of H)if(U<A){let X=E.fetchers.get(F);_e(X,"Expected fetcher: "+F),X.state==="loading"&&(pn(F),H.delete(F),I.push(F))}return Yc(I),I.length>0}function Pd(A,I){let F=E.blockers.get(A)||Xa;return ce.get(A)!==I&&ce.set(A,I),F}function Xc(A){E.blockers.delete(A),ce.delete(A)}function ls(A,I){let F=E.blockers.get(A)||Xa;_e(F.state==="unblocked"&&I.state==="blocked"||F.state==="blocked"&&I.state==="blocked"||F.state==="blocked"&&I.state==="proceeding"||F.state==="blocked"&&I.state==="unblocked"||F.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+I.state);let U=new Map(E.blockers);U.set(A,I),Ze({blockers:U})}function Zc(A){let{currentLocation:I,nextLocation:F,historyAction:U}=A;if(ce.size===0)return;ce.size>1&&Jo(!1,"A router only supports one blocker at a time");let X=Array.from(ce.entries()),[se,fe]=X[X.length-1],te=E.blockers.get(se);if(!(te&&te.state==="proceeding")&&fe({currentLocation:I,nextLocation:F,historyAction:U}))return se}function no(A){let I=mn(404,{pathname:A}),F=a||o,{matches:U,route:X}=Mv(F);return $a(),{notFoundMatches:U,route:X,error:I}}function $a(A){let I=[];return me.forEach((F,U)=>{(!A||A(U))&&(F.cancel(),I.push(U),me.delete(U))}),I}function Jc(A,I,F){if(g=A,_=I,v=F||null,!y&&E.navigation===df){y=!0;let U=tu(E.location,E.matches);U!=null&&Ze({restoreScrollPosition:U})}return()=>{g=null,_=null,v=null}}function eu(A,I){return v&&v(A,I.map(U=>D7(U,E.loaderData)))||A.key}function Md(A,I){if(g&&_){let F=eu(A,I);g[F]=_()}}function tu(A,I){if(g){let F=eu(A,I),U=g[F];if(typeof U=="number")return U}return null}function cs(A,I,F){if(u)if(A){if(Object.keys(A[0].params).length>0)return{active:!0,matches:Ku(I,F,l,!0)}}else return{active:!0,matches:Ku(I,F,l,!0)||[]};return{active:!1,matches:null}}async function ro(A,I,F){if(!u)return{type:"success",matches:A};let U=A;for(;;){let X=a==null,se=a||o,fe=s;try{await u({path:I,matches:U,patch:(ee,ae)=>{F.aborted||Nv(ee,ae,se,fe,i)}})}catch(ee){return{type:"error",error:ee,partialMatches:U}}finally{X&&!F.aborted&&(o=[...o])}if(F.aborted)return{type:"aborted"};let te=ms(se,I,l);if(te)return{type:"success",matches:te};let ne=Ku(se,I,l,!0);if(!ne||U.length===ne.length&&U.every((ee,ae)=>ee.route.id===ne[ae].route.id))return{type:"success",matches:null};U=ne}}function Bd(A){s={},a=Ph(A,i,void 0,s)}function nu(A,I){let F=a==null;Nv(A,I,a||o,s,i),F&&(o=[...o],Ze({}))}return C={get basename(){return l},get future(){return h},get state(){return E},get routes(){return o},get window(){return e},initialize:ue,subscribe:Un,enableScrollRestoration:Jc,navigate:hn,fetch:os,revalidate:nn,createHref:A=>t.history.createHref(A),encodeLocation:A=>t.history.encodeLocation(A),getFetcher:Ba,deleteFetcher:mi,dispose:tn,getBlocker:Pd,deleteBlocker:Xc,patchRoutes:nu,_internalFetchControllers:re,_internalActiveDeferreds:me,_internalSetRoutes:Bd},C}function Z7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function mm(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=yg(i||".",vg(l,s),oi(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let h=Eg(u.search);if(c.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Zr([n,u.pathname])),js(u)}function bv(t,e,n,r){if(!r||!Z7(r))return{path:n};if(r.formMethod&&!ub(r.formMethod))return{path:n,error:mn(405,{method:r.formMethod})};let i=()=>({path:n,error:mn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=J3(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!sr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[v,_]=g;return""+m+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!sr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}_e(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=xm(r.formData),c=r.formData;else if(r.body instanceof FormData)l=xm(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Iv(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Iv(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(sr(u.formMethod))return{path:n,submission:u};let h=Xi(n);return e&&h.search&&Eg(h.search)&&l.append("index",""),h.search="?"+l,{path:js(h),submission:u}}function Dv(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function kv(t,e,n,r,i,s,o,a,l,c,u,h,f,m,g,v){let _=v?Nn(v[1])?v[1].error:v[1].data:void 0,y=t.createURL(e.location),p=t.createURL(i),x=n;s&&e.errors?x=Dv(n,Object.keys(e.errors)[0],!0):v&&Nn(v[1])&&(x=Dv(n,v[0]));let w=v?v[1].statusCode:void 0,C=o&&w&&w>=400,E=x.filter((D,T)=>{let{route:b}=D;if(b.lazy)return!0;if(b.loader==null)return!1;if(s)return gm(b,e.loaderData,e.errors);if(J7(e.loaderData,e.matches[T],D)||l.some(B=>B===D.route.id))return!0;let N=e.matches[T],M=D;return Av(D,Je({currentUrl:y,currentParams:N.params,nextUrl:p,nextParams:M.params},r,{actionResult:_,actionStatus:w,defaultShouldRevalidate:C?!1:a||y.pathname+y.search===p.pathname+p.search||y.search!==p.search||X3(N,M)}))}),S=[];return h.forEach((D,T)=>{if(s||!n.some(q=>q.route.id===D.routeId)||u.has(T))return;let b=ms(m,D.path,g);if(!b){S.push({key:T,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(T),M=ul(b,D.path),B=!1;f.has(T)?B=!1:c.has(T)?(c.delete(T),B=!0):N&&N.state!=="idle"&&N.data===void 0?B=a:B=Av(M,Je({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:w,defaultShouldRevalidate:C?!1:a})),B&&S.push({key:T,routeId:D.routeId,path:D.path,matches:b,match:M,controller:new AbortController})}),[E,S]}function gm(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function J7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function X3(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Av(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Nv(t,e,n,r,i){var s;let o;if(t){let c=r[t];_e(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>Z3(c,u))),l=Ph(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function Z3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>Z3(n,s))}):!1}async function eb(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_e(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Jo(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!S7.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Je({},e(i),{lazy:void 0}))}async function tb(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function nb(t,e,n,r,i,s,o,a,l,c){let u=s.map(m=>m.route.lazy?eb(m.route,l,a):void 0),h=s.map((m,g)=>{let v=u[g],_=i.some(p=>p.route.id===m.route.id);return Je({},m,{shouldLoad:_,resolve:async p=>(p&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(_=!0),_?rb(e,r,m,v,p,c):Promise.resolve({type:Oe.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function rb(t,e,n,r,i,s){let o,a,l=c=>{let u,h=new Promise((g,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let f=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...g!==void 0?[g]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(v=>f(v)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([m,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw mn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Oe.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw mn(404,{pathname:h})}_e(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Oe.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function ib(t){let{result:e,type:n}=t;if(e5(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Oe.error,error:u}}return n===Oe.error?{type:Oe.error,error:new Bh(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Oe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Oe.error){if(Bv(e)){var r;if(e.data instanceof Error){var i;return{type:Oe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Bh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Oe.error,error:e,statusCode:F0(e)?e.status:void 0}}if(cb(e)){var s,o;return{type:Oe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Bv(e)){var a,l;return{type:Oe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Oe.data,data:e}}function sb(t,e,n,r,i,s){let o=t.headers.get("Location");if(_e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!_g.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=mm(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Tv(t,e,n){if(_g.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=oi(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function lo(t,e,n,r){let i=t.createURL(J3(e)).toString(),s={signal:n};if(r&&sr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=xm(r.formData):s.body=r.formData}return new Request(i,s)}function xm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Iv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function ob(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&Nn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,m=e[f];if(_e(!_s(m),"Cannot handle redirect results in processLoaderData"),Nn(m)){let g=m.error;u!==void 0&&(g=u,u=void 0),o=o||{};{let v=gs(t,f);o[v.route.id]==null&&(o[v.route.id]=g)}s[f]=void 0,l||(l=!0,a=F0(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else bi(m)?(r.set(f,m.deferredData),s[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers)):(s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Rv(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=ob(e,n,r,o);return i.forEach(c=>{let{key:u,match:h,controller:f}=c,m=s[u];if(_e(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Nn(m)){let g=gs(t.matches,h==null?void 0:h.route.id);l&&l[g.route.id]||(l=Je({},l,{[g.route.id]:m.error})),t.fetchers.delete(u)}else if(_s(m))_e(!1,"Unhandled fetcher revalidation redirect");else if(bi(m))_e(!1,"Unhandled fetcher deferred data");else{let g=xi(m.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:l}}function Fv(t,e,n,r){let i=Je({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Pv(t){return t?Nn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function gs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Mv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Bh(t||500,a,new Error(l),!0)}function Eu(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(_s(i))return{key:r,result:i}}}function J3(t){let e=typeof t=="string"?Xi(t):t;return js(Je({},e,{hash:""}))}function ab(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function lb(t){return e5(t.result)&&G7.has(t.result.status)}function bi(t){return t.type===Oe.deferred}function Nn(t){return t.type===Oe.error}function _s(t){return(t&&t.type)===Oe.redirect}function Bv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function cb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function e5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ub(t){return q7.has(t.toLowerCase())}function sr(t){return z7.has(t.toLowerCase())}async function hb(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),h=u!=null&&!X3(u,c)&&(i&&i[c.route.id])!==void 0;bi(l)&&h&&await wg(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function db(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&bi(a)&&(_e(o,"Expected an AbortController for revalidating fetcher deferred result"),await wg(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function wg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Oe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Oe.error,error:i}}return{type:Oe.data,data:t.deferredData.data}}}function Eg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ul(t,e){let n=typeof e=="string"?Xi(e).search:e.search;if(t[t.length-1].route.index&&Eg(n||""))return t[t.length-1];let r=K3(t);return r[r.length-1]}function jv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ff(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Za(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function mb(t,e){try{let n=t.sessionStorage.getItem(Y3);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function gb(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Y3,JSON.stringify(n))}catch(r){Jo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}const bc=k.createContext(null),Cg=k.createContext(null),Zi=k.createContext(null),Sg=k.createContext(null),Ji=k.createContext({outlet:null,matches:[],isDataRoute:!1}),t5=k.createContext(null);function xb(t,e){let{relative:n}=e===void 0?{}:e;Dc()||_e(!1);let{basename:r,navigator:i}=k.useContext(Zi),{hash:s,pathname:o,search:a}=P0(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Dc(){return k.useContext(Sg)!=null}function kc(){return Dc()||_e(!1),k.useContext(Sg).location}function n5(t){k.useContext(Zi).static||k.useLayoutEffect(t)}function vb(){let{isDataRoute:t}=k.useContext(Ji);return t?Rb():yb()}function yb(){Dc()||_e(!1);let t=k.useContext(bc),{basename:e,future:n,navigator:r}=k.useContext(Zi),{matches:i}=k.useContext(Ji),{pathname:s}=kc(),o=JSON.stringify(vg(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return n5(()=>{a.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=yg(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zr([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}const _b=k.createContext(null);function wb(t){let e=k.useContext(Ji).outlet;return e&&k.createElement(_b.Provider,{value:t},e)}function P0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Zi),{matches:i}=k.useContext(Ji),{pathname:s}=kc(),o=JSON.stringify(vg(i,r.v7_relativeSplatPath));return k.useMemo(()=>yg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Eb(t,e,n,r){Dc()||_e(!1);let{navigator:i}=k.useContext(Zi),{matches:s}=k.useContext(Ji),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kc(),u;u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=ms(t,{pathname:f});return kb(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Zr([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Zr([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function Cb(){let t=Ib(),e=F0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const Sb=k.createElement(Cb,null);class bb extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Ji.Provider,{value:this.props.routeContext},k.createElement(t5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Db(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(bc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ji.Provider,{value:e},r)}function kb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||_e(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,g=!1,v=null,_=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Sb,l&&(c<0&&f===0?(g=!0,_=null):c===f&&(g=!0,_=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),p=()=>{let x;return m?x=v:g?x=_:h.route.Component?x=k.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,k.createElement(Db,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(bb,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var r5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r5||{}),Lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lh||{});function Ab(t){let e=k.useContext(bc);return e||_e(!1),e}function Nb(t){let e=k.useContext(Cg);return e||_e(!1),e}function Tb(t){let e=k.useContext(Ji);return e||_e(!1),e}function i5(t){let e=Tb(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function Ib(){var t;let e=k.useContext(t5),n=Nb(Lh.UseRouteError),r=i5(Lh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Rb(){let{router:t}=Ab(r5.UseNavigateStable),e=i5(Lh.UseNavigateStable),n=k.useRef(!1);return n5(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jh({fromRouteId:e},s)))},[t,e])}const Lv={};function Fb(t,e){Lv[e]||(Lv[e]=!0,console.warn(e))}const co=(t,e,n)=>Fb(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Pb(t,e){t!=null&&t.v7_startTransition||co("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&co("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||co("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||co("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||co("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||co("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Mb(t){return wb(t.context)}function Bb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mt.Pop,navigator:s,static:o=!1,future:a}=t;Dc()&&_e(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:jh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Xi(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,v=k.useMemo(()=>{let _=oi(u,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:g},navigationType:i}},[l,u,h,f,m,g,i]);return v==null?null:k.createElement(Zi.Provider,{value:c},k.createElement(Sg.Provider,{children:n,value:v}))}new Promise(()=>{});function jb(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function s5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $b(t,e){return t.button===0&&(!e||e==="_self")&&!Lb(t)}const Ob=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ub=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Vb="6";try{window.__reactRouterVersion=Vb}catch{}function Hb(t,e){return X7({basename:void 0,future:ea({},void 0,{v7_prependBasename:!0}),history:w7({window:void 0}),hydrationData:zb(),routes:t,mapRouteProperties:jb,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function zb(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ea({},e,{errors:Wb(e.errors)})),e}function Wb(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Bh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const o5=k.createContext({isTransitioning:!1}),qb=k.createContext(new Map),Gb="startTransition",$v=lS[Gb],Kb="flushSync",Ov=_7[Kb];function Qb(t){$v?$v(t):t()}function Ja(t){Ov?Ov(t):t()}let Yb=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Xb(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=k.useState(n.state),[o,a]=k.useState(),[l,c]=k.useState({isTransitioning:!1}),[u,h]=k.useState(),[f,m]=k.useState(),[g,v]=k.useState(),_=k.useRef(new Map),{v7_startTransition:y}=r||{},p=k.useCallback(D=>{y?Qb(D):D()},[y]),x=k.useCallback((D,T)=>{let{deletedFetchers:b,flushSync:N,viewTransitionOpts:M}=T;b.forEach(q=>_.current.delete(q)),D.fetchers.forEach((q,K)=>{q.data!==void 0&&_.current.set(K,q.data)});let B=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||B){N?Ja(()=>s(D)):p(()=>s(D));return}if(N){Ja(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let q=n.window.document.startViewTransition(()=>{Ja(()=>s(D))});q.finished.finally(()=>{Ja(()=>{h(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),Ja(()=>m(q));return}f?(u&&u.resolve(),f.skipTransition(),v({state:D,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(D),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,f,u,_,p]);k.useLayoutEffect(()=>n.subscribe(x),[n,x]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new Yb)},[l]),k.useEffect(()=>{if(u&&o&&n.window){let D=o,T=u.promise,b=n.window.document.startViewTransition(async()=>{p(()=>s(D)),await T});b.finished.finally(()=>{h(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(b)}},[p,o,u,n.window]),k.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),k.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),k.useEffect(()=>{},[]);let w=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,T,b)=>n.navigate(D,{state:T,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(D,T,b)=>n.navigate(D,{replace:!0,state:T,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),C=n.basename||"/",E=k.useMemo(()=>({router:n,navigator:w,static:!1,basename:C}),[n,w,C]),S=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.useEffect(()=>Pb(r,n.future),[r,n.future]),k.createElement(k.Fragment,null,k.createElement(bc.Provider,{value:E},k.createElement(Cg.Provider,{value:i},k.createElement(qb.Provider,{value:_.current},k.createElement(o5.Provider,{value:l},k.createElement(Bb,{basename:C,location:i.location,navigationType:i.historyAction,navigator:w,future:S},i.initialized||n.future.v7_partialHydration?k.createElement(Zb,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Zb=k.memo(Jb);function Jb(t){let{routes:e,future:n,state:r}=t;return Eb(e,void 0,r,n)}const eD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zr=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=s5(e,Ob),{basename:m}=k.useContext(Zi),g,v=!1;if(typeof c=="string"&&tD.test(c)&&(g=c,eD))try{let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c),C=oi(w.pathname,m);w.origin===x.origin&&C!=null?c=C+w.search+w.hash:v=!0}catch{}let _=xb(c,{relative:i}),y=rD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function p(x){r&&r(x),x.defaultPrevented||y(x)}return k.createElement("a",ea({},f,{href:g||_,onClick:v||s?r:p,ref:n,target:l}))}),Hn=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,h=s5(e,Ub),f=P0(l,{relative:h.relative}),m=kc(),g=k.useContext(Cg),{navigator:v,basename:_}=k.useContext(Zi),y=g!=null&&iD(f)&&c===!0,p=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=m.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&_&&(w=oi(w,_)||w);const C=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=x===p||!o&&x.startsWith(p)&&x.charAt(C)==="/",S=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),D={isActive:E,isPending:S,isTransitioning:y},T=E?r:void 0,b;typeof s=="function"?b=s(D):b=[s,E?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(D):a;return k.createElement(zr,ea({},h,{"aria-current":T,className:b,ref:n,style:N,to:l,viewTransition:c}),typeof u=="function"?u(D):u)});var vm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vm||(vm={}));var Uv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Uv||(Uv={}));function nD(t){let e=k.useContext(bc);return e||_e(!1),e}function rD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=vb(),c=kc(),u=P0(t,{relative:o});return k.useCallback(h=>{if($b(h,n)){h.preventDefault();let f=r!==void 0?r:js(c)===js(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function iD(t,e){e===void 0&&(e={});let n=k.useContext(o5);n==null&&_e(!1);let{basename:r}=nD(vm.useViewTransitionState),i=P0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mh(i.pathname,o)!=null||Mh(i.pathname,s)!=null}function sD({setPortion:t,portion:e}){return d.jsxs("div",{className:"flex gap-10 items-center justify-between pb-6",children:[d.jsx("h2",{className:"text-4xl font-sans font-medium",children:"Forming Machine"}),d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"checkbox",name:"fAll",id:"fAll",className:"w-4 h-4",checked:e=="all",onClick:()=>t("all")}),d.jsx("label",{htmlFor:"fAll",className:"text-xl",children:"All"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"checkbox",name:"fActive",id:"fActive",className:"w-4 h-4",checked:e=="active",onClick:()=>t("active")}),d.jsx("label",{htmlFor:"fActive",className:"text-xl",children:"Active"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"checkbox",name:"fIdle",id:"fIdle",className:"w-4 h-4",checked:e=="idle",onClick:()=>t("idle")}),d.jsx("label",{htmlFor:"fIdle",className:"text-xl",children:"Idle"})]})]})]})}const oD="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='47'%20height='47'%20rx='23.5'%20stroke='white'/%3e%3cpath%20d='M18.0625%2021.625C18.0625%2021.2798%2018.3423%2021%2018.6875%2021H22.125C22.2484%2021%2022.369%2021.0365%2022.4717%2021.105L24%2022.1238L25.5283%2021.105C25.631%2021.0365%2025.7516%2021%2025.875%2021H29.3125C29.6577%2021%2029.9375%2021.2798%2029.9375%2021.625C29.9375%2021.9702%2029.6577%2022.25%2029.3125%2022.25H26.0642L24.3467%2023.395C24.1368%2023.535%2023.8632%2023.535%2023.6533%2023.395L21.9358%2022.25H18.6875C18.3423%2022.25%2018.0625%2021.9702%2018.0625%2021.625Z'%20fill='white'/%3e%3cpath%20d='M25.5312%2033.75C25.1861%2033.75%2024.9062%2034.0298%2024.9062%2034.375C24.9062%2034.7202%2025.1861%2035%2025.5312%2035H28.3438C28.6889%2035%2028.9688%2034.7202%2028.9688%2034.375C28.9688%2034.0298%2028.6889%2033.75%2028.3438%2033.75H25.5312Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M23.0312%2031.25C22.6861%2031.25%2022.4062%2031.5298%2022.4062%2031.875V36.875C22.4062%2037.2202%2022.6861%2037.5%2023.0312%2037.5H30.8438C31.1889%2037.5%2031.4688%2037.2202%2031.4688%2036.875V31.875C31.4688%2031.5298%2031.1889%2031.25%2030.8438%2031.25H23.0312ZM23.6562%2036.25V32.5H30.2188V36.25H23.6562Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18.5312%208C18.1861%208%2017.9062%208.27982%2017.9062%208.625V9.71875H11.6562C11.3111%209.71875%2011.0312%209.99857%2011.0312%2010.3438V12.8438C11.0312%2013.1889%2011.3111%2013.4688%2011.6562%2013.4688H14V26.875C14%2027.2202%2014.2798%2027.5%2014.625%2027.5H15.5625V28.75H14.625C14.2798%2028.75%2014%2029.0298%2014%2029.375V39.375C14%2039.7202%2014.2798%2040%2014.625%2040H33.375C33.7202%2040%2034%2039.7202%2034%2039.375V29.375C34%2029.0298%2033.7202%2028.75%2033.375%2028.75H32.4375V27.5H33.375C33.7202%2027.5%2034%2027.2202%2034%2026.875V13.4688H36.3438C36.6889%2013.4688%2036.9688%2013.1889%2036.9688%2012.8438V10.3438C36.9688%209.99857%2036.6889%209.71875%2036.3438%209.71875H30.0938V8.625C30.0938%208.27982%2029.8139%208%2029.4688%208H18.5312ZM32.75%2013.4688H30.0938V14.5625C30.0938%2014.9077%2029.8139%2015.1875%2029.4688%2015.1875H26.5V17.9375C26.5%2018.1033%2026.4342%2018.2622%2026.3169%2018.3794L24.4419%2020.2544C24.1979%2020.4985%2023.8021%2020.4985%2023.5581%2020.2544L21.6831%2018.3794C21.5658%2018.2622%2021.5%2018.1033%2021.5%2017.9375V15.1875H18.5312C18.1861%2015.1875%2017.9062%2014.9077%2017.9062%2014.5625V13.4688H15.25V26.25H18.0625V24.6875C18.0625%2024.3423%2018.3423%2024.0625%2018.6875%2024.0625H22.125C22.2484%2024.0625%2022.369%2024.099%2022.4717%2024.1675L24%2025.1863L25.5283%2024.1675C25.631%2024.099%2025.7516%2024.0625%2025.875%2024.0625H29.3125C29.6577%2024.0625%2029.9375%2024.3423%2029.9375%2024.6875V26.25H32.75V13.4688ZM35.7188%2012.2188V10.9688H30.0938V12.2188H35.7188ZM28.8438%209.25H19.1562V13.9375H28.8438V9.25ZM17.9062%2012.2188V10.9688H12.2812V12.2188H17.9062ZM25.25%2015.1875H22.75V17.6786L24%2018.9286L25.25%2017.6786V15.1875ZM28.6875%2025.3125H26.0642L24.3467%2026.4575C24.1367%2026.5975%2023.8632%2026.5975%2023.6533%2026.4575L21.9358%2025.3125H19.3125V28.75H28.6875V25.3125ZM31.1875%2027.5H29.9375V28.75H31.1875V27.5ZM16.8125%2028.75H18.0625V27.5H16.8125V28.75ZM15.25%2030V38.75H32.75V30H15.25Z'%20fill='white'/%3e%3c/svg%3e";var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(t,e){if(!t)throw Ea(e)},Ea=function(t){return new Error("Firebase Database ("+a5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new lD;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c5=function(t){const e=l5(t);return bg.encodeByteArray(e,!0)},$h=function(t){return c5(t).replace(/\./g,"")},ym=function(t){try{return bg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){return u5(void 0,t)}function u5(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!uD(n)||(t[n]=u5(t[n],e[n]));return t}function uD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=()=>hD().__FIREBASE_DEFAULTS__,fD=()=>{if(typeof process>"u"||typeof Vv>"u")return;const t=Vv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ym(t[1]);return e&&JSON.parse(e)},h5=()=>{try{return dD()||fD()||pD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mD=t=>{var e,n;return(n=(e=h5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},d5=t=>{const e=mD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f5=()=>{var t;return(t=h5())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$h(JSON.stringify(n)),$h(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gD())}function xD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g5(){return a5.NODE_ADMIN===!0}function vD(){try{return typeof indexedDB=="object"}catch{return!1}}function yD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="FirebaseError";class Ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_D,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x5.prototype.create)}}class x5{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ca(i,a,r)}}function wD(t,e){return t.replace(ED,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ED=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){return JSON.parse(t)}function Mt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Jl(ym(s[0])||""),n=Jl(ym(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},CD=function(t){const e=v5(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},SD=function(t){const e=v5(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ta(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Hv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function _m(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zv(s)&&zv(o)){if(!_m(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function kD(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Q(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M0=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class na{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ID(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TD(t){return t===fs?void 0:t}function ID(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ND(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const FD={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},PD=Fe.INFO,MD={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},BD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=PD,this._logHandler=BD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const jD=(t,e)=>e.some(n=>t instanceof n);let Wv,qv;function LD(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $D(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y5=new WeakMap,wm=new WeakMap,_5=new WeakMap,pf=new WeakMap,Ag=new WeakMap;function OD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&y5.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function UD(t){if(wm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wm.set(t,e)}let Em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VD(t){Em=t(Em)}function HD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mf(this),e,...n);return _5.set(r,e.sort?e.sort():[e]),Mi(r)}:$D().includes(t)?function(...e){return t.apply(mf(this),e),Mi(y5.get(this))}:function(...e){return Mi(t.apply(mf(this),e))}}function zD(t){return typeof t=="function"?HD(t):(t instanceof IDBTransaction&&UD(t),jD(t,LD())?new Proxy(t,Em):t)}function Mi(t){if(t instanceof IDBRequest)return OD(t);if(pf.has(t))return pf.get(t);const e=zD(t);return e!==t&&(pf.set(t,e),Ag.set(e,t)),e}const mf=t=>Ag.get(t);function WD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const qD=["get","getKey","getAll","getAllKeys","count"],GD=["put","add","delete","clear"],gf=new Map;function Gv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return gf.set(e,s),s}VD(t=>({...t,get:(e,n,r)=>Gv(e,n)||t.get(e,n,r),has:(e,n)=>!!Gv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Kv="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new kg("@firebase/app"),YD="@firebase/app-compat",XD="@firebase/analytics-compat",ZD="@firebase/analytics",JD="@firebase/app-check-compat",ek="@firebase/app-check",tk="@firebase/auth",nk="@firebase/auth-compat",rk="@firebase/database",ik="@firebase/database-compat",sk="@firebase/functions",ok="@firebase/functions-compat",ak="@firebase/installations",lk="@firebase/installations-compat",ck="@firebase/messaging",uk="@firebase/messaging-compat",hk="@firebase/performance",dk="@firebase/performance-compat",fk="@firebase/remote-config",pk="@firebase/remote-config-compat",mk="@firebase/storage",gk="@firebase/storage-compat",xk="@firebase/firestore",vk="@firebase/firestore-compat",yk="firebase",_k="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",wk={[Cm]:"fire-core",[YD]:"fire-core-compat",[ZD]:"fire-analytics",[XD]:"fire-analytics-compat",[ek]:"fire-app-check",[JD]:"fire-app-check-compat",[tk]:"fire-auth",[nk]:"fire-auth-compat",[rk]:"fire-rtdb",[ik]:"fire-rtdb-compat",[sk]:"fire-fn",[ok]:"fire-fn-compat",[ak]:"fire-iid",[lk]:"fire-iid-compat",[ck]:"fire-fcm",[uk]:"fire-fcm-compat",[hk]:"fire-perf",[dk]:"fire-perf-compat",[fk]:"fire-rc",[pk]:"fire-rc-compat",[mk]:"fire-gcs",[gk]:"fire-gcs-compat",[xk]:"fire-fst",[vk]:"fire-fst-compat","fire-js":"fire-js",[yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,bm=new Map;function Ek(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ec(t){const e=t.name;if(bm.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,t);for(const n of Uh.values())Ek(n,t);return!0}function w5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bi=new x5("app","Firebase",Ck);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=_k;function C5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=f5()),!n)throw Bi.create("no-options");const s=Uh.get(i);if(s){if(_m(n,s.options)&&_m(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new RD(i);for(const l of bm.values())o.addComponent(l);const a=new Sk(n,r,o);return Uh.set(i,a),a}function S5(t=Sm){const e=Uh.get(t);if(!e&&t===Sm&&f5())return C5();if(!e)throw Bi.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let i=(r=wk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(a.join(" "));return}ec(new na(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firebase-heartbeat-database",Dk=1,tc="firebase-heartbeat-store";let xf=null;function b5(){return xf||(xf=WD(bk,Dk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(tc)}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),xf}async function kk(t){try{return await(await b5()).transaction(tc).objectStore(tc).get(D5(t))}catch(e){if(e instanceof Ca)Ls.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function Qv(t,e){try{const r=(await b5()).transaction(tc,"readwrite");await r.objectStore(tc).put(e,D5(t)),await r.done}catch(n){if(n instanceof Ca)Ls.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}}function D5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1024,Nk=30*24*60*60*1e3;class Tk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Yv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Nk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:n,unsentEntries:r}=Ik(this._heartbeatsCache.heartbeats),i=$h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Yv(){return new Date().toISOString().substring(0,10)}function Ik(t,e=Ak){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vD()?yD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await kk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xv(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){ec(new na("platform-logger",e=>new KD(e),"PRIVATE")),ec(new na("heartbeat",e=>new Tk(e),"PRIVATE")),ji(Cm,Kv,t),ji(Cm,Kv,"esm2017"),ji("fire-js","")}Fk("");var Pk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,Ng=Ng||{},de=Pk||self;function B0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function j0(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Mk(t){return Object.prototype.hasOwnProperty.call(t,vf)&&t[vf]||(t[vf]=++Bk)}var vf="closure_uid_"+(1e9*Math.random()>>>0),Bk=0;function jk(t,e,n){return t.call.apply(t.bind,arguments)}function Lk(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=jk:Xt=Lk,Xt.apply(null,arguments)}function Cu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}var $k=0;es.prototype.s=!1;es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$k!=0)&&Mk(this)};es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k5=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(B0(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var Ok=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return t}();function nc(t){return/^[\s\xa0]*$/.test(t)}function L0(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function Nr(t){return L0().indexOf(t)!=-1}function Ig(t){return Ig[" "](t),t}Ig[" "]=function(){};function Uk(t,e){var n=PA;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Vk=Nr("Opera"),ra=Nr("Trident")||Nr("MSIE"),A5=Nr("Edge"),Dm=A5||ra,N5=Nr("Gecko")&&!(L0().toLowerCase().indexOf("webkit")!=-1&&!Nr("Edge"))&&!(Nr("Trident")||Nr("MSIE"))&&!Nr("Edge"),Hk=L0().toLowerCase().indexOf("webkit")!=-1&&!Nr("Edge");function T5(){var t=de.document;return t?t.documentMode:void 0}var km;e:{var yf="",_f=function(){var t=L0();if(N5)return/rv:([^\);]+)(\)|;)/.exec(t);if(A5)return/Edge\/([\d\.]+)/.exec(t);if(ra)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Hk)return/WebKit\/(\S+)/.exec(t);if(Vk)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(_f&&(yf=_f?_f[1]:""),ra){var wf=T5();if(wf!=null&&wf>parseFloat(yf)){km=String(wf);break e}}km=yf}var Am;if(de.document&&ra){var Jv=T5();Am=Jv||parseInt(km,10)||void 0}else Am=void 0;var zk=Am;function rc(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(N5){e:{try{Ig(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Wk[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rc.$.h.call(this)}}Tt(rc,Zt);var Wk={2:"touch",3:"pen",4:"mouse"};rc.prototype.h=function(){rc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $0="closure_listenable_"+(1e6*Math.random()|0),qk=0;function Gk(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++qk,this.fa=this.ia=!1}function O0(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Kk(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function I5(t){const e={};for(const n in t)e[n]=t[n];return e}const ey="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R5(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ey.length;s++)n=ey[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U0(t){this.src=t,this.g={},this.h=0}U0.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Tm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Gk(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Nm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=k5(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(O0(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Fg="closure_lm_"+(1e6*Math.random()|0),Ef={};function F5(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)F5(t,e[s],n,r,i);return null}return n=B5(n),t&&t[$0]?t.O(e,n,j0(r)?!!r.capture:!!r,i):Qk(t,e,n,!1,r,i)}function Qk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=j0(i)?!!i.capture:!!i,a=Mg(t);if(a||(t[Fg]=a=new U0(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Yk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ok||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(M5(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Yk(){function t(n){return e.call(t.src,t.listener,n)}const e=Xk;return t}function P5(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)P5(t,e[s],n,r,i);else r=j0(r)?!!r.capture:!!r,n=B5(n),t&&t[$0]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Tm(s,n,r,i),-1<n&&(O0(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Mg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tm(e,n,r,i)),(n=-1<t?e[t]:null)&&Pg(n))}function Pg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$0])Nm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(M5(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Mg(e))?(Nm(n,t),n.h==0&&(n.src=null,e[Fg]=null)):O0(t)}}}function M5(t){return t in Ef?Ef[t]:Ef[t]="on"+t}function Xk(t,e){if(t.fa)t=!0;else{e=new rc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Pg(t),t=n.call(r,e)}return t}function Mg(t){return t=t[Fg],t instanceof U0?t:null}var Cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function B5(t){return typeof t=="function"?t:(t[Cf]||(t[Cf]=function(e){return t.handleEvent(e)}),t[Cf])}function Nt(){es.call(this),this.i=new U0(this),this.S=this,this.J=null}Tt(Nt,es);Nt.prototype[$0]=!0;Nt.prototype.removeEventListener=function(t,e,n,r){P5(this,t,e,n,r)};function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var i=e;e=new Zt(r,t),R5(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Su(o,r,!0,e)&&i}if(o=e.g=t,i=Su(o,r,!0,e)&&i,i=Su(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Su(o,r,!1,e)&&i}Nt.prototype.N=function(){if(Nt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)O0(n[r]);delete t.g[e],t.h--}}this.J=null};Nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Nt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Su(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Nm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Bg=de.JSON.stringify;class Zk{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Jk(){var t=jg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class eA{constructor(){this.h=this.g=null}add(e,n){const r=j5.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var j5=new Zk(()=>new tA,t=>t.reset());class tA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nA(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rA(t){de.setTimeout(()=>{throw t},0)}let ic,sc=!1,jg=new eA,L5=()=>{const t=de.Promise.resolve(void 0);ic=()=>{t.then(iA)}};var iA=()=>{for(var t;t=Jk();){try{t.h.call(t.g)}catch(n){rA(n)}var e=j5;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}sc=!1};function V0(t,e){Nt.call(this),this.h=t||1,this.g=e||de,this.j=Xt(this.qb,this),this.l=Date.now()}Tt(V0,Nt);Y=V0.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(Lg(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){V0.$.N.call(this),Lg(this),delete this.g};function $g(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function $5(t){t.g=$g(()=>{t.g=null,t.i&&(t.i=!1,$5(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sA extends es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$5(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oc(t){es.call(this),this.h=t,this.g={}}Tt(oc,es);var ty=[];function O5(t,e,n,r){Array.isArray(n)||(n&&(ty[0]=n.toString()),n=ty);for(var i=0;i<n.length;i++){var s=F5(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function U5(t){Rg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pg(e)},t),t.g={}}oc.prototype.N=function(){oc.$.N.call(this),U5(this)};oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function H0(){this.g=!0}H0.prototype.Ea=function(){this.g=!1};function oA(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function aA(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function To(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+cA(t,n)+(r?" "+r:"")})}function lA(t,e){t.info(function(){return"TIMEOUT: "+e})}H0.prototype.info=function(){};function cA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Bg(n)}catch{return e}}var Gs={},ny=null;function z0(){return ny=ny||new Nt}Gs.Ta="serverreachability";function V5(t){Zt.call(this,Gs.Ta,t)}Tt(V5,Zt);function ac(t){const e=z0();jt(e,new V5(e))}Gs.STAT_EVENT="statevent";function H5(t,e){Zt.call(this,Gs.STAT_EVENT,t),this.stat=e}Tt(H5,Zt);function sn(t){const e=z0();jt(e,new H5(e,t))}Gs.Ua="timingevent";function z5(t,e){Zt.call(this,Gs.Ua,t),this.size=e}Tt(z5,Zt);function Ac(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var W0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},W5={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Og(){}Og.prototype.h=null;function ry(t){return t.h||(t.h=t.i())}function q5(){}var Nc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ug(){Zt.call(this,"d")}Tt(Ug,Zt);function Vg(){Zt.call(this,"c")}Tt(Vg,Zt);var Im;function q0(){}Tt(q0,Og);q0.prototype.g=function(){return new XMLHttpRequest};q0.prototype.i=function(){return{}};Im=new q0;function Tc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new oc(this),this.P=uA,t=Dm?125:void 0,this.V=new V0(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new G5}function G5(){this.i=null,this.g="",this.h=!1}var uA=45e3,Rm={},Vh={};Y=Tc.prototype;Y.setTimeout=function(t){this.P=t};function Fm(t,e,n){t.L=1,t.v=K0(ai(e)),t.s=n,t.S=!0,K5(t,null)}function K5(t,e){t.G=Date.now(),Ic(t),t.A=ai(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),nE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new G5,t.g=CE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new sA(Xt(t.Pa,t,t.g),t.O)),O5(t.U,t.g,"readystatechange",t.nb),e=t.I?I5(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ac(),oA(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&Tr(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const u=Tr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Dm||this.g&&(this.h.h||this.g.ja()||ay(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?ac(3):ac(2)),G0(this);var n=this.g.da();this.ca=n;t:if(Q5(this)){var r=ay(this.g);t="";var i=r.length,s=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Dl(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,aA(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nc(a)){var c=a;break t}}c=null}if(n=c)To(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pm(this,n);else{this.i=!1,this.o=3,sn(12),ws(this),Dl(this);break e}}this.S?(Y5(this,u,o),Dm&&this.i&&u==3&&(O5(this.U,this.V,"tick",this.mb),this.V.start())):(To(this.j,this.m,o,null),Pm(this,o)),u==4&&ws(this),this.i&&!this.J&&(u==4?yE(this.l,this):(this.i=!1,Ic(this)))}else IA(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),ws(this),Dl(this)}}}catch{}finally{}};function Q5(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Y5(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=hA(t,n),i==Vh){e==4&&(t.o=4,sn(14),r=!1),To(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Rm){t.o=4,sn(15),To(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else To(t.j,t.m,i,null),Pm(t,i);Q5(t)&&i!=Vh&&i!=Rm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kg(e),e.M=!0,sn(11))):(To(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),Dl(t))}Y.mb=function(){if(this.g){var t=Tr(this.g),e=this.g.ja();this.C<e.length&&(G0(this),Y5(this,t,e),this.i&&t!=4&&Ic(this))}};function hA(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Vh:(n=Number(e.substring(n,r)),isNaN(n)?Rm:(r+=1,r+n>e.length?Vh:(e=e.slice(r,r+n),t.C=r+n,e)))}Y.cancel=function(){this.J=!0,ws(this)};function Ic(t){t.Y=Date.now()+t.P,X5(t,t.P)}function X5(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ac(Xt(t.lb,t),e)}function G0(t){t.B&&(de.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(lA(this.j,this.A),this.L!=2&&(ac(),sn(17)),ws(this),this.o=2,Dl(this)):X5(this,this.Y-t)};function Dl(t){t.l.H==0||t.J||yE(t.l,t)}function ws(t){G0(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lg(t.V),U5(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Mm(n.i,t))){if(!t.K&&Mm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Wh(n),X0(n);else break e;Gg(n),sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ac(Xt(n.ib,n),6e3));if(1>=sE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Es(n,11)}else if((t.K||n.g==t)&&Wh(n),!nc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hg(s,s.h),s.h=null))}if(r.F){const v=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ke(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=EE(r,r.J?r.pa:null,r.Y),o.K){oE(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(G0(a),Ic(a)),r.g=o}else xE(r);0<n.j.length&&Z0(n)}else c[0]!="stop"&&c[0]!="close"||Es(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Es(n,7):qg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ac(4)}catch{}}function dA(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(B0(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fA(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(B0(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Z5(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(B0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=fA(t),r=dA(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var J5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function As(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof As){this.h=t.h,Hh(this,t.j),this.s=t.s,this.g=t.g,zh(this,t.m),this.l=t.l;var e=t.i,n=new lc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iy(this,n),this.o=t.o}else t&&(e=String(t).match(J5))?(this.h=!1,Hh(this,e[1]||"",!0),this.s=hl(e[2]||""),this.g=hl(e[3]||"",!0),zh(this,e[4]),this.l=hl(e[5]||"",!0),iy(this,e[6]||"",!0),this.o=hl(e[7]||"")):(this.h=!1,this.i=new lc(null,this.h))}As.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dl(e,sy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dl(e,sy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dl(n,n.charAt(0)=="/"?xA:gA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dl(n,yA)),t.join("")};function ai(t){return new As(t)}function Hh(t,e,n){t.j=n?hl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iy(t,e,n){e instanceof lc?(t.i=e,_A(t.i,t.h)):(n||(e=dl(e,vA)),t.i=new lc(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function K0(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,mA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sy=/[#\/\?@]/g,gA=/[#\?:]/g,xA=/[#\?]/g,vA=/[#\?@]/g,yA=/#/g;function lc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ts(t){t.g||(t.g=new Map,t.h=0,t.i&&pA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=lc.prototype;Y.add=function(t,e){ts(this),this.i=null,t=Sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function eE(t,e){ts(t),e=Sa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tE(t,e){return ts(t),e=Sa(t,e),t.g.has(e)}Y.forEach=function(t,e){ts(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){ts(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Y.Z=function(t){ts(this);let e=[];if(typeof t=="string")tE(this,t)&&(e=e.concat(this.g.get(Sa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return ts(this),this.i=null,t=Sa(this,t),tE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function nE(t,e,n){eE(t,e),0<n.length&&(t.i=null,t.g.set(Sa(t,e),Tg(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _A(t,e){e&&!t.j&&(ts(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eE(this,r),nE(this,i,n))},t)),t.j=e}var wA=class{constructor(t,e){this.g=t,this.map=e}};function rE(t){this.l=t||EA,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var EA=10;function iE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sE(t){return t.h?1:t.g?t.g.size:0}function Mm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hg(t,e){t.g?t.g.add(e):t.h=e}function oE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rE.prototype.cancel=function(){if(this.i=aE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function aE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Tg(t.i)}var CA=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function SA(){this.g=new CA}function bA(t,e,n){const r=n||"";try{Z5(t,function(i,s){let o=i;j0(i)&&(o=Bg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function DA(t,e){const n=new H0;if(de.Image){const r=new Image;r.onload=Cu(bu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Cu(bu,n,r,"TestLoadImage: error",!1,e),r.onabort=Cu(bu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cu(bu,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rc(t){this.l=t.fc||null,this.j=t.ob||!1}Tt(Rc,Og);Rc.prototype.g=function(){return new Q0(this.l,this.j)};Rc.prototype.i=function(t){return function(){return t}}({});function Q0(t,e){Nt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt(Q0,Nt);var zg=0;Y=Q0.prototype;Y.open=function(t,e){if(this.readyState!=zg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cc(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=zg};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cc(this)),this.g&&(this.readyState=3,cc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fc(this):cc(this),this.readyState==3&&lE(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Fc(this))};Y.Ya=function(t){this.g&&(this.response=t,Fc(this))};Y.ka=function(){this.g&&Fc(this)};function Fc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cc(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Q0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kA=de.JSON.parse;function ut(t){Nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cE,this.L=this.M=!1}Tt(ut,Nt);var cE="",AA=/^https?$/i,NA=["POST","PUT"];Y=ut.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Im.g(),this.C=this.u?ry(this.u):ry(Im),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){oy(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=k5(NA,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dE(this),0<this.B&&((this.L=TA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=$g(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){oy(this,s)}};function TA(t){return ra&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof Ng<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function oy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uE(t),Y0(t)}function uE(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),Y0(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Y0(this,!0)),ut.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?hE(this):this.kb())};Y.kb=function(){hE(this)};function hE(t){if(t.h&&typeof Ng<"u"&&(!t.C[1]||Tr(t)!=4||t.da()!=2)){if(t.v&&Tr(t)==4)$g(t.La,0,t);else if(jt(t,"readystatechange"),Tr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(J5)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!AA.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var s=2<Tr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",uE(t)}}finally{Y0(t)}}}}function Y0(t,e){if(t.g){dE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function dE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Tr(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kA(e)}};function ay(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function IA(t){const e={};t=(t.g&&2<=Tr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nc(t[r]))continue;var n=nA(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Kk(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fE(t){let e="";return Rg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function el(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pE(t){this.Ga=0,this.j=[],this.l=new H0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=el("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=el("baseRetryDelayMs",5e3,t),this.hb=el("retryDelaySeedMs",1e4,t),this.eb=el("forwardChannelMaxRetries",2,t),this.xa=el("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new rE(t&&t.concurrentRequestLimit),this.Ja=new SA,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=pE.prototype;Y.ra=8;Y.H=1;function qg(t){if(mE(t),t.H==3){var e=t.W++,n=ai(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Pc(t,n),e=new Tc(t,t.l,e),e.L=2,e.v=K0(ai(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.v,n=!0),n||(e.g=CE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ic(e)}wE(t)}function X0(t){t.g&&(Kg(t),t.g.cancel(),t.g=null)}function mE(t){X0(t),t.u&&(de.clearTimeout(t.u),t.u=null),Wh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function Z0(t){if(!iE(t.i)&&!t.m){t.m=!0;var e=t.Na;ic||L5(),sc||(ic(),sc=!0),jg.add(e,t),t.C=0}}function RA(t,e){return sE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ac(Xt(t.Na,t,e),_E(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Tc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=I5(s),R5(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gE(this,i,e),n=ai(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),Pc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(fE(s)))+"&"+e:this.o&&Wg(n,this.o,s)),Hg(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,Fm(i,n,null)):Fm(i,n,e),this.H=2}}else this.H==3&&(t?ly(this,t):this.j.length==0||iE(this.i)||ly(this))};function ly(t,e){var n;e?n=e.m:n=t.W++;const r=ai(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),Pc(t,r),t.o&&t.s&&Wg(r,t.o,t.s),n=new Tc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=gE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hg(t.i,n),Fm(n,r,e)}function Pc(t,e){t.na&&Rg(t.na,function(n,r){Ke(e,r,n)}),t.h&&Z5({},function(n,r){Ke(e,r,n)})}function gE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Xt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{bA(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ic||L5(),sc||(ic(),sc=!0),jg.add(e,t),t.A=0}}function Gg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ac(Xt(t.Ma,t),_E(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,vE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ac(Xt(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sn(10),X0(this),vE(this))};function Kg(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function vE(t){t.g=new Tc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ai(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),Pc(t,e),t.o&&t.s&&Wg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=K0(ai(e)),n.s=null,n.S=!0,K5(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,X0(this),Gg(this),sn(19))};function Wh(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function yE(t,e){var n=null;if(t.g==e){Wh(t),Kg(t),t.g=null;var r=2}else if(Mm(t.i,e))n=e.F,oE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=z0(),jt(r,new z5(r,n)),Z0(t)}else xE(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&RA(t,e)||r==2&&Gg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Es(t,5);break;case 4:Es(t,10);break;case 3:Es(t,6);break;default:Es(t,2)}}}function _E(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Es(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Xt(t.pb,t);n||(n=new As("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||Hh(n,"https"),K0(n)),DA(n.toString(),r)}else sn(2);t.H=0,t.h&&t.h.za(e),wE(t),mE(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sn(2)):(this.l.info("Failed to ping google.com"),sn(1))};function wE(t){if(t.H=0,t.ma=[],t.h){const e=aE(t.i);(e.length!=0||t.j.length!=0)&&(Zv(t.ma,e),Zv(t.ma,t.j),t.i.i.length=0,Tg(t.j),t.j.length=0),t.h.ya()}}function EE(t,e,n){var r=n instanceof As?ai(n):new As(n);if(r.g!="")e&&(r.g=e+"."+r.g),zh(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new As(null);r&&Hh(s,r),e&&(s.g=e),i&&zh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),Pc(t,r),r}function CE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ut(new Rc({ob:!0})):new ut(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function SE(){}Y=SE.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function qh(){if(ra&&!(10<=Number(zk)))throw Error("Environmental error: no available transport.")}qh.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){Nt.call(this),this.g=new pE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ba(this)}Tt(jn,Nt);jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=EE(t,null,t.Y),Z0(t)};jn.prototype.close=function(){qg(this.g)};jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bg(t),t=n);e.j.push(new wA(e.fb++,t)),e.H==3&&Z0(e)};jn.prototype.N=function(){this.g.h=null,delete this.j,qg(this.g),delete this.g,jn.$.N.call(this)};function bE(t){Ug.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Tt(bE,Ug);function DE(){Vg.call(this),this.status=1}Tt(DE,Vg);function ba(t){this.g=t}Tt(ba,SE);ba.prototype.Ba=function(){jt(this.g,"a")};ba.prototype.Aa=function(t){jt(this.g,new bE(t))};ba.prototype.za=function(t){jt(this.g,new DE)};ba.prototype.ya=function(){jt(this.g,"b")};function FA(){this.blockSize=-1}function xr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Tt(xr,FA);xr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}xr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Sf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Sf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Sf(this,r),i=0;break}}this.h=i,this.i+=e};xr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function $e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var PA={};function Qg(t){return-128<=t&&128>t?Uk(t,function(e){return new $e([e|0],0>e?-1:0)}):new $e([t|0],0>t?-1:0)}function Ir(t){if(isNaN(t)||!isFinite(t))return Oo;if(0>t)return Pt(Ir(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Bm;return new $e(e,0)}function kE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pt(kE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ir(Math.pow(e,8)),r=Oo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ir(Math.pow(e,s)),r=r.R(s).add(Ir(o))):(r=r.R(n),r=r.add(Ir(o)))}return r}var Bm=4294967296,Oo=Qg(0),jm=Qg(1),cy=Qg(16777216);Y=$e.prototype;Y.ea=function(){if(qn(this))return-Pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Bm+r)*e,e*=Bm}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Qr(this))return"0";if(qn(this))return"-"+Pt(this).toString(t);for(var e=Ir(Math.pow(t,6)),n=this,r="";;){var i=Kh(n,e).g;n=Gh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Qr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Qr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qn(t){return t.h==-1}Y.X=function(t){return t=Gh(this,t),qn(t)?-1:Qr(t)?0:1};function Pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $e(n,~t.h).add(jm)}Y.abs=function(){return qn(this)?Pt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new $e(n,n[n.length-1]&-2147483648?-1:0)};function Gh(t,e){return t.add(Pt(e))}Y.R=function(t){if(Qr(this)||Qr(t))return Oo;if(qn(this))return qn(t)?Pt(this).R(Pt(t)):Pt(Pt(this).R(t));if(qn(t))return Pt(this.R(Pt(t)));if(0>this.X(cy)&&0>t.X(cy))return Ir(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Du(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Du(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Du(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Du(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $e(n,0)};function Du(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tl(t,e){this.g=t,this.h=e}function Kh(t,e){if(Qr(e))throw Error("division by zero");if(Qr(t))return new tl(Oo,Oo);if(qn(t))return e=Kh(Pt(t),e),new tl(Pt(e.g),Pt(e.h));if(qn(e))return e=Kh(t,Pt(e)),new tl(Pt(e.g),e.h);if(30<t.g.length){if(qn(t)||qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=jm,r=e;0>=r.X(t);)n=uy(n),r=uy(r);var i=uo(n,1),s=uo(r,1);for(r=uo(r,2),n=uo(n,2);!Qr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=uo(r,1),n=uo(n,1)}return e=Gh(t,i.R(e)),new tl(i,e)}for(i=Oo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ir(n),o=s.R(e);qn(o)||0<o.X(t);)n-=r,s=Ir(n),o=s.R(e);Qr(s)&&(s=jm),i=i.add(s),t=Gh(t,o)}return new tl(i,t)}Y.gb=function(t){return Kh(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $e(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $e(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $e(n,this.h^t.h)};function uy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $e(n,t.h)}function uo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new $e(i,t.h)}qh.prototype.createWebChannel=qh.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;W0.NO_ERROR=0;W0.TIMEOUT=8;W0.HTTP_ERROR=6;W5.COMPLETE="complete";q5.EventType=Nc;Nc.OPEN="a";Nc.CLOSE="b";Nc.ERROR="c";Nc.MESSAGE="d";Nt.prototype.listen=Nt.prototype.O;ut.prototype.listenOnce=ut.prototype.P;ut.prototype.getLastError=ut.prototype.Sa;ut.prototype.getLastErrorCode=ut.prototype.Ia;ut.prototype.getStatus=ut.prototype.da;ut.prototype.getResponseJson=ut.prototype.Wa;ut.prototype.getResponseText=ut.prototype.ja;ut.prototype.send=ut.prototype.ha;ut.prototype.setWithCredentials=ut.prototype.Oa;xr.prototype.digest=xr.prototype.l;xr.prototype.reset=xr.prototype.reset;xr.prototype.update=xr.prototype.j;$e.prototype.add=$e.prototype.add;$e.prototype.multiply=$e.prototype.R;$e.prototype.modulo=$e.prototype.gb;$e.prototype.compare=$e.prototype.X;$e.prototype.toNumber=$e.prototype.ea;$e.prototype.toString=$e.prototype.toString;$e.prototype.getBits=$e.prototype.D;$e.fromNumber=Ir;$e.fromString=kE;var MA=function(){return new qh},BA=function(){return z0()},bf=W0,jA=W5,LA=Gs,hy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$A=Rc,ku=q5,OA=ut,UA=xr,Uo=$e;const dy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new kg("@firebase/firestore");function fy(){return $s.logLevel}function ie(t,...e){if($s.logLevel<=Fe.DEBUG){const n=e.map(Yg);$s.debug(`Firestore (${Da}): ${t}`,...n)}}function li(t,...e){if($s.logLevel<=Fe.ERROR){const n=e.map(Yg);$s.error(`Firestore (${Da}): ${t}`,...n)}}function ia(t,...e){if($s.logLevel<=Fe.WARN){const n=e.map(Yg);$s.warn(`Firestore (${Da}): ${t}`,...n)}}function Yg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw li(e),new Error(e)}function Ye(t,e){t||he()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let G=class extends Ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AE=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},VA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}},HA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},zA=class{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new AE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Wt(e)}},WA=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},qA=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new WA(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},GA=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},KA=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.T=n.token,new GA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function sa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class Qu{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qu.fromMillis(Date.now())}static fromDate(e){return Qu.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qu(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xe=class Yu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yu(e)}static min(){return new Yu(new an(0,0))}static max(){return new Yu(new an(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}let ct=class Xu extends uc{construct(e,n,r){return new Xu(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xu(n)}static emptyPath(){return new Xu([])}};const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let jr=class po extends uc{construct(e,n,r){return new po(e,n,r)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),po.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new po(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new po(n)}static emptyPath(){return new po([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(ct.fromString(e))}static fromName(e){return new oe(ct.fromString(e).popFirst(5))}static empty(){return new oe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new ct(e.slice()))}}function XA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new Hi(i,oe.empty(),e)}function ZA(t){return new Hi(t.readTime,t.key,-1)}class Hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hi(xe.min(),oe.empty(),-1)}static max(){return new Hi(xe.max(),oe.empty(),-1)}}function JA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==eN)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Xg.ct=-1;function J0(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function nN(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Li.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Au(this.root,e,this.comparator,!1)}getReverseIterator(){return new Au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Au(this.root,e,this.comparator,!0)}}let Au=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Li=class Vr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vr.RED,this.left=i??Vr.EMPTY,this.right=s??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1;Li.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Li(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fn=class Lm{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new my(this.data.getIterator())}getIteratorFrom(e){return new my(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lm)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lm(this.comparator);return n.data=e,n}},my=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr=class $m{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new $m([])}unionWith(e){let n=new Fn(jr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $m(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ln=class Om{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IE("Invalid base64 string: "+i):i}}(e);return new Om(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Om(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ln.EMPTY_BYTE_STRING=new Ln("");const rN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=rN.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zg(t){const e=t.mapValue.fields.__previous_value__;return ed(e)?Zg(e):e}function hc(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iN=class{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},RE=class Um{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Um("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Um&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ed(t)?4:sN(t)?9007199254740991:10:he()}function Lr(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zi(r.timestampValue),o=zi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Os(r.bytesValue).isEqual(Os(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return gt(r.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(r.geoPointValue.longitude)===gt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gt(r.integerValue)===gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=gt(r.doubleValue),o=gt(i.doubleValue);return s===o?Qh(s)===Qh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(py(s)!==py(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Lr(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function dc(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function oa(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=gt(i.integerValue||i.doubleValue),a=gt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return gy(t.timestampValue,e.timestampValue);case 4:return gy(hc(t),hc(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Os(i),a=Os(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Pe(o[l],a[l]);if(c!==0)return c}return Pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Pe(gt(i.latitude),gt(s.latitude));return o!==0?o:Pe(gt(i.longitude),gt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=oa(o[l],a[l]);if(c)return c}return Pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Nu.mapValue&&s===Nu.mapValue)return 0;if(i===Nu.mapValue)return 1;if(s===Nu.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=Pe(a[u],c[u]);if(h!==0)return h;const f=oa(o[a[u]],l[c[u]]);if(f!==0)return f}return Pe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function gy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=zi(t),r=zi(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function aa(t){return Vm(t)}function Vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Vm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Vm(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function Yh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hm(t){return!!t&&"integerValue"in t}function Jg(t){return!!t&&"arrayValue"in t}function xy(t){return!!t&&"nullValue"in t}function vy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zu(t){return!!t&&"mapValue"in t}function kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=jr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=kl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(kl(this.value))}}function FE(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new jr([n]);if(Zu(r)){const s=FE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,xe.min(),xe.min(),xe.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,xe.min(),xe.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,xe.min(),xe.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.position=e,this.inclusive=n}}function yy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=oa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _y(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n="asc"){this.field=e,this.dir=n}}function oN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{}class yt extends PE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lN(e,n,r):n==="array-contains"?new hN(e,r):n==="in"?new dN(e,r):n==="not-in"?new fN(e,r):n==="array-contains-any"?new pN(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cN(e,r):new uN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oa(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vr extends PE{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new vr(e,n)}matches(e){return ME(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ME(t){return t.op==="and"}function BE(t){return aN(t)&&ME(t)}function aN(t){for(const e of t.filters)if(e instanceof vr)return!1;return!0}function zm(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(BE(t))return t.filters.map(e=>zm(e)).join(",");{const e=t.filters.map(n=>zm(n)).join(",");return`${t.op}(${e})`}}function jE(t,e){return t instanceof yt?function(n,r){return r instanceof yt&&n.op===r.op&&n.field.isEqual(r.field)&&Lr(n.value,r.value)}(t,e):t instanceof vr?function(n,r){return r instanceof vr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&jE(s,r.filters[o]),!0):!1}(t,e):void he()}function LE(t){return t instanceof yt?function(e){return`${e.field.canonicalString()} ${e.op} ${aa(e.value)}`}(t):t instanceof vr?function(e){return e.op.toString()+" {"+e.getFilters().map(LE).join(" ,")+"}"}(t):"Filter"}class lN extends yt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cN extends yt{constructor(e,n){super(e,"in",n),this.keys=$E("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uN extends yt{constructor(e,n){super(e,"not-in",n),this.keys=$E("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $E(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class hN extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jg(n)&&dc(n.arrayValue,this.value)}}class dN extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class fN extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dc(this.value.arrayValue,n)}}class pN extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function wy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mN(t,e,n,r,i,s,o)}function e2(t){const e=pe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),J0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),e.dt=n}return e.dt}function t2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_y(t.startAt,e.startAt)&&_y(t.endAt,e.endAt)}function Wm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function gN(t,e,n,r,i,s,o,a){return new ns(t,e,n,r,i,s,o,a)}function td(t){return new ns(t)}function Ey(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n2(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function nd(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function r2(t){return t.collectionGroup!==null}function Ns(t){const e=pe(t);if(e.wt===null){e.wt=[];const n=nd(e),r=n2(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Vo(n)),e.wt.push(new Vo(jr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Vo(jr.keyField(),s))}}}return e.wt}function ci(t){const e=pe(t);if(!e._t)if(e.limitType==="F")e._t=wy(e.path,e.collectionGroup,Ns(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ns(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Vo(s.field,o))}const r=e.endAt?new la(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new la(e.startAt.position,e.startAt.inclusive):null;e._t=wy(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function qm(t,e){e.getFirstInequalityField(),nd(t);const n=t.filters.concat([e]);return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xh(t,e,n){return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return t2(ci(t),ci(e))&&t.limitType===e.limitType}function OE(t){return`${e2(ci(t))}|lt:${t.limitType}`}function Gm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>LE(r)).join(", ")}]`),J0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),`Target(${n})`}(ci(t))}; limitType=${t.limitType})`}function id(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ns(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=yy(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ns(n),r)||n.endAt&&!function(i,s,o){const a=yy(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ns(n),r))}(t,e)}function xN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UE(t){return(e,n)=>{let r=!1;for(const i of Ns(t)){const s=vN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vN(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?oa(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new st(oe.comparator);function ui(){return yN}const VE=new st(oe.comparator);function fl(...t){let e=VE;for(const n of t)e=e.insert(n.key,n);return e}function HE(t){let e=VE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return Al()}function zE(){return Al()}function Al(){return new ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const _N=new st(oe.comparator),wN=new Fn(oe.comparator);function Ce(...t){let e=wN;for(const n of t)e=e.add(n);return e}const EN=new Fn(Pe);function CN(){return EN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function qE(t){return{integerValue:""+t}}function SN(t,e){return nN(e)?qE(e):WE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function bN(t,e,n){return t instanceof fc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ed(i)&&(i=Zg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof pc?KE(t,e):t instanceof mc?QE(t,e):function(r,i){const s=GE(r,i),o=Cy(s)+Cy(r.gt);return Hm(s)&&Hm(r.gt)?qE(o):WE(r.serializer,o)}(t,e)}function DN(t,e,n){return t instanceof pc?KE(t,e):t instanceof mc?QE(t,e):n}function GE(t,e){return t instanceof Zh?Hm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class fc extends sd{}class pc extends sd{constructor(e){super(),this.elements=e}}function KE(t,e){const n=YE(e);for(const r of t.elements)n.some(i=>Lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mc extends sd{constructor(e){super(),this.elements=e}}function QE(t,e){let n=YE(e);for(const r of t.elements)n=n.filter(i=>!Lr(i,r));return{arrayValue:{values:n}}}class Zh extends sd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Cy(t){return gt(t.integerValue||t.doubleValue)}function YE(t){return Jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.field=e,this.transform=n}}function AN(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof pc&&r instanceof pc||n instanceof mc&&r instanceof mc?sa(n.elements,r.elements,Lr):n instanceof Zh&&r instanceof Zh?Lr(n.gt,r.gt):n instanceof fc&&r instanceof fc}(t.transform,e.transform)}class NN{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class od{}function XE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JE(t.key,dr.none()):new jc(t.key,t.data,dr.none());{const n=t.data,r=xn.empty();let i=new Fn(jr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new rs(t.key,r,new Rr(i.toArray()),dr.none())}}function TN(t,e,n){t instanceof jc?function(r,i,s){const o=r.value.clone(),a=by(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof rs?function(r,i,s){if(!Ju(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=by(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ZE(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof jc?function(i,s,o,a){if(!Ju(i.precondition,s))return o;const l=i.value.clone(),c=Dy(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof rs?function(i,s,o,a){if(!Ju(i.precondition,s))return o;const l=Dy(i.fieldTransforms,a,s),c=s.data;return c.setAll(ZE(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return Ju(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function IN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GE(r.transform,i||null);s!=null&&(n===null&&(n=xn.empty()),n.set(r.field,s))}return n||null}function Sy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&sa(n,r,(i,s)=>AN(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rs extends od{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function by(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DN(o,a,n[i]))}return r}function Dy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bN(s,o,e))}return r}class JE extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&TN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=XE(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,r)=>Sy(n,r))&&sa(this.baseMutations,e.baseMutations,(n,r)=>Sy(n,r))}}class i2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=_N;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new i2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,De;function BN(t){switch(t){default:return he();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function eC(t){if(t===void 0)return li("GRPC error has no .code"),L.UNKNOWN;switch(t){case pt.OK:return L.OK;case pt.CANCELLED:return L.CANCELLED;case pt.UNKNOWN:return L.UNKNOWN;case pt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case pt.INTERNAL:return L.INTERNAL;case pt.UNAVAILABLE:return L.UNAVAILABLE;case pt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case pt.NOT_FOUND:return L.NOT_FOUND;case pt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case pt.ABORTED:return L.ABORTED;case pt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case pt.DATA_LOSS:return L.DATA_LOSS;default:return he()}}(De=pt||(pt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tu}static getOrCreateInstance(){return Tu===null&&(Tu=new s2),Tu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Tu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Uo([4294967295,4294967295],0);function ky(t){const e=jN().encode(t),n=new UA;return n.update(e),new Uint8Array(n.digest())}function Ay(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uo([n,r],0),new Uo([i,s],0)]}class o2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(r<0)throw new pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Uo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Uo.fromNumber(r)));return i.compare(LN)===1&&(i=new Uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=ky(e),[r,i]=Ay(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new o2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=ky(e),[r,i]=Ay(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(xe.min(),i,new st(Pe),ui(),Ce())}}class Lc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class tC{constructor(e,n){this.targetId=e,this.Vt=n}}class nC{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ny{constructor(){this.St=0,this.Dt=Iy(),this.Ct=Ln.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ce(),n=Ce(),r=Ce();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Lc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Iy()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $N{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ui(),this.zt=Ty(),this.Wt=new st(Pe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Wm(o))if(i===0){const a=new oe(o.path);this.Yt(r,a,Gt.newNoDocument(a,xe.min()))}else Ye(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=s2.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,m,g,v,_,y;const p={localCacheCount:u,existenceFilterCount:h.count},x=h.unchangedNames;return x&&(p.bloomFilter={applied:c===0,hashCount:(f=x==null?void 0:x.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(v=(g=(m=x==null?void 0:x.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&v!==void 0?v:0,padding:(y=(_=x==null?void 0:x.bits)===null||_===void 0?void 0:_.padding)!==null&&y!==void 0?y:0}),p}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=Os(s).toUint8Array()}catch(u){if(u instanceof IE)return ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new o2(l,o,a)}catch(u){return ia(u instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Wm(a.target)){const l=new oe(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Gt.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Ce();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ad(e,n,this.Wt,this.jt,r);return this.jt=ui(),this.zt=Ty(),this.Wt=new st(Pe),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Ny,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Fn(Pe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ny),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ty(){return new st(oe.comparator)}function Iy(){return new st(oe.comparator)}const ON={asc:"ASCENDING",desc:"DESCENDING"},UN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VN={and:"AND",or:"OR"};class HN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(t,e){return t.useProto3Json||J0(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zN(t,e){return Jh(t,e.toTimestamp())}function Br(t){return Ye(!!t),xe.fromTimestamp(function(e){const n=zi(e);return new an(n.seconds,n.nanos)}(t))}function a2(t,e){return function(n){return new ct(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function iC(t){const e=ct.fromString(t);return Ye(lC(e)),e}function Qm(t,e){return a2(t.databaseId,e.path)}function Df(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(sC(n))}function Ym(t,e){return a2(t.databaseId,e)}function WN(t){const e=iC(t);return e.length===4?ct.emptyPath():sC(e)}function Xm(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sC(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ry(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function qN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Ye(c===void 0||typeof c=="string"),Ln.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Uint8Array),Ln.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?L.UNKNOWN:eC(l.code);return new G(c,l.message||"")}(o);n=new nC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Df(t,r.document.name),s=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):xe.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new eh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Df(t,r.document),s=r.readTime?Br(r.readTime):xe.min(),o=Gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new eh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Df(t,r.document),s=r.removedTargetIds||[];n=new eh([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new MN(i,s),a=r.targetId;n=new tC(a,o)}}return n}function GN(t,e){let n;if(e instanceof jc)n={update:Ry(t,e.key,e.value)};else if(e instanceof JE)n={delete:Qm(t,e.key)};else if(e instanceof rs)n={update:Ry(t,e.key,e.data),updateMask:nT(e.fieldMask)};else{if(!(e instanceof RN))return he();n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof fc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof pc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof mc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:zN(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function KN(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Br(r.updateTime):Br(i);return s.isEqual(xe.min())&&(s=Br(i)),new NN(s,r.transformResults||[])}(n,e))):[]}function QN(t,e){return{documents:[Ym(t,e.path)]}}function YN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ym(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ym(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return aC(vr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:mo(u.field),direction:JN(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Km(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function XN(t){let e=WN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const h=oC(u);return h instanceof vr&&BE(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Vo(go(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,J0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new la(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new la(f,h)}(n.endAt)),gN(e,i,o,s,a,"F",l,c)}function ZN(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=go(e.unaryFilter.field);return yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=go(e.unaryFilter.field);return yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=go(e.unaryFilter.field);return yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=go(e.unaryFilter.field);return yt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return yt.create(go(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return vr.create(e.compositeFilter.filters.map(n=>oC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function JN(t){return ON[t]}function eT(t){return UN[t]}function tT(t){return VN[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return jr.fromServerFormat(t.fieldPath)}function aC(t){return t instanceof yt?function(e){if(e.op==="=="){if(vy(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NAN"}};if(xy(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(vy(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NAN"}};if(xy(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(e.field),op:eT(e.op),value:e.value}}}(t):t instanceof vr?function(e){const n=e.getFilters().map(r=>aC(r));return n.length===1?n[0]:{compositeFilter:{op:tT(e.op),filters:n}}}(t):he()}function nT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,s=xe.min(),o=xe.min(),a=Ln.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.fe=e}}function iT(t){const e=XN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.rn=new oT}addToCollectionParentIndex(e,n){return this.rn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Hi.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class oT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ca(0)}static Mn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.changes=new ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nl(r.mutation,i,Rr.empty(),an.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ui();const o=Al(),a=Al();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof rs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Nl(u.mutation,c,u.mutation.getFieldMask(),an.now())):o.set(c.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new lT(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Al();let i=new st((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Rr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=zE();u.forEach(f=>{if(!s.has(f)){const m=XE(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(Cs());let a=-1,l=s;return o.next(c=>W.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?W.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ce())).next(u=>({batchId:a,changes:HE(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=fl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=fl();return this.indexManager.getCollectionParents(e,i).next(o=>W.forEach(o,a=>{const l=function(c,u){return new ns(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Gt.newInvalidDocument(c)))});let o=fl();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Nl(c.mutation,l,Rr.empty(),an.now()),id(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return W.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Br(r.createTime)}),W.resolve()}getNamedQuery(e,n){return W.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:iT(r.bundledQuery),readTime:Br(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.overlays=new st(oe.comparator),this.ls=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Cs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Cs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return W.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PN(n,r));let s=this.ls.get(n);s===void 0&&(s=Ce(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.fs=new Fn(Ct.ds),this.ws=new Fn(Ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new oe(new ct([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new oe(new ct([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=Ce();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return oe.comparator(e.key,n.key)||Pe(e.As,n.As)}static _s(e,n){return Pe(e.As,n.As)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fn(Ct.ds)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(Pe);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),W.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new oe(s),0);let a=new Fn(Pe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),W.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return W.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ct(n,0),i=this.Rs.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.Ds=e,this.docs=new st(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ui();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||JA(ZA(u),r)<=0||(i.has(u.key)||id(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Cs(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pT(this)}getSize(e){return W.resolve(this.size)}}class pT extends aT{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.persistence=e,this.xs=new ka(n=>e2(n),t2),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new l2,this.targetCount=0,this.Ms=ca.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),W.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Fn(n),W.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xg(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new mT(this),this.indexManager=new sT,this.remoteDocumentCache=function(r){return new fT(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new rT(n),this.qs=new uT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new dT(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new xT(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return W.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class xT extends tN{constructor(e){super(),this.currentSequenceNumber=e}}class c2{constructor(e){this.persistence=e,this.Qs=new l2,this.js=null}static zs(e){return new c2(e)}get Ws(){if(this.js)return this.js;throw he()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),W.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Ws,r=>{const i=oe.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,xe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return W.or([()=>W.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new u2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Ey(n))return W.resolve(null);let r=ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xh(n,null,"F"),r=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Xh(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return Ey(n)||i.isEqual(xe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(fy()<=Fe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gm(n)),this.Wi(e,o,n,XA(i,-1)))})}ji(e,n){let r=new Fn(UE(e));return n.forEach((i,s)=>{id(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return fy()<=Fe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Gm(n)),this.Ui.getDocumentsMatchingQuery(e,n,Hi.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new st(Pe),this.Yi=new ka(s=>e2(s),t2),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function _T(t,e,n,r){return new yT(t,e,n,r)}async function cC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ce();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function wT(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=W.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(a,m)).next(g=>{const v=l.docVersions.get(m);Ye(v!==null),g.version.compareTo(v)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ET(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ln.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(h,m),function(g,v,_){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,u)&&a.push(n.Bs.updateTargetData(s,m))});let l=ui(),c=Ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(CT(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(xe.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return W.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function CT(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ui();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function ST(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bT(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Zm(t,e,n){const r=pe(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bc(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Fy(t,e,n){const r=pe(t);let i=xe.min(),s=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=pe(a),h=u.Yi.get(c);return h!==void 0?W.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(r,o,ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:xe.min(),n?s:Ce())).next(a=>(DT(r,xN(e),a),{documents:a,ir:s})))}function DT(t,e,n){let r=t.Xi.get(e)||xe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Py{constructor(){this.activeTargetIds=CN()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kT{constructor(){this.Hr=new Py,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Py,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu=null;function kf(){return Iu===null?Iu=268435456+Math.round(2147483648*Math.random()):Iu++,"0x"+Iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class IT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=kf(),a=this.To(e,n);ie("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(ie("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ia("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=NT[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=kf();return new Promise((o,a)=>{const l=new OA;l.setWithCredentials(!0),l.listenOnce(jA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bf.NO_ERROR:const u=l.getResponseJson();ie(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case bf.TIMEOUT:ie(zt,`RPC '${e}' ${s} timed out`),a(new G(L.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const h=l.getStatus();if(ie(zt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(_)>=0?_:L.UNKNOWN}(m.status);a(new G(g,m.message))}else a(new G(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(L.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ie(zt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ie(zt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=kf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MA(),a=BA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new $A({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ie(zt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,m=!1;const g=new TT({ro:_=>{m?ie(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(ie(zt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ie(zt,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},oo:()=>h.close()}),v=(_,y,p)=>{_.listen(y,x=>{try{p(x)}catch(w){setTimeout(()=>{throw w},0)}})};return v(h,ku.EventType.OPEN,()=>{m||ie(zt,`RPC '${e}' stream ${i} transport opened.`)}),v(h,ku.EventType.CLOSE,()=>{m||(m=!0,ie(zt,`RPC '${e}' stream ${i} transport closed`),g.wo())}),v(h,ku.EventType.ERROR,_=>{m||(m=!0,ia(zt,`RPC '${e}' stream ${i} transport errored:`,_),g.wo(new G(L.UNAVAILABLE,"The operation could not be completed")))}),v(h,ku.EventType.MESSAGE,_=>{var y;if(!m){const p=_.data[0];Ye(!!p);const x=p,w=x.error||((y=x[0])===null||y===void 0?void 0:y.error);if(w){ie(zt,`RPC '${e}' stream ${i} received error:`,w);const C=w.status;let E=function(D){const T=pt[D];if(T!==void 0)return eC(T)}(C),S=w.message;E===void 0&&(E=L.INTERNAL,S="Unknown error status: "+C+" with message "+w.message),m=!0,g.wo(new G(E,S)),h.close()}else ie(zt,`RPC '${e}' stream ${i} received:`,p),g._o(p)}}),v(a,LA.STAT_EVENT,_=>{_.stat===hy.PROXY?ie(zt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===hy.NOPROXY&&ie(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return new HN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hC(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new G(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RT extends dC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=qN(this.serializer,e),r=function(i){if(!("targetChange"in i))return xe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?Br(s.readTime):xe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Xm(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Wm(a)?{documents:QN(i,a)}:{query:YN(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=rC(i,s.resumeToken);const l=Km(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(xe.min())>0){o.readTime=Jh(i,s.snapshotVersion.toTimestamp());const l=Km(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=ZN(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.Wo(n)}}class FT extends dC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=KN(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.cu(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Xm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GN(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(L.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(L.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class MT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(li(n),this.mu=!1):ie("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Qs(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pe(a);l.vu.add(4),await $c(l),l.bu.set("Unknown"),l.vu.delete(4),await cd(l)}(this))})}),this.bu=new MT(r,i)}}async function cd(t){if(Qs(t))for(const e of t.Ru)await e(!0)}async function $c(t){for(const e of t.Ru)await e(!1)}function fC(t,e){const n=pe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),f2(n)?d2(n):Aa(n).Ko()&&h2(n,e))}function pC(t,e){const n=pe(t),r=Aa(n);n.Au.delete(e),r.Ko()&&mC(n,e),n.Au.size===0&&(r.Ko()?r.jo():Qs(n)&&n.bu.set("Unknown"))}function h2(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).su(e)}function mC(t,e){t.Vu.qt(e),Aa(t).iu(e)}function d2(t){t.Vu=new $N({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.bu.gu()}function f2(t){return Qs(t)&&!Aa(t).Uo()&&t.Au.size>0}function Qs(t){return pe(t).vu.size===0}function gC(t){t.Vu=void 0}async function jT(t){t.Au.forEach((e,n)=>{h2(t,e)})}async function LT(t,e){gC(t),f2(t)?(t.bu.Iu(e),d2(t)):t.bu.set("Unknown")}async function $T(t,e,n){if(t.bu.set("Online"),e instanceof nC&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await e0(t,r)}else if(e instanceof eh?t.Vu.Ht(e):e instanceof tC?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(xe.min()))try{const r=await uC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Ln.EMPTY_BYTE_STRING,c.snapshotVersion)),mC(i,a);const u=new Di(c.target,a,l,c.sequenceNumber);h2(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await e0(t,r)}}async function e0(t,e,n){if(!Bc(e))throw e;t.vu.add(1),await $c(t),t.bu.set("Offline"),n||(n=()=>uC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await cd(t)})}function xC(t,e){return e().catch(n=>e0(t,n,e))}async function ud(t){const e=pe(t),n=Wi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;OT(e);)try{const i=await ST(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,UT(e,i)}catch(i){await e0(e,i)}vC(e)&&yC(e)}function OT(t){return Qs(t)&&t.Eu.length<10}function UT(t,e){t.Eu.push(e);const n=Wi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function vC(t){return Qs(t)&&!Wi(t).Uo()&&t.Eu.length>0}function yC(t){Wi(t).start()}async function VT(t){Wi(t).hu()}async function HT(t){const e=Wi(t);for(const n of t.Eu)e.uu(n.mutations)}async function zT(t,e,n){const r=t.Eu.shift(),i=i2.from(r,e,n);await xC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ud(t)}async function WT(t,e){e&&Wi(t).ou&&await async function(n,r){if(i=r.code,BN(i)&&i!==L.ABORTED){const s=n.Eu.shift();Wi(n).Qo(),await xC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ud(n)}var i}(t,e),vC(t)&&yC(t)}async function By(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=Qs(n);n.vu.add(3),await $c(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await cd(n)}async function qT(t,e){const n=pe(t);e?(n.vu.delete(2),await cd(n)):e||(n.vu.add(2),await $c(n),n.bu.set("Unknown"))}function Aa(t){return t.Su||(t.Su=function(e,n,r){const i=pe(e);return i.fu(),new RT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:jT.bind(null,t),ao:LT.bind(null,t),nu:$T.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),f2(t)?d2(t):t.bu.set("Unknown")):(await t.Su.stop(),gC(t))})),t.Su}function Wi(t){return t.Du||(t.Du=function(e,n,r){const i=pe(e);return i.fu(),new FT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:VT.bind(null,t),ao:WT.bind(null,t),au:HT.bind(null,t),cu:zT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ud(t)):(await t.Du.stop(),t.Eu.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new p2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m2(t,e){if(li("AsyncQueue",`${e}: ${t}`),Bc(t))return new G(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=fl(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.Cu=new st(oe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):he():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Ho.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.Nu=void 0,this.listeners=[]}}class KT{constructor(){this.queries=new ka(e=>OE(e),rd),this.onlineState="Unknown",this.ku=new Set}}async function g2(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new GT),i)try{s.Nu=await n.onListen(r)}catch(o){const a=m2(o,`Initialization of query '${Gm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&v2(n)}async function x2(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function QT(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&v2(n)}function YT(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function v2(t){t.ku.forEach(e=>{e.next()})}class y2{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class wC{constructor(e){this.key=e}}class XT{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ce(),this.mutatedKeys=Ce(),this.tc=UE(e),this.ec=new Ho(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new jy,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),m=id(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;f&&m?f.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),_=!0):this.rc(f,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.tc(m,l)>0||c&&this.tc(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),_=!0):f&&!m&&(r.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(m?(o=o.add(m),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(h,f){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return m(h)-m(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new ua(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ce(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new wC(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new _C(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ua.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class ZT{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JT{constructor(e){this.key=e,this.fc=!1}}class eI{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ka(a=>OE(a),rd),this._c=new Map,this.mc=new Set,this.gc=new st(oe.comparator),this.yc=new Map,this.Ic=new l2,this.Tc={},this.Ec=new Map,this.Ac=ca.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function tI(t,e){const n=hI(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await bT(n.localStore,ci(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await nI(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&fC(n.remoteStore,o)}return i}async function nI(t,e,n,r,i){t.Rc=(h,f,m)=>async function(g,v,_,y){let p=v.view.sc(_);p.zi&&(p=await Fy(g.localStore,v.query,!1).then(({documents:C})=>v.view.sc(C,p)));const x=y&&y.targetChanges.get(v.targetId),w=v.view.applyChanges(p,g.isPrimaryClient,x);return $y(g,v.targetId,w.cc),w.snapshot}(t,h,f,m);const s=await Fy(t.localStore,e,!0),o=new XT(e,s.ir),a=o.sc(s.documents),l=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);$y(t,n,c.cc);const u=new ZT(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function rI(t,e){const n=pe(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!rd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),pC(n.remoteStore,r.targetId),Jm(n,r.targetId)}).catch(Mc)):(Jm(n,r.targetId),await Zm(n.localStore,r.targetId,!0))}async function iI(t,e,n){const r=dI(t);try{const i=await function(s,o){const a=pe(s),l=an.now(),c=o.reduce((f,m)=>f.add(m.key),Ce());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ui(),g=Ce();return a.Zi.getEntries(f,c).next(v=>{m=v,m.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(v=>{u=v;const _=[];for(const y of o){const p=IN(y,u.get(y.key).overlayedDocument);p!=null&&_.push(new rs(y.key,p,FE(p.value.mapValue),dr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,_,o)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(f,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:HE(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new st(Pe)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Oc(r,i.changes),await ud(r.remoteStore)}catch(i){const s=m2(i,"Failed to persist write");n.reject(s)}}async function EC(t,e){const n=pe(t);try{const r=await ET(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Ye(o.fc):i.removedDocuments.size>0&&(Ye(o.fc),o.fc=!1))}),await Oc(n,r,e)}catch(r){await Mc(r)}}function Ly(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=pe(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&v2(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sI(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new st(oe.comparator);o=o.insert(s,Gt.newNoDocument(s,xe.min()));const a=Ce().add(s),l=new ad(xe.min(),new Map,new st(Pe),o,a);await EC(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),_2(r)}else await Zm(r.localStore,e,!1).then(()=>Jm(r,e,n)).catch(Mc)}async function oI(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await wT(n.localStore,e);SC(n,r,null),CC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(n,i)}catch(i){await Mc(i)}}async function aI(t,e,n){const r=pe(t);try{const i=await function(s,o){const a=pe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ye(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);SC(r,e,n),CC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oc(r,i)}catch(i){await Mc(i)}}function CC(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function SC(t,e,n){const r=pe(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||bC(t,r)})}function bC(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(pC(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),_2(t))}function $y(t,e,n){for(const r of n)r instanceof _C?(t.Ic.addReference(r.key,e),lI(t,r)):r instanceof wC?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||bC(t,r.key)):he()}function lI(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.mc.add(r),_2(t))}function _2(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new oe(ct.fromString(e)),r=t.Ac.next();t.yc.set(r,new JT(n)),t.gc=t.gc.insert(n,r),fC(t.remoteStore,new Di(ci(td(n.path)),r,"TargetPurposeLimboResolution",Xg.ct))}}async function Oc(t,e,n){const r=pe(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=u2.Li(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const c=pe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>W.forEach(l,h=>W.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>W.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Bc(u))throw u;ie("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);c.Ji=c.Ji.insert(h,g)}}}(r.localStore,s))}async function cI(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await cC(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new G(L.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(n,r.er)}}function uI(t,e){const n=pe(t),r=n.yc.get(e);if(r&&r.fc)return Ce().add(r.key);{let i=Ce();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function hI(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sI.bind(null,e),e.dc.nu=QT.bind(null,e.eventManager),e.dc.Pc=YT.bind(null,e.eventManager),e}function dI(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,e),e}class Oy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _T(this.persistence,new vT,e.initialUser,this.serializer)}createPersistence(e){return new gT(c2.zs,this.serializer)}createSharedClientState(e){return new kT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ly(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await qT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new KT}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new IT(i));var i;return function(s,o,a,l){return new PT(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Ly(this.syncEngine,a,0),o=My.D()?new My:new AT,new BT(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new eI(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=pe(e);ie("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await $c(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=NE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ie("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nf(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gI(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>By(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>By(e.remoteStore,s)),t._onlineComponents=e}function mI(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!mI(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await Nf(t,new Oy)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Nf(t,new Oy);return t._offlineComponents}async function DC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await Uy(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await Uy(t,new fI))),t._onlineComponents}function xI(t){return DC(t).then(e=>e.syncEngine)}async function t0(t){const e=await DC(t),n=e.eventManager;return n.onListen=tI.bind(null,e.syncEngine),n.onUnlisten=rI.bind(null,e.syncEngine),n}function vI(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new w2({next:h=>{s.enqueueAndForget(()=>x2(i,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new G(L.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new G(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new y2(td(o.path),c,{includeMetadataChanges:!0,Ku:!0});return g2(i,u)}(await t0(t),t.asyncQueue,e,n,r)),r.promise}function yI(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new w2({next:h=>{s.enqueueAndForget(()=>x2(i,u)),h.fromCache&&a.source==="server"?l.reject(new G(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new y2(o,c,{includeMetadataChanges:!0,Ku:!0});return g2(i,u)}(await t0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t,e,n){if(!n)throw new G(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _I(t,e,n,r){if(e===!0&&r===!0)throw new G(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hy(t){if(!oe.isDocumentKey(t))throw new G(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zy(t){if(oe.isDocumentKey(t))throw new G(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(t);throw new G(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function NC(t,e){if(e<=0)throw new G(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new VA;switch(n.type){case"firstParty":return new qA(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new G(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Vy.get(e);n&&(ie("ComponentProvider","Removing Datastore"),Vy.delete(e),n.terminate())}(this),Promise.resolve()}}function wI(t,e,n,r={}){var i;const s=(t=Pn(t,dd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Wt.MOCK_USER;else{a=p5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wt(c)}t._authCredentials=new HA(new AE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class _r{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _r(this.firestore,e,this._query)}}class $i extends _r{constructor(e,n,r){super(e,n,td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new oe(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function tt(t,e,...n){if(t=Sn(t),AC("collection","path",e),t instanceof dd){const r=ct.fromString(e,...n);return zy(r),new $i(t,null,r)}{if(!(t instanceof Jt||t instanceof $i))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return zy(r),new $i(t.firestore,null,r)}}function $t(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=NE.A()),AC("doc","path",e),t instanceof dd){const r=ct.fromString(e,...n);return Hy(r),new Jt(t,null,new oe(r))}{if(!(t instanceof Jt||t instanceof $i))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return Hy(r),new Jt(t.firestore,t instanceof $i?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hC(this,"async_queue_retry"),this.Xc=()=>{const n=Af();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Af();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Jr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Bc(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw li("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=p2.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&he()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function qy(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class qi extends dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TC(this),this._firestoreClient.terminate()}}function CI(t,e){const n=typeof t=="object"?t:S5(),r=typeof t=="string"?t:"(default)",i=w5(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=d5("firestore");s&&wI(i,...s)}return i}function fd(t){return t._firestoreClient||TC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TC(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new iN(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new pI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(Ln.fromBase64String(e))}catch(n){throw new G(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ha(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;class bI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class IC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class C2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new C2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return n0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(RC(this.ca)&&SI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class DI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}ya(e,n,r,i=!1){return new C2({ca:e,methodName:n,ga:r,path:jr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uc(t){const e=t._freezeSettings(),n=ld(t._databaseId);return new DI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FC(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);b2("Data must be an object, but it was:",o,r);const a=MC(r,o);let l,c;if(s.merge)l=new Rr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=e1(e,h,n);if(!o.contains(f))throw new G(L.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jC(u,f)||u.push(f)}l=new Rr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new bI(new xn(a),l,c)}class gd extends md{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}class S2 extends md{_toFieldTransform(e){return new kN(e.path,new fc)}isEqual(e){return e instanceof S2}}function kI(t,e,n,r){const i=t.ya(1,e,n);b2("Data must be an object, but it was:",i,r);const s=[],o=xn.empty();Ks(r,(l,c)=>{const u=D2(e,l,n);c=Sn(c);const h=i.da(u);if(c instanceof gd)s.push(u);else{const f=Vc(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new Rr(s);return new IC(o,a,i.fieldTransforms)}function AI(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[e1(e,r,n)],l=[i];if(s.length%2!=0)throw new G(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(e1(e,s[f])),l.push(s[f+1]);const c=[],u=xn.empty();for(let f=a.length-1;f>=0;--f)if(!jC(c,a[f])){const m=a[f];let g=l[f];g=Sn(g);const v=o.da(m);if(g instanceof gd)c.push(m);else{const _=Vc(g,v);_!=null&&(c.push(m),u.set(m,_))}}const h=new Rr(c);return new IC(u,h,o.fieldTransforms)}function PC(t,e,n,r=!1){return Vc(n,t.ya(r?4:3,e))}function Vc(t,e){if(BC(t=Sn(t)))return b2("Unsupported field value:",e,t),MC(t,e);if(t instanceof md)return function(n,r){if(!RC(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Vc(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Sn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return SN(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=an.fromDate(n);return{timestampValue:Jh(r.serializer,i)}}if(n instanceof an){const i=new an(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jh(r.serializer,i)}}if(n instanceof E2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ha)return{bytesValue:rC(r.serializer,n._byteString)};if(n instanceof Jt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:a2(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${hd(n)}`)}(t,e)}function MC(t,e){const n={};return TE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const s=Vc(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof E2||t instanceof ha||t instanceof Jt||t instanceof md)}function b2(t,e,n){if(!BC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=hd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function e1(t,e,n){if((e=Sn(e))instanceof pd)return e._internalPath;if(typeof e=="string")return D2(t,e);throw n0("Field path arguments must be of type string or ",t,!1,void 0,n)}const NI=new RegExp("[~\\*/\\[\\]]");function D2(t,e,n){if(e.search(NI)>=0)throw n0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pd(...e.split("."))._internalPath}catch{throw n0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function n0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(L.INVALID_ARGUMENT,a+t+l)}function jC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TI extends k2{data(){return super.data()}}function xd(t,e){return typeof e=="string"?D2(t,e):e instanceof pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A2{}class Hc extends A2{}function ei(t,e,...n){let r=[];e instanceof A2&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof N2).length,o=i.filter(a=>a instanceof vd).length;if(s>1||s>0&&o>0)throw new G(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vd extends Hc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vd(e,n,r)}_apply(e){const n=this._parse(e);return OC(e._query,n),new _r(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=Uc(e.firestore);return function(i,s,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Ky(u,c);const f=[];for(const m of u)f.push(Gy(a,i,m));h={arrayValue:{values:f}}}else h=Gy(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Ky(u,c),h=PC(o,s,u,c==="in"||c==="not-in");return yt.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function le(t,e,n){const r=e,i=xd("where",t);return vd._create(i,r,n)}class N2 extends A2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)OC(s,a),s=qm(s,a)}(e._query,n),new _r(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T2 extends Hc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new T2(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new G(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new G(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Vo(i,s);return function(a,l){if(n2(a)===null){const c=nd(a);c!==null&&UC(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new _r(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ns(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function fr(t,e="asc"){const n=e,r=xd("orderBy",t);return T2._create(r,n)}class yd extends Hc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yd(e,n,r)}_apply(e){return new _r(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function $r(t){return NC("limit",t),yd._create("limit",t,"F")}function II(t){return NC("limitToLast",t),yd._create("limitToLast",t,"L")}class I2 extends Hc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new I2(e,n,r)}_apply(e){const n=$C(e,this.type,this._docOrFields,this._inclusive);return new _r(e.firestore,e.converter,function(r,i){return new ns(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function RI(...t){return I2._create("startAfter",t,!1)}class R2 extends Hc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new R2(e,n,r)}_apply(e){const n=$C(e,this.type,this._docOrFields,this._inclusive);return new _r(e.firestore,e.converter,function(r,i){return new ns(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function FI(...t){return R2._create("endBefore",t,!1)}function $C(t,e,n,r){if(n[0]=Sn(n[0]),n[0]instanceof k2)return function(i,s,o,a,l){if(!a)throw new G(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of Ns(i))if(u.field.isKeyField())c.push(Yh(s,a.key));else{const h=a.data.field(u.field);if(ed(h))throw new G(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=u.field.canonicalString();throw new G(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new la(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Uc(t.firestore);return function(s,o,a,l,c,u){const h=s.explicitOrderBy;if(c.length>h.length)throw new G(L.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let m=0;m<c.length;m++){const g=c[m];if(h[m].field.isKeyField()){if(typeof g!="string")throw new G(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!r2(s)&&g.indexOf("/")!==-1)throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);const v=s.path.child(ct.fromString(g));if(!oe.isDocumentKey(v))throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const _=new oe(v);f.push(Yh(o,_))}else{const v=PC(a,l,g);f.push(v)}}return new la(f,u)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Gy(t,e,n){if(typeof(n=Sn(n))=="string"){if(n==="")throw new G(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r2(e)&&n.indexOf("/")!==-1)throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!oe.isDocumentKey(r))throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yh(t,new oe(r))}if(n instanceof Jt)return Yh(t,n._key);throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function Ky(t,e){if(!Array.isArray(t)||t.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OC(t,e){if(e.isInequality()){const r=nd(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new G(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=n2(t);s!==null&&UC(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function UC(t,e,n){if(!n.isEqual(e))throw new G(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class PI{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new E2(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=zi(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);Ye(lC(r));const i=new RE(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HC extends k2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class th extends HC{data(e={}){return super.data(e)}}class zC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ml(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new th(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ml(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new th(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ml(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:MI(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){t=Pn(t,Jt);const e=Pn(t.firestore,qi);return vI(fd(e),t._key).then(n=>qC(e,t,n))}class F2 extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Ot(t){t=Pn(t,_r);const e=Pn(t.firestore,qi),n=fd(e),r=new F2(e);return LC(t._query),yI(n,t._query).then(i=>new zC(e,r,t,i))}function BI(t,e,n){t=Pn(t,Jt);const r=Pn(t.firestore,qi),i=VC(t.converter,e);return P2(r,[FC(Uc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function WC(t,e,n,...r){t=Pn(t,Jt);const i=Pn(t.firestore,qi),s=Uc(i);let o;return o=typeof(e=Sn(e))=="string"||e instanceof pd?AI(s,"updateDoc",t._key,e,n,r):kI(s,"updateDoc",t._key,e),P2(i,[o.toMutation(t._key,dr.exists(!0))])}function jI(t,e){const n=Pn(t.firestore,qi),r=$t(t),i=VC(t.converter,e);return P2(n,[FC(Uc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function _d(t,...e){var n,r,i;t=Sn(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||qy(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(qy(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(t instanceof Jt)c=Pn(t.firestore,qi),u=td(t._key.path),l={next:h=>{e[o]&&e[o](qC(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Pn(t,_r);c=Pn(h.firestore,qi),u=h._query;const f=new F2(c);l={next:m=>{e[o]&&e[o](new zC(c,f,h,m))},error:e[o+1],complete:e[o+2]},LC(t._query)}return function(h,f,m,g){const v=new w2(g),_=new y2(f,v,m);return h.asyncQueue.enqueueAndForget(async()=>g2(await t0(h),_)),()=>{v.Dc(),h.asyncQueue.enqueueAndForget(async()=>x2(await t0(h),_))}}(fd(c),u,a,l)}function P2(t,e){return function(n,r){const i=new Jr;return n.asyncQueue.enqueueAndForget(async()=>iI(await xI(n),r,i)),i.promise}(fd(t),e)}function qC(t,e,n){const r=n.docs.get(e._key),i=new F2(t);return new HC(t,i,e._key,r,new ml(n.hasPendingWrites,n.fromCache),e.converter)}function Qy(){return new S2("serverTimestamp")}(function(t,e=!0){(function(n){Da=n})(E5),ec(new na("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qi(new zA(n.getProvider("auth-internal")),new KA(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new G(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new RE(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ji(dy,"3.13.0",t),ji(dy,"3.13.0","esm2017")})();var LI="firebase",$I="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(LI,$I,"app");var Yy={};const Xy="@firebase/database",Zy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC="";function OI(t){GC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return fi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new UI(e)}}catch{}return new VI},Ss=KC("localStorage"),HI=KC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new kg("@firebase/database"),zI=function(){let t=1;return function(){return t++}}(),QC=function(t){const e=AD(t),n=new DD;n.update(e);const r=n.digest();return bg.encodeByteArray(r)},zc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zc.apply(null,r):typeof r=="object"?e+=Mt(r):e+=r,e+=" "}return e};let Tl=null,Jy=!0;const WI=function(t,e){Q(!e,"Can't turn on custom loggers persistently."),zo.logLevel=Fe.VERBOSE,Tl=zo.log.bind(zo)},Kt=function(...t){if(Jy===!0&&(Jy=!1,Tl===null&&HI.get("logging_enabled")===!0&&WI()),Tl){const e=zc.apply(null,t);Tl(e)}},Wc=function(t){return function(...e){Kt(t,...e)}},t1=function(...t){const e="FIREBASE INTERNAL ERROR: "+zc(...t);zo.error(e)},hi=function(...t){const e=`FIREBASE FATAL ERROR: ${zc(...t)}`;throw zo.error(e),new Error(e)},Mn=function(...t){const e="FIREBASE WARNING: "+zc(...t);zo.warn(e)},qI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},YC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},GI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},da="[MIN_NAME]",Vs="[MAX_NAME]",Na=function(t,e){if(t===e)return 0;if(t===da||e===Vs)return-1;if(e===da||t===Vs)return 1;{const n=e4(t),r=e4(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},KI=function(t,e){return t===e?0:t<e?-1:1},nl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Mt(e))},M2=function(t){if(typeof t!="object"||t===null)return Mt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Mt(e[r]),n+=":",n+=M2(t[e[r]]);return n+="}",n},XC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ZC=function(t){Q(!YC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},QI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},XI=new RegExp("^-?(0*)\\d{1,10}$"),ZI=-2147483648,JI=2147483647,e4=function(t){if(XI.test(t)){const e=Number(t);if(e>=ZI&&e<=JI)return e}return null},qc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Mn("Exception was thrown by user callback.",n),e},Math.floor(0))}},eR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Il=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Mn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mn(e)}}class nh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="5",JC="v",e8="s",t8="r",n8="f",r8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,i8="ls",s8="p",n1="ac",o8="websocket",a8="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ss.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ss.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function rR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function c8(t,e,n){Q(typeof e=="string","typeof type must == string"),Q(typeof n=="object","typeof params must == object");let r;if(e===o8)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===a8)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rR(t)&&(n.ns=t.namespace);const i=[];return Zn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.counters_={}}incrementCounter(e,n=1){fi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return cD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf={},If={};function j2(t){const e=t.toString();return Tf[e]||(Tf[e]=new iR),Tf[e]}function sR(t,e){const n=t.toString();return If[n]||(If[n]=e()),If[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&qc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="start",aR="close",lR="pLPCommand",cR="pRTLPCB",u8="id",h8="pw",d8="ser",uR="cb",hR="seg",dR="ts",fR="d",pR="dframe",f8=1870,p8=30,mR=f8-p8,gR=25e3,xR=3e4;class Io{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wc(e),this.stats_=j2(n),this.urlFn=l=>(this.appCheckToken&&(l[n1]=this.appCheckToken),c8(n,a8,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new oR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xR)),GI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new L2((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===t4)this.id=a,this.password=l;else if(o===aR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[t4]="t",r[d8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[uR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[JC]=B2,this.transportSessionId&&(r[e8]=this.transportSessionId),this.lastSessionId&&(r[i8]=this.lastSessionId),this.applicationId&&(r[s8]=this.applicationId),this.appCheckToken&&(r[n1]=this.appCheckToken),typeof location<"u"&&location.hostname&&r8.test(location.hostname)&&(r[t8]=n8);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Io.forceAllow_=!0}static forceDisallow(){Io.forceDisallow_=!0}static isAvailable(){return Io.forceAllow_?!0:!Io.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QI()&&!YI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Mt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=c5(n),i=XC(r,mR);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[pR]="t",r[u8]=e,r[h8]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Mt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class L2{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zI(),window[lR+this.uniqueCallbackIdentifier]=e,window[cR+this.uniqueCallbackIdentifier]=n,this.myIFrame=L2.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Kt("frame writing exception"),a.stack&&Kt(a.stack),Kt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Kt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[u8]=this.myID,e[h8]=this.myPW,e[d8]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+p8+r.length<=f8;){const o=this.pendingSegs.shift();r=r+"&"+hR+i+"="+o.seg+"&"+dR+i+"="+o.ts+"&"+fR+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(gR)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=16384,yR=45e3;let r0=null;typeof MozWebSocket<"u"?r0=MozWebSocket:typeof WebSocket<"u"&&(r0=WebSocket);class ar{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wc(this.connId),this.stats_=j2(n),this.connURL=ar.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[JC]=B2,typeof location<"u"&&location.hostname&&r8.test(location.hostname)&&(o[t8]=n8),n&&(o[e8]=n),r&&(o[i8]=r),i&&(o[n1]=i),s&&(o[s8]=s),c8(e,o8,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ss.set("previous_websocket_failure",!0);try{let r;g5(),this.mySock=new r0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ar.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&r0!==null&&!ar.forceDisallow_}static previouslyFailed(){return Ss.isInMemoryStorage||Ss.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ss.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Jl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Mt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XC(n,vR);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ar.responsesRequiredToBeHealthy=2;ar.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Io,ar]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ar&&ar.isAvailable();let r=n&&!ar.previouslyFailed();if(e.webSocketOnly&&(n||Mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ar];else{const i=this.transports_=[];for(const s of gc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);gc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6e4,wR=5e3,ER=10*1024,CR=100*1024,Rf="t",n4="d",SR="s",r4="r",bR="e",i4="o",s4="a",o4="n",a4="p",DR="h";class kR{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wc("c:"+this.id+":"),this.transportManager_=new gc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Il(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ER?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Rf in e){const n=e[Rf];n===s4?this.upgradeIfSecondaryHealthy_():n===r4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===i4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=nl("t",e),r=nl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:a4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:s4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:o4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=nl("t",e),r=nl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=nl(Rf,e);if(n4 in e){const r=e[n4];if(n===DR){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===o4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===SR?this.onConnectionShutdown_(r):n===r4?this.onReset_(r):n===bR?t1("Server Error: "+r):n===i4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):t1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),B2!==r&&Mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Il(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_R))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Il(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:a4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ss.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends g8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!m5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new i0}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=32,c4=768;class Xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ue(){return new Xe("")}function ke(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gi(t){return t.pieces_.length-t.pieceNum_}function Ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xe(t.pieces_,e)}function x8(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function AR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function v8(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function y8(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xe(e,0)}function kt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Xe(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function Kn(t,e){const n=ke(t),r=ke(e);if(n===null)return e;if(n===r)return Kn(Ge(t),Ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _8(t,e){if(Gi(t)!==Gi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function lr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Gi(t)>Gi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class NR{constructor(e,n){this.errorPrefix_=n,this.parts_=v8(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=M0(this.parts_[r]);w8(this)}}function TR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=M0(e),w8(t)}function IR(t){const e=t.parts_.pop();t.byteLength_-=M0(e),t.parts_.length>0&&(t.byteLength_-=1)}function w8(t){if(t.byteLength_>c4)throw new Error(t.errorPrefix_+"has a key path longer than "+c4+" bytes ("+t.byteLength_+").");if(t.parts_.length>l4)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+l4+") or object contains a cycle "+ps(t))}function ps(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends g8{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $2}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=1e3,RR=60*5*1e3,u4=30*1e3,FR=1.3,PR=3e4,MR="server_kill",h4=3;class ti extends m8{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ti.nextPersistentConnectionId_++,this.log_=Wc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rl,this.maxReconnectDelay_=RR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!g5())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&i0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Mt(s)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Dg,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;ti.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&fi(e,"w")){const r=ta(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||SD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=u4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=CD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):t1("Unrecognized action received from server: "+Mt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>PR&&(this.reconnectDelay_=rl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ti.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){Q(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new kR(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Mn(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(MR)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Mn(h),l())}}}interrupt(e){Kt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Hv(this.interruptReasons_)&&(this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>M2(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Xe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Kt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=h4&&(this.reconnectDelay_=u4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Kt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=h4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+GC.replace(/\./g,"-")]=1,m5()?e["framework.cordova"]=1:xD()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=i0.getInstance().currentlyOnline();return Hv(this.interruptReasons_)&&e}}ti.nextPersistentConnectionId_=0;ti.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ae(da,e),i=new Ae(da,n);return this.compare(r,i)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;class E8 extends wd{static get __EMPTY_NODE(){return Ru}static set __EMPTY_NODE(e){Ru=e}compare(e,n){return Na(e.name,n.name)}isDefinedOn(e){throw Ea("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(Vs,Ru)}makePost(e,n){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Ru)}toString(){return".key"}}const Wo=new E8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??yn.EMPTY_NODE,this.right=s??yn.EMPTY_NODE}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return yn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return yn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}bt.RED=!0;bt.BLACK=!1;class BR{copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yn{constructor(e,n=yn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,bt.BLACK,null,null))}remove(e){return new yn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fu(this.root_,null,this.comparator_,!0,e)}}yn.EMPTY_NODE=new BR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e){return Na(t.name,e.name)}function O2(t,e){return Na(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r1;function LR(t){r1=t}const C8=function(t){return typeof t=="number"?"number:"+ZC(t):"string:"+t},S8=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fi(e,".sv"),"Priority must be a string or number.")}else Q(t===r1||t.isEmpty(),"priority of unexpected type.");Q(t===r1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d4;class Et{constructor(e,n=Et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),S8(this.priorityNode_)}static set __childrenNodeConstructor(e){d4=e}static get __childrenNodeConstructor(){return d4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:ke(e)===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ke(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||Gi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+C8(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ZC(this.value_):e+=this.value_,this.lazyHash_=QC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Et.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Et.VALUE_TYPE_ORDER.indexOf(n),s=Et.VALUE_TYPE_ORDER.indexOf(r);return Q(i>=0,"Unknown leaf type: "+n),Q(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b8,D8;function $R(t){b8=t}function OR(t){D8=t}class UR extends wd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Na(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(Vs,new Et("[PRIORITY-POST]",D8))}makePost(e,n){const r=b8(e);return new Ae(n,new Et("[PRIORITY-POST]",r))}toString(){return".priority"}}const Yt=new UR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=Math.log(2);class HR{constructor(e){const n=s=>parseInt(Math.log(s)/VR,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const s0=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new bt(f,h.node,bt.BLACK,null,null);{const m=parseInt(u/2,10)+l,g=i(l,m),v=i(m+1,c);return h=t[m],f=n?n(h):h,new bt(f,h.node,bt.BLACK,g,v)}},s=function(l){let c=null,u=null,h=t.length;const f=function(g,v){const _=h-g,y=h;h-=g;const p=i(_+1,y),x=t[_],w=n?n(x):x;m(new bt(w,x.node,v,null,p))},m=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));v?f(_,bt.BLACK):(f(_,bt.BLACK),f(_,bt.RED))}return u},o=new HR(t.length),a=s(o);return new yn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;const ho={};class Yr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Q(ho&&Yt,"ChildrenNode.ts has not been loaded"),Ff=Ff||new Yr({".priority":ho},{".priority":Yt}),Ff}get(e){const n=ta(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof yn?n:null}hasIndex(e){return fi(this.indexSet_,e.toString())}addIndex(e,n){Q(e!==Wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ae.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=s0(r,e.getCompare()):a=ho;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Yr(u,c)}addToIndexes(e,n){const r=Oh(this.indexes_,(i,s)=>{const o=ta(this.indexSet_,s);if(Q(o,"Missing index implementation for "+s),i===ho)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ae.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),s0(a,o.getCompare())}else return ho;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ae(e.name,a))),l.insert(e,e.node)}});return new Yr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Oh(this.indexes_,i=>{if(i===ho)return i;{const s=n.get(e.name);return s?i.remove(new Ae(e.name,s)):i}});return new Yr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;class Be{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&S8(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return il||(il=new Be(new yn(O2),null,Yr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||il}updatePriority(e){return this.children_.isEmpty()?this:new Be(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?il:n}}getChild(e){const n=ke(e);return n===null?this:this.getImmediateChild(n).getChild(Ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ae(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?il:this.priorityNode_;return new Be(i,o,s)}}updateChild(e,n){const r=ke(e);if(r===null)return n;{Q(ke(e)!==".priority"||Gi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ge(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Yt,(o,a)=>{n[o]=a.val(e),r++,s&&Be.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+C8(this.getPriority().val())+":"),this.forEachChild(Yt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":QC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ae(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gc?-1:0}withIndex(e){if(e===Wo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Be(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Yt),i=n.getIterator(Yt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wo?null:this.indexMap_.get(e.toString())}}Be.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zR extends Be{constructor(){super(new yn(O2),Be.EMPTY_NODE,Yr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Be.EMPTY_NODE}isEmpty(){return!1}}const Gc=new zR;Object.defineProperties(Ae,{MIN:{value:new Ae(da,Be.EMPTY_NODE)},MAX:{value:new Ae(Vs,Gc)}});E8.__EMPTY_NODE=Be.EMPTY_NODE;Et.__childrenNodeConstructor=Be;LR(Gc);OR(Gc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=!0;function Qt(t,e=null){if(t===null)return Be.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Et(n,Qt(e))}if(!(t instanceof Array)&&WR){const n=[];let r=!1;if(Zn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Qt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ae(o,l)))}}),n.length===0)return Be.EMPTY_NODE;const s=s0(n,jR,o=>o.name,O2);if(r){const o=s0(n,Yt.getCompare());return new Be(s,Qt(e),new Yr({".priority":o},{".priority":Yt}))}else return new Be(s,Qt(e),Yr.Default)}else{let n=Be.EMPTY_NODE;return Zn(t,(r,i)=>{if(fi(t,r)&&r.substring(0,1)!=="."){const s=Qt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Qt(e))}}$R(Qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR extends wd{constructor(e){super(),this.indexPath_=e,Q(!Se(e)&&ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Na(e.name,n.name):s}makePost(e,n){const r=Qt(e),i=Be.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ae(n,i)}maxPost(){const e=Be.EMPTY_NODE.updateChild(this.indexPath_,Gc);return new Ae(Vs,e)}toString(){return v8(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends wd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Na(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,n){const r=Qt(e);return new Ae(n,r)}toString(){return".value"}}const KR=new GR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){return{type:"value",snapshotNode:t}}function YR(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function XR(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function f4(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ZR(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yt}copy(){const e=new U2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function p4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Yt?n="$priority":t.index_===KR?n="$value":t.index_===Wo?n="$key":(Q(t.index_ instanceof qR,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Mt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Mt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Mt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Mt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Mt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function m4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends m8{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Wc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=o0.getListenId_(e,r),a={};this.listens_[o]=a;const l=p4(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),ta(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=o0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=p4(e._queryParams),r=e._path.toString(),i=new Dg;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bD(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Jl(a.responseText)}catch{Mn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Mn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.rootNode_=Be.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){return{value:null,children:new Map}}function k8(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ke(e);t.children.has(r)||t.children.set(r,a0());const i=t.children.get(r);e=Ge(e),k8(i,e,n)}}function i1(t,e,n){t.value!==null?n(e,t.value):eF(t,(r,i)=>{const s=new Xe(e.toString()+"/"+r);i1(i,s,n)})}function eF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Zn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=10*1e3,nF=30*1e3,rF=5*60*1e3;class iF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tF(e);const r=g4+(nF-g4)*Math.random();Il(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Zn(e,(i,s)=>{s>0&&fi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Il(this.reportStats_.bind(this),Math.floor(Math.random()*2*rF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Fr||(Fr={}));function A8(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function N8(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function T8(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Fr.ACK_USER_WRITE,this.source=A8()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Xe(e));return new l0(Ue(),n,this.revert)}}else return Q(ke(this.path)===e,"operationForChild called for unrelated child."),new l0(Ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Fr.OVERWRITE}operationForChild(e){return Se(this.path)?new Hs(this.source,Ue(),this.snap.getImmediateChild(e)):new Hs(this.source,Ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Fr.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Xe(e));return n.isEmpty()?null:n.value?new Hs(this.source,Ue(),n.value):new xc(this.source,Ue(),n)}else return Q(ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xc(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=ke(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function sF(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ZR(o.childName,o.snapshotNode))}),sl(t,i,"child_removed",e,r,n),sl(t,i,"child_added",e,r,n),sl(t,i,"child_moved",s,r,n),sl(t,i,"child_changed",e,r,n),sl(t,i,"value",e,r,n),i}function sl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>aF(t,a,l)),o.forEach(a=>{const l=oF(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function oF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function aF(t,e,n){if(e.childName==null||n.childName==null)throw Ea("Should only compare child_ events.");const r=new Ae(e.childName,e.snapshotNode),i=new Ae(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t,e){return{eventCache:t,serverCache:e}}function Rl(t,e,n,r){return I8(new V2(e,n,r),t.serverCache)}function R8(t,e,n,r){return I8(t.eventCache,new V2(e,n,r))}function s1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function zs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf;const lF=()=>(Pf||(Pf=new yn(KI)),Pf);class qe{constructor(e,n=lF()){this.value=e,this.children=n}static fromObject(e){let n=new qe(null);return Zn(e,(r,i)=>{n=n.set(new Xe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ue(),value:this.value};if(Se(e))return null;{const r=ke(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ge(e),n);return s!=null?{path:kt(new Xe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=ke(e),r=this.children.get(n);return r!==null?r.subtree(Ge(e)):new qe(null)}}set(e,n){if(Se(e))return new qe(n,this.children);{const r=ke(e),s=(this.children.get(r)||new qe(null)).set(Ge(e),n),o=this.children.insert(r,s);return new qe(this.value,o)}}remove(e){if(Se(e))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const n=ke(e),r=this.children.get(n);if(r){const i=r.remove(Ge(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new qe(null):new qe(this.value,s)}else return this}}get(e){if(Se(e))return this.value;{const n=ke(e),r=this.children.get(n);return r?r.get(Ge(e)):null}}setTree(e,n){if(Se(e))return n;{const r=ke(e),s=(this.children.get(r)||new qe(null)).setTree(Ge(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new qe(this.value,o)}}fold(e){return this.fold_(Ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(kt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ue(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Se(e))return null;{const s=ke(e),o=this.children.get(s);return o?o.findOnPath_(Ge(e),kt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ue(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);const i=ke(e),s=this.children.get(i);return s?s.foreachOnPath_(Ge(e),kt(n,i),r):new qe(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(kt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.writeTree_=e}static empty(){return new pr(new qe(null))}}function Fl(t,e,n){if(Se(e))return new pr(new qe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Kn(i,e);return s=s.updateChild(o,n),new pr(t.writeTree_.set(i,s))}else{const i=new qe(n),s=t.writeTree_.setTree(e,i);return new pr(s)}}}function x4(t,e,n){let r=t;return Zn(n,(i,s)=>{r=Fl(r,kt(e,i),s)}),r}function v4(t,e){if(Se(e))return pr.empty();{const n=t.writeTree_.setTree(e,new qe(null));return new pr(n)}}function o1(t,e){return Ys(t,e)!=null}function Ys(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Kn(n.path,e)):null}function y4(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Yt,(r,i)=>{e.push(new Ae(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ae(r,i.value))}),e}function Oi(t,e){if(Se(e))return t;{const n=Ys(t,e);return n!=null?new pr(new qe(n)):new pr(t.writeTree_.subtree(e))}}function a1(t){return t.writeTree_.isEmpty()}function fa(t,e){return F8(Ue(),t.writeTree_,e)}function F8(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Q(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=F8(kt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(kt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t,e){return $8(e,t)}function cF(t,e,n,r,i){Q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Fl(t.visibleWrites,e,n)),t.lastWriteId=r}function uF(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function hF(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&dF(a,r.path)?i=!1:lr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return fF(t),!0;if(r.snap)t.visibleWrites=v4(t.visibleWrites,r.path);else{const a=r.children;Zn(a,l=>{t.visibleWrites=v4(t.visibleWrites,kt(r.path,l))})}return!0}else return!1}function dF(t,e){if(t.snap)return lr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&lr(kt(t.path,n),e))return!0;return!1}function fF(t){t.visibleWrites=M8(t.allWrites,pF,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function pF(t){return t.visible}function M8(t,e,n){let r=pr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)lr(n,o)?(a=Kn(n,o),r=Fl(r,a,s.snap)):lr(o,n)&&(a=Kn(o,n),r=Fl(r,Ue(),s.snap.getChild(a)));else if(s.children){if(lr(n,o))a=Kn(n,o),r=x4(r,a,s.children);else if(lr(o,n))if(a=Kn(o,n),Se(a))r=x4(r,Ue(),s.children);else{const l=ta(s.children,ke(a));if(l){const c=l.getChild(Ge(a));r=Fl(r,Ue(),c)}}}else throw Ea("WriteRecord should have .snap or .children")}}return r}function B8(t,e,n,r,i){if(!r&&!i){const s=Ys(t.visibleWrites,e);if(s!=null)return s;{const o=Oi(t.visibleWrites,e);if(a1(o))return n;if(n==null&&!o1(o,Ue()))return null;{const a=n||Be.EMPTY_NODE;return fa(o,a)}}}else{const s=Oi(t.visibleWrites,e);if(!i&&a1(s))return n;if(!i&&n==null&&!o1(s,Ue()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(lr(c.path,e)||lr(e,c.path))},a=M8(t.allWrites,o,e),l=n||Be.EMPTY_NODE;return fa(a,l)}}}function mF(t,e,n){let r=Be.EMPTY_NODE;const i=Ys(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Yt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Oi(t.visibleWrites,e);return n.forEachChild(Yt,(o,a)=>{const l=fa(Oi(s,new Xe(o)),a);r=r.updateImmediateChild(o,l)}),y4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Oi(t.visibleWrites,e);return y4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function gF(t,e,n,r,i){Q(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=kt(e,n);if(o1(t.visibleWrites,s))return null;{const o=Oi(t.visibleWrites,s);return a1(o)?i.getChild(n):fa(o,i.getChild(n))}}function xF(t,e,n,r){const i=kt(e,n),s=Ys(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Oi(t.visibleWrites,i);return fa(o,r.getNode().getImmediateChild(n))}else return null}function vF(t,e){return Ys(t.visibleWrites,e)}function yF(t,e,n,r,i,s,o){let a;const l=Oi(t.visibleWrites,e),c=Ys(l,Ue());if(c!=null)a=c;else if(n!=null)a=fa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&u.length<i;)h(m,r)!==0&&u.push(m),m=f.getNext();return u}else return[]}function _F(){return{visibleWrites:pr.empty(),allWrites:[],lastWriteId:-1}}function l1(t,e,n,r){return B8(t.writeTree,t.treePath,e,n,r)}function j8(t,e){return mF(t.writeTree,t.treePath,e)}function _4(t,e,n,r){return gF(t.writeTree,t.treePath,e,n,r)}function c0(t,e){return vF(t.writeTree,kt(t.treePath,e))}function wF(t,e,n,r,i,s){return yF(t.writeTree,t.treePath,e,n,r,i,s)}function H2(t,e,n){return xF(t.writeTree,t.treePath,e,n)}function L8(t,e){return $8(kt(t.treePath,e),t.writeTree)}function $8(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,f4(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,XR(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,YR(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,f4(r,e.snapshotNode,i.oldSnap));else throw Ea("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const O8=new CF;class z2{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new V2(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return H2(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zs(this.viewCache_),s=wF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function SF(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bF(t,e,n,r,i){const s=new EF;let o,a;if(n.type===Fr.OVERWRITE){const c=n;c.source.fromUser?o=c1(t,e,c.path,c.snap,r,i,s):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Se(c.path),o=u0(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Fr.MERGE){const c=n;c.source.fromUser?o=kF(t,e,c.path,c.children,r,i,s):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=u1(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Fr.ACK_USER_WRITE){const c=n;c.revert?o=TF(t,e,c.path,r,i,s):o=AF(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Fr.LISTEN_COMPLETE)o=NF(t,e,n.path,r,s);else throw Ea("Unknown operation type: "+n.type);const l=s.getChanges();return DF(e,o,l),{viewCache:o,changes:l}}function DF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=s1(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(QR(s1(e)))}}function U8(t,e,n,r,i,s){const o=e.eventCache;if(c0(r,n)!=null)return e;{let a,l;if(Se(n))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=zs(e),u=c instanceof Be?c:Be.EMPTY_NODE,h=j8(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=l1(r,zs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ke(n);if(c===".priority"){Q(Gi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=_4(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Ge(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=_4(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=H2(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,s):a=o.getNode()}}return Rl(e,a,o.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function u0(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Se(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=ke(n);if(!l.isCompleteForPath(n)&&Gi(n)>1)return e;const g=Ge(n),_=l.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),m,_,g,O8,null)}const h=R8(e,c,l.isFullyInitialized()||Se(n),u.filtersNodes()),f=new z2(i,h,s);return U8(t,h,n,i,f,a)}function c1(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new z2(i,e,s);if(Se(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Rl(e,c,!0,t.filter.filtersNodes());else{const h=ke(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Rl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ge(n),m=a.getNode().getImmediateChild(h);let g;if(Se(f))g=r;else{const v=u.getCompleteChild(h);v!=null?x8(f)===".priority"&&v.getChild(y8(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=Be.EMPTY_NODE}if(m.equals(g))l=e;else{const v=t.filter.updateChild(a.getNode(),h,g,f,u,o);l=Rl(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function w4(t,e){return t.eventCache.isCompleteForChild(e)}function kF(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=kt(n,l);w4(e,ke(u))&&(a=c1(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=kt(n,l);w4(e,ke(u))||(a=c1(t,a,u,c,i,s,o))}),a}function E4(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function u1(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Se(n)?c=r:c=new qe(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),g=E4(t,m,f);l=u0(t,l,new Xe(h),g,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const m=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!m){const g=e.serverCache.getNode().getImmediateChild(h),v=E4(t,g,f);l=u0(t,l,new Xe(h),v,i,s,o,a)}}),l}function AF(t,e,n,r,i,s,o){if(c0(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return u0(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Se(n)){let c=new qe(null);return l.getNode().forEachChild(Wo,(u,h)=>{c=c.set(new Xe(u),h)}),u1(t,e,n,c,i,s,a,o)}else return e}else{let c=new qe(null);return r.foreach((u,h)=>{const f=kt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),u1(t,e,n,c,i,s,a,o)}}function NF(t,e,n,r,i){const s=e.serverCache,o=R8(e,s.getNode(),s.isFullyInitialized()||Se(n),s.isFiltered());return U8(t,o,n,r,O8,i)}function TF(t,e,n,r,i,s){let o;if(c0(r,n)!=null)return e;{const a=new z2(r,e,i),l=e.eventCache.getNode();let c;if(Se(n)||ke(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=l1(r,zs(e));else{const h=e.serverCache.getNode();Q(h instanceof Be,"serverChildren would be complete if leaf node"),u=j8(r,h)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=ke(n);let h=H2(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Ge(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Be.EMPTY_NODE,Ge(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=l1(r,zs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||c0(r,Ue())!=null,Rl(e,c,o,t.filter.filtersNodes())}}function IF(t,e){const n=zs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(ke(e)).isEmpty())?n.getChild(e):null}function C4(t,e,n,r){e.type===Fr.MERGE&&e.source.queryId!==null&&(Q(zs(t.viewCache_),"We should always have a full cache before handling merges"),Q(s1(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=bF(t.processor_,i,e,n,r);return SF(t.processor_,s.viewCache),Q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,RF(t,s.changes,s.viewCache.eventCache.getNode())}function RF(t,e,n,r){const i=t.eventRegistrations_;return sF(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S4;function FF(t){Q(!S4,"__referenceConstructor has already been defined"),S4=t}function W2(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Q(s!=null,"SyncTree gave us an op for an invalid query."),C4(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(C4(o,e,n,r));return s}}function q2(t,e){let n=null;for(const r of t.views.values())n=n||IF(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b4;function PF(t){Q(!b4,"__referenceConstructor has already been defined"),b4=t}class D4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qe(null),this.pendingWriteTree_=_F(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MF(t,e,n,r,i){return cF(t.pendingWriteTree_,e,n,r,i),i?Cd(t,new Hs(A8(),e,n)):[]}function Ro(t,e,n=!1){const r=uF(t.pendingWriteTree_,e);if(hF(t.pendingWriteTree_,e)){let s=new qe(null);return r.snap!=null?s=s.set(Ue(),!0):Zn(r.children,o=>{s=s.set(new Xe(o),!0)}),Cd(t,new l0(r.path,s,n))}else return[]}function Ed(t,e,n){return Cd(t,new Hs(N8(),e,n))}function BF(t,e,n){const r=qe.fromObject(n);return Cd(t,new xc(N8(),e,r))}function jF(t,e,n,r){const i=W8(t,r);if(i!=null){const s=q8(i),o=s.path,a=s.queryId,l=Kn(o,e),c=new Hs(T8(a),l,n);return G8(t,o,c)}else return[]}function LF(t,e,n,r){const i=W8(t,r);if(i){const s=q8(i),o=s.path,a=s.queryId,l=Kn(o,e),c=qe.fromObject(n),u=new xc(T8(a),l,c);return G8(t,o,u)}else return[]}function V8(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Kn(o,e),c=q2(a,l);if(c)return c});return B8(i,e,s,n,!0)}function Cd(t,e){return H8(e,t.syncPointTree_,null,P8(t.pendingWriteTree_,Ue()))}function H8(t,e,n,r){if(Se(t.path))return z8(t,e,n,r);{const i=e.get(Ue());n==null&&i!=null&&(n=q2(i,Ue()));let s=[];const o=ke(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=L8(r,o);s=s.concat(H8(a,l,c,u))}return i&&(s=s.concat(W2(i,t,r,n))),s}}function z8(t,e,n,r){const i=e.get(Ue());n==null&&i!=null&&(n=q2(i,Ue()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=L8(r,o),u=t.operationForChild(o);u&&(s=s.concat(z8(u,a,l,c)))}),i&&(s=s.concat(W2(i,t,r,n))),s}function W8(t,e){return t.tagToQueryMap.get(e)}function q8(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xe(t.substr(0,e))}}function G8(t,e,n){const r=t.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");const i=P8(t.pendingWriteTree_,e);return W2(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new G2(n)}node(){return this.node_}}class K2{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=kt(this.path_,e);return new K2(this.syncTree_,n)}node(){return V8(this.syncTree_,this.path_)}}const $F=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},k4=function(t,e,n){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return OF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return UF(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},OF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Q(!1,"Unexpected server value: "+t)}},UF=function(t,e,n){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const i=e.node();if(Q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},VF=function(t,e,n,r){return Q2(e,new K2(n,t),r)},HF=function(t,e,n){return Q2(t,new G2(e),n)};function Q2(t,e,n){const r=t.getPriority().val(),i=k4(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=k4(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Et(a,Qt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Et(i))),o.forEachChild(Yt,(a,l)=>{const c=Q2(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function X2(t,e){let n=e instanceof Xe?e:new Xe(e),r=t,i=ke(n);for(;i!==null;){const s=ta(r.node.children,i)||{children:{},childCount:0};r=new Y2(i,r,s),n=Ge(n),i=ke(n)}return r}function Ta(t){return t.node.value}function K8(t,e){t.node.value=e,h1(t)}function Q8(t){return t.node.childCount>0}function zF(t){return Ta(t)===void 0&&!Q8(t)}function Sd(t,e){Zn(t.node.children,(n,r)=>{e(new Y2(n,t,r))})}function Y8(t,e,n,r){n&&!r&&e(t),Sd(t,i=>{Y8(i,e,!0,r)}),n&&r&&e(t)}function WF(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Kc(t){return new Xe(t.parent===null?t.name:Kc(t.parent)+"/"+t.name)}function h1(t){t.parent!==null&&qF(t.parent,t.name,t)}function qF(t,e,n){const r=zF(n),i=fi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,h1(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,h1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=/[\[\].#$\/\u0000-\u001F\u007F]/,KF=/[\[\].#$\u0000-\u001F\u007F]/,Mf=10*1024*1024,X8=function(t){return typeof t=="string"&&t.length!==0&&!GF.test(t)},QF=function(t){return typeof t=="string"&&t.length!==0&&!KF.test(t)},YF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QF(t)},Z8=function(t,e,n){const r=n instanceof Xe?new NR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ps(r));if(typeof e=="function")throw new Error(t+"contains a function "+ps(r)+" with contents = "+e.toString());if(YC(e))throw new Error(t+"contains "+e.toString()+" "+ps(r));if(typeof e=="string"&&e.length>Mf/3&&M0(e)>Mf)throw new Error(t+"contains a string greater than "+Mf+" utf8 bytes "+ps(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Zn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!X8(o)))throw new Error(t+" contains an invalid key ("+o+") "+ps(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TR(r,o),Z8(t,a,r),IR(r)}),i&&s)throw new Error(t+' contains ".value" child '+ps(r)+" in addition to actual children.")}},XF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!X8(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YF(n))throw new Error(kD(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function JF(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!_8(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Xs(t,e,n){JF(t,n),eP(t,r=>lr(r,e)||lr(e,r))}function eP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(tP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function tP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Tl&&Kt("event: "+n.toString()),qc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="repo_interrupt",rP=25;class iP{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=a0(),this.transactionQueueTree_=new Y2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sP(t,e,n){if(t.stats_=j2(t.repoInfo_),t.forceRestClient_||eR())t.server_=new o0(t.repoInfo_,(r,i,s,o)=>{A4(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>N4(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ti(t.repoInfo_,e,(r,i,s,o)=>{A4(t,r,i,s,o)},r=>{N4(t,r)},r=>{aP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=sR(t.repoInfo_,()=>new iF(t.stats_,t.server_)),t.infoData_=new JR,t.infoSyncTree_=new D4({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ed(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Z2(t,"connected",!1),t.serverSyncTree_=new D4({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Xs(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function oP(t){const n=t.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function J8(t){return $F({timestamp:oP(t)})}function A4(t,e,n,r,i){t.dataUpdateCount++;const s=new Xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Oh(n,c=>Qt(c));o=LF(t.serverSyncTree_,s,l,i)}else{const l=Qt(n);o=jF(t.serverSyncTree_,s,l,i)}else if(r){const l=Oh(n,c=>Qt(c));o=BF(t.serverSyncTree_,s,l)}else{const l=Qt(n);o=Ed(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ex(t,s)),Xs(t.eventQueue_,a,o)}function N4(t,e){Z2(t,"connected",e),e===!1&&cP(t)}function aP(t,e){Zn(e,(n,r)=>{Z2(t,n,r)})}function Z2(t,e,n){const r=new Xe("/.info/"+e),i=Qt(n);t.infoData_.updateSnapshot(r,i);const s=Ed(t.infoSyncTree_,r,i);Xs(t.eventQueue_,r,s)}function lP(t){return t.nextWriteId_++}function cP(t){e6(t,"onDisconnectEvents");const e=J8(t),n=a0();i1(t.onDisconnect_,Ue(),(i,s)=>{const o=VF(i,s,t.serverSyncTree_,e);k8(n,i,o)});let r=[];i1(n,Ue(),(i,s)=>{r=r.concat(Ed(t.serverSyncTree_,i,s));const o=fP(t,i);ex(t,o)}),t.onDisconnect_=a0(),Xs(t.eventQueue_,Ue(),r)}function uP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(nP)}function e6(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Kt(n,...e)}function t6(t,e,n){return V8(t.serverSyncTree_,e,n)||Be.EMPTY_NODE}function J2(t,e=t.transactionQueueTree_){if(e||bd(t,e),Ta(e)){const n=r6(t,e);Q(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&hP(t,Kc(e),n)}else Q8(e)&&Sd(e,n=>{J2(t,n)})}function hP(t,e,n){const r=n.map(c=>c.currentWriteId),i=t6(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Q(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Kn(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{e6(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ro(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();bd(t,X2(t.transactionQueueTree_,e)),J2(t,t.transactionQueueTree_),Xs(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)qc(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Mn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ex(t,e)}},o)}function ex(t,e){const n=n6(t,e),r=Kc(n),i=r6(t,n);return dP(t,i,r),r}function dP(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Kn(n,l.path);let u=!1,h;if(Q(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(Ro(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=rP)u=!0,h="maxretry",i=i.concat(Ro(t.serverSyncTree_,l.currentWriteId,!0));else{const f=t6(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){Z8("transaction failed: Data returned ",m,l.path);let g=Qt(m);typeof m=="object"&&m!=null&&fi(m,".priority")||(g=g.updatePriority(f.getPriority()));const _=l.currentWriteId,y=J8(t),p=HF(g,f,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=p,l.currentWriteId=lP(t),o.splice(o.indexOf(_),1),i=i.concat(MF(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Ro(t.serverSyncTree_,_,!0))}else u=!0,h="nodata",i=i.concat(Ro(t.serverSyncTree_,l.currentWriteId,!0))}Xs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}bd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)qc(r[a]);J2(t,t.transactionQueueTree_)}function n6(t,e){let n,r=t.transactionQueueTree_;for(n=ke(e);n!==null&&Ta(r)===void 0;)r=X2(r,n),e=Ge(e),n=ke(e);return r}function r6(t,e){const n=[];return i6(t,e,n),n.sort((r,i)=>r.order-i.order),n}function i6(t,e,n){const r=Ta(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sd(e,i=>{i6(t,i,n)})}function bd(t,e){const n=Ta(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,K8(e,n.length>0?n:void 0)}Sd(e,r=>{bd(t,r)})}function fP(t,e){const n=Kc(n6(t,e)),r=X2(t.transactionQueueTree_,e);return WF(r,i=>{Bf(t,i)}),Bf(t,r),Y8(r,i=>{Bf(t,i)}),n}function Bf(t,e){const n=Ta(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Q(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ro(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?K8(e,void 0):n.length=s+1,Xs(t.eventQueue_,Kc(e),i);for(let o=0;o<r.length;o++)qc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function mP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mn(`Invalid query segment '${n}' in query '${t}'`)}return e}const T4=function(t,e){const n=gP(t),r=n.namespace;n.domain==="firebase.com"&&hi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||qI();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new l8(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Xe(n.pathString)}},gP=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=pP(t.substring(u,h)));const f=mP(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Se(this._path)?null:x8(this._path)}get ref(){return new Ia(this._repo,this._path)}get _queryIdentifier(){const e=m4(this._queryParams),n=M2(e);return n==="{}"?"default":n}get _queryObject(){return m4(this._queryParams)}isEqual(e){if(e=Sn(e),!(e instanceof tx))return!1;const n=this._repo===e._repo,r=_8(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+AR(this._path)}}class Ia extends tx{constructor(e,n){super(e,n,new U2,!1)}get parent(){const e=y8(this._path);return e===null?null:new Ia(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function ln(t,...e){let n=Sn(t);for(const r of e)n=r._apply(n);return n}FF(Ia);PF(Ia);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="FIREBASE_DATABASE_EMULATOR_HOST",d1={};let vP=!1;function yP(t,e,n,r){t.repoInfo_=new l8(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function _P(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=T4(s,i),a=o.repoInfo,l;typeof process<"u"&&Yy&&(l=Yy[xP]),l?(s=`http://${l}?ns=${a.namespace}`,o=T4(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new nR(t.name,t.options,e);XF("Invalid Firebase Database URL",o),Se(o.path)||hi("Database URL must point to the root of a Firebase Database (not including a child path).");const u=EP(a,t,c,new tR(t.name,n));return new CP(u,t)}function wP(t,e){const n=d1[e];(!n||n[t.key]!==t)&&hi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),uP(t),delete n[t.key]}function EP(t,e,n,r){let i=d1[e.name];i||(i={},d1[e.name]=i);let s=i[t.toURLString()];return s&&hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new iP(t,vP,n,r),i[t.toURLString()]=s,s}class CP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ia(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hi("Cannot call "+e+" on a deleted database.")}}function SP(t=S5(),e){const n=w5(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=d5("database");r&&bP(n,...r)}return n}function bP(t,e,n,r={}){t=Sn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&hi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new nh(nh.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:p5(r.mockUserToken,t.app.options.projectId);s=new nh(o)}yP(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){OI(E5),ec(new na("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return _P(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ji(Xy,Zy,t),ji(Xy,Zy,"esm2017")}ti.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ti.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DP();let kP={apiKey:"AIzaSyBCtuJRMY3TLF0pnWCUSL1jnxFOHJtZ5fE",authDomain:"steeltechiot.firebaseapp.com",databaseURL:"https://steeltechiot-default-rtdb.firebaseio.com",projectId:"steeltechiot",storageBucket:"steeltechiot.appspot.com",messagingSenderId:"918836431428",appId:"1:918836431428:web:ced95dc23e447f30d68a11",measurementId:"G-XE8XTNRSHB"};const s6=C5(kP);SP(s6);const ye=CI(s6);function AP(t){let[e,n]=k.useState(0),[r,i]=k.useState(0),[s,o]=k.useState({product_type:"",thickness:"",product_dimensions:""});return k.useEffect(()=>{let a=tt(ye,"machines");const l=ei(a,le("machine_no","==",t.machineNo),fr("unix_time","desc"),$r(1));let c=_d(l,u=>{var f,m,g,v,_,y,p;const h=u.docs.map(x=>({id:x.id,...x.data()}));console.log("updatedData",h),o({product_type:(f=h[0])==null?void 0:f.product_type,thickness:(m=h[0])==null?void 0:m.thickness,product_dimensions:(g=h[0])==null?void 0:g.product_dimensions}),n((v=h[0])!=null&&v.count?(_=h[0])==null?void 0:_.count:0),i(((y=h[0])==null?void 0:y.weight)==""?0:(p=h[0])==null?void 0:p.weight)});return()=>c()},[]),d.jsx("div",{className:`border-[3px]  rounded-lg ${t!=null&&t.active?"border-[#009245]":"border-[#ED1C24]"}`,children:d.jsxs("div",{className:"flex gap-4 justify-between h-full ",children:[d.jsxs("div",{className:"w-full flex flex-col gap-2 justify-between p-3 items-start",children:[d.jsxs("h2",{className:"text-2xl font-semibold",children:["FM ",t.machineNo]}),d.jsxs("button",{className:"flex gap-2 items-center bg-black text-white px-4 py-2 rounded-md",children:[d.jsx("div",{className:`w-4 h-4 rounded-full ${t!=null&&t.active?"bg-[#009245]":"bg-[#ED1C24]"}`}),d.jsx("p",{children:t!=null&&t.active?"Active":"Idle"})]}),d.jsxs("div",{className:"pt-3",children:[d.jsxs("p",{children:["(Last updated ",t.idleTime," ago)"]}),d.jsxs("p",{children:["Total Product: ",e]}),d.jsxs("p",{children:["Total Weight: ",r," kg"]})]})]}),d.jsxs("div",{className:"min-w-[90px]  bg-black/80 text-white flex flex-col justify-between items-center  px-2 py-6",children:[d.jsx("img",{src:oD,alt:"",className:"w-[60px] h-auto"}),d.jsxs("div",{className:"text-center text-xs",children:[d.jsx("p",{children:s==null?void 0:s.product_type}),d.jsx("p",{children:s==null?void 0:s.thickness}),d.jsx("p",{children:s==null?void 0:s.product_dimensions})]})]})]})})}var _n=function(){return _n=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_n.apply(this,arguments)};function vc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var We="-ms-",Pl="-moz-",Me="-webkit-",o6="comm",Dd="rule",nx="decl",NP="@import",a6="@keyframes",TP="@layer",l6=Math.abs,rx=String.fromCharCode,f1=Object.assign;function IP(t,e){return Dt(t,0)^45?(((e<<2^Dt(t,0))<<2^Dt(t,1))<<2^Dt(t,2))<<2^Dt(t,3):0}function c6(t){return t.trim()}function Wr(t,e){return(t=e.exec(t))?t[0]:t}function ge(t,e,n){return t.replace(e,n)}function rh(t,e,n){return t.indexOf(e,n)}function Dt(t,e){return t.charCodeAt(e)|0}function pa(t,e,n){return t.slice(e,n)}function kr(t){return t.length}function u6(t){return t.length}function gl(t,e){return e.push(t),t}function RP(t,e){return t.map(e).join("")}function I4(t,e){return t.filter(function(n){return!Wr(n,e)})}var kd=1,ma=1,h6=0,Jn=0,xt=0,Ra="";function Ad(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:kd,column:ma,length:o,return:"",siblings:a}}function vi(t,e){return f1(Ad("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function fo(t){for(;t.root;)t=vi(t.root,{children:[t]});gl(t,t.siblings)}function FP(){return xt}function PP(){return xt=Jn>0?Dt(Ra,--Jn):0,ma--,xt===10&&(ma=1,kd--),xt}function mr(){return xt=Jn<h6?Dt(Ra,Jn++):0,ma++,xt===10&&(ma=1,kd++),xt}function Ts(){return Dt(Ra,Jn)}function ih(){return Jn}function Nd(t,e){return pa(Ra,t,e)}function p1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MP(t){return kd=ma=1,h6=kr(Ra=t),Jn=0,[]}function BP(t){return Ra="",t}function jf(t){return c6(Nd(Jn-1,m1(t===91?t+2:t===40?t+1:t)))}function jP(t){for(;(xt=Ts())&&xt<33;)mr();return p1(t)>2||p1(xt)>3?"":" "}function LP(t,e){for(;--e&&mr()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return Nd(t,ih()+(e<6&&Ts()==32&&mr()==32))}function m1(t){for(;mr();)switch(xt){case t:return Jn;case 34:case 39:t!==34&&t!==39&&m1(xt);break;case 40:t===41&&m1(t);break;case 92:mr();break}return Jn}function $P(t,e){for(;mr()&&t+xt!==57;)if(t+xt===84&&Ts()===47)break;return"/*"+Nd(e,Jn-1)+"*"+rx(t===47?t:mr())}function OP(t){for(;!p1(Ts());)mr();return Nd(t,Jn)}function UP(t){return BP(sh("",null,null,null,[""],t=MP(t),0,[0],t))}function sh(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,m=0,g=0,v=1,_=1,y=1,p=0,x="",w=i,C=s,E=r,S=x;_;)switch(g=p,p=mr()){case 40:if(g!=108&&Dt(S,h-1)==58){rh(S+=ge(jf(p),"&","&\f"),"&\f",l6(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:S+=jf(p);break;case 9:case 10:case 13:case 32:S+=jP(g);break;case 92:S+=LP(ih()-1,7);continue;case 47:switch(Ts()){case 42:case 47:gl(VP($P(mr(),ih()),e,n,l),l);break;default:S+="/"}break;case 123*v:a[c++]=kr(S)*y;case 125*v:case 59:case 0:switch(p){case 0:case 125:_=0;case 59+u:y==-1&&(S=ge(S,/\f/g,"")),m>0&&kr(S)-h&&gl(m>32?F4(S+";",r,n,h-1,l):F4(ge(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(gl(E=R4(S,e,n,c,u,i,a,x,w=[],C=[],h,s),s),p===123)if(u===0)sh(S,e,E,E,w,s,h,a,C);else switch(f===99&&Dt(S,3)===110?100:f){case 100:case 108:case 109:case 115:sh(t,E,E,r&&gl(R4(t,E,E,0,0,i,a,x,i,w=[],h,C),C),i,C,h,a,r?w:C);break;default:sh(S,E,E,E,[""],C,0,a,C)}}c=u=m=0,v=y=1,x=S="",h=o;break;case 58:h=1+kr(S),m=g;default:if(v<1){if(p==123)--v;else if(p==125&&v++==0&&PP()==125)continue}switch(S+=rx(p),p*v){case 38:y=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(kr(S)-1)*y,y=1;break;case 64:Ts()===45&&(S+=jf(mr())),f=Ts(),u=h=kr(x=S+=OP(ih())),p++;break;case 45:g===45&&kr(S)==2&&(v=0)}}return s}function R4(t,e,n,r,i,s,o,a,l,c,u,h){for(var f=i-1,m=i===0?s:[""],g=u6(m),v=0,_=0,y=0;v<r;++v)for(var p=0,x=pa(t,f+1,f=l6(_=o[v])),w=t;p<g;++p)(w=c6(_>0?m[p]+" "+x:ge(x,/&\f/g,m[p])))&&(l[y++]=w);return Ad(t,e,n,i===0?Dd:a,l,c,u,h)}function VP(t,e,n,r){return Ad(t,e,n,o6,rx(FP()),pa(t,2,-2),0,r)}function F4(t,e,n,r,i){return Ad(t,e,n,nx,pa(t,0,r),pa(t,r+1,-1),r,i)}function d6(t,e,n){switch(IP(t,e)){case 5103:return Me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+t+t;case 4789:return Pl+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+t+Pl+t+We+t+t;case 5936:switch(Dt(t,e+11)){case 114:return Me+t+We+ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Me+t+We+ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Me+t+We+ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Me+t+We+t+t;case 6165:return Me+t+We+"flex-"+t+t;case 5187:return Me+t+ge(t,/(\w+).+(:[^]+)/,Me+"box-$1$2"+We+"flex-$1$2")+t;case 5443:return Me+t+We+"flex-item-"+ge(t,/flex-|-self/g,"")+(Wr(t,/flex-|baseline/)?"":We+"grid-row-"+ge(t,/flex-|-self/g,""))+t;case 4675:return Me+t+We+"flex-line-pack"+ge(t,/align-content|flex-|-self/g,"")+t;case 5548:return Me+t+We+ge(t,"shrink","negative")+t;case 5292:return Me+t+We+ge(t,"basis","preferred-size")+t;case 6060:return Me+"box-"+ge(t,"-grow","")+Me+t+We+ge(t,"grow","positive")+t;case 4554:return Me+ge(t,/([^-])(transform)/g,"$1"+Me+"$2")+t;case 6187:return ge(ge(ge(t,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),t,"")+t;case 5495:case 3959:return ge(t,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return ge(ge(t,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+We+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+t+t;case 4200:if(!Wr(t,/flex-|baseline/))return We+"grid-column-align"+pa(t,e)+t;break;case 2592:case 3360:return We+ge(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Wr(r.props,/grid-\w+-end/)})?~rh(t+(n=n[e].value),"span",0)?t:We+ge(t,"-start","")+t+We+"grid-row-span:"+(~rh(n,"span",0)?Wr(n,/\d+/):+Wr(n,/\d+/)-+Wr(t,/\d+/))+";":We+ge(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Wr(r.props,/grid-\w+-start/)})?t:We+ge(ge(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ge(t,/(.+)-inline(.+)/,Me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kr(t)-1-e>6)switch(Dt(t,e+1)){case 109:if(Dt(t,e+4)!==45)break;case 102:return ge(t,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+Pl+(Dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~rh(t,"stretch",0)?d6(ge(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ge(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return We+i+":"+s+c+(o?We+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Dt(t,e+6)===121)return ge(t,":",":"+Me)+t;break;case 6444:switch(Dt(t,Dt(t,14)===45?18:11)){case 120:return ge(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Me+(Dt(t,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+We+"$2box$3")+t;case 100:return ge(t,":",":"+We)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ge(t,"scroll-","scroll-snap-")+t}return t}function h0(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function HP(t,e,n,r){switch(t.type){case TP:if(t.children.length)break;case NP:case nx:return t.return=t.return||t.value;case o6:return"";case a6:return t.return=t.value+"{"+h0(t.children,r)+"}";case Dd:if(!kr(t.value=t.props.join(",")))return""}return kr(n=h0(t.children,r))?t.return=t.value+"{"+n+"}":""}function zP(t){var e=u6(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function WP(t){return function(e){e.root||(e=e.return)&&t(e)}}function qP(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case nx:t.return=d6(t.value,t.length,n);return;case a6:return h0([vi(t,{value:ge(t.value,"@","@"+Me)})],r);case Dd:if(t.length)return RP(n=t.props,function(i){switch(Wr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":fo(vi(t,{props:[ge(i,/:(read-\w+)/,":"+Pl+"$1")]})),fo(vi(t,{props:[i]})),f1(t,{props:I4(n,r)});break;case"::placeholder":fo(vi(t,{props:[ge(i,/:(plac\w+)/,":"+Me+"input-$1")]})),fo(vi(t,{props:[ge(i,/:(plac\w+)/,":"+Pl+"$1")]})),fo(vi(t,{props:[ge(i,/:(plac\w+)/,We+"input-$1")]})),fo(vi(t,{props:[i]})),f1(t,{props:I4(n,r)});break}return""})}}var GP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kn={},ga=typeof process<"u"&&kn!==void 0&&(kn.REACT_APP_SC_ATTR||kn.SC_ATTR)||"data-styled",f6="active",p6="data-styled-version",Td="6.1.13",ix=`/*!sc*/
`,d0=typeof window<"u"&&"HTMLElement"in window,KP=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&kn!==void 0&&kn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&kn.REACT_APP_SC_DISABLE_SPEEDY!==""?kn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&kn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&kn!==void 0&&kn.SC_DISABLE_SPEEDY!==void 0&&kn.SC_DISABLE_SPEEDY!==""&&kn.SC_DISABLE_SPEEDY!=="false"&&kn.SC_DISABLE_SPEEDY),Id=Object.freeze([]),xa=Object.freeze({});function QP(t,e,n){return n===void 0&&(n=xa),t.theme!==n.theme&&t.theme||e||n.theme}var m6=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),YP=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,XP=/(^-|-$)/g;function P4(t){return t.replace(YP,"-").replace(XP,"")}var ZP=/(a)(d)/gi,Pu=52,M4=function(t){return String.fromCharCode(t+(t>25?39:97))};function g1(t){var e,n="";for(e=Math.abs(t);e>Pu;e=e/Pu|0)n=M4(e%Pu)+n;return(M4(e%Pu)+n).replace(ZP,"$1-$2")}var Lf,g6=5381,Fo=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},x6=function(t){return Fo(g6,t)};function v6(t){return g1(x6(t)>>>0)}function JP(t){return t.displayName||t.name||"Component"}function $f(t){return typeof t=="string"&&!0}var y6=typeof Symbol=="function"&&Symbol.for,_6=y6?Symbol.for("react.memo"):60115,eM=y6?Symbol.for("react.forward_ref"):60112,tM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rM=((Lf={})[eM]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lf[_6]=w6,Lf);function B4(t){return("type"in(e=t)&&e.type.$$typeof)===_6?w6:"$$typeof"in t?rM[t.$$typeof]:tM;var e}var iM=Object.defineProperty,sM=Object.getOwnPropertyNames,j4=Object.getOwnPropertySymbols,oM=Object.getOwnPropertyDescriptor,aM=Object.getPrototypeOf,L4=Object.prototype;function E6(t,e,n){if(typeof e!="string"){if(L4){var r=aM(e);r&&r!==L4&&E6(t,r,n)}var i=sM(e);j4&&(i=i.concat(j4(e)));for(var s=B4(t),o=B4(e),a=0;a<i.length;++a){var l=i[a];if(!(l in nM||n&&n[l]||o&&l in o||s&&l in s)){var c=oM(e,l);try{iM(t,l,c)}catch{}}}}return t}function va(t){return typeof t=="function"}function sx(t){return typeof t=="object"&&"styledComponentId"in t}function bs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function x1(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function yc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function v1(t,e,n){if(n===void 0&&(n=!1),!n&&!yc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=v1(t[r],e[r]);else if(yc(e))for(var r in e)t[r]=v1(t[r],e[r]);return t}function ox(t,e){Object.defineProperty(t,"toString",{value:e})}function Qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var lM=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Qc(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(ix);return n},t}(),oh=new Map,f0=new Map,ah=1,Mu=function(t){if(oh.has(t))return oh.get(t);for(;f0.has(ah);)ah++;var e=ah++;return oh.set(t,e),f0.set(e,t),e},cM=function(t,e){ah=e+1,oh.set(t,e),f0.set(e,t)},uM="style[".concat(ga,"][").concat(p6,'="').concat(Td,'"]'),hM=new RegExp("^".concat(ga,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),dM=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},fM=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(ix),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(hM);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(cM(u,c),dM(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},$4=function(t){for(var e=document.querySelectorAll(uM),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(ga)!==f6&&(fM(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function pM(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var C6=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(ga,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(ga,f6),r.setAttribute(p6,Td);var o=pM();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},mM=function(){function t(e){this.element=C6(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Qc(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),gM=function(){function t(e){this.element=C6(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),xM=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),O4=d0,vM={isServer:!d0,useCSSOMInjection:!KP},S6=function(){function t(e,n,r){e===void 0&&(e=xa),n===void 0&&(n={});var i=this;this.options=_n(_n({},vM),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&d0&&O4&&(O4=!1,$4(this)),ox(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=function(y){return f0.get(y)}(h);if(f===void 0)return"continue";var m=s.names.get(f),g=o.getGroup(h);if(m===void 0||!m.size||g.length===0)return"continue";var v="".concat(ga,".g").concat(h,'[id="').concat(f,'"]'),_="";m!==void 0&&m.forEach(function(y){y.length>0&&(_+="".concat(y,","))}),l+="".concat(g).concat(v,'{content:"').concat(_,'"}').concat(ix)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Mu(e)},t.prototype.rehydrate=function(){!this.server&&d0&&$4(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(_n(_n({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new xM(i):r?new mM(i):new gM(i)}(this.options),new lM(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Mu(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Mu(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Mu(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),yM=/&/g,_M=/^\s*\/\/.*$/gm;function b6(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=b6(n.children,e)),n})}function wM(t){var e,n,r,i=xa,s=i.options,o=s===void 0?xa:s,a=i.plugins,l=a===void 0?Id:a,c=function(f,m,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===Dd&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(yM,n).replace(r,c))}),o.prefix&&u.push(qP),u.push(HP);var h=function(f,m,g,v){m===void 0&&(m=""),g===void 0&&(g=""),v===void 0&&(v="&"),e=v,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var _=f.replace(_M,""),y=UP(g||m?"".concat(g," ").concat(m," { ").concat(_," }"):_);o.namespace&&(y=b6(y,o.namespace));var p=[];return h0(y,zP(u.concat(WP(function(x){return p.push(x)})))),p};return h.hash=l.length?l.reduce(function(f,m){return m.name||Qc(15),Fo(f,m.name)},g6).toString():"",h}var EM=new S6,y1=wM(),D6=In.createContext({shouldForwardProp:void 0,styleSheet:EM,stylis:y1});D6.Consumer;In.createContext(void 0);function U4(){return k.useContext(D6)}var k6=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=y1);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,ox(this,function(){throw Qc(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=y1),this.name+e.hash},t}(),CM=function(t){return t>="A"&&t<="Z"};function V4(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;CM(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var A6=function(t){return t==null||t===!1||t===""},N6=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!A6(s)&&(Array.isArray(s)&&s.isCss||va(s)?r.push("".concat(V4(i),":"),s,";"):yc(s)?r.push.apply(r,vc(vc(["".concat(i," {")],N6(s),!1),["}"],!1)):r.push("".concat(V4(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in GP||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Is(t,e,n,r){if(A6(t))return[];if(sx(t))return[".".concat(t.styledComponentId)];if(va(t)){if(!va(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Is(i,e,n,r)}var s;return t instanceof k6?n?(t.inject(n,r),[t.getName(r)]):[t]:yc(t)?N6(t):Array.isArray(t)?Array.prototype.concat.apply(Id,t.map(function(o){return Is(o,e,n,r)})):[t.toString()]}function SM(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(va(n)&&!sx(n))return!1}return!0}var bM=x6(Td),DM=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&SM(e),this.componentId=n,this.baseHash=Fo(bM,n),this.baseStyle=r,S6.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=bs(i,this.staticRulesId);else{var s=x1(Is(this.rules,e,n,r)),o=g1(Fo(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=bs(i,o),this.staticRulesId=o}else{for(var l=Fo(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=x1(Is(h,e,n,r));l=Fo(l,f+u),c+=f}}if(c){var m=g1(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=bs(i,m)}}return i},t}(),T6=In.createContext(void 0);T6.Consumer;var Of={};function kM(t,e,n){var r=sx(t),i=t,s=!$f(t),o=e.attrs,a=o===void 0?Id:o,l=e.componentId,c=l===void 0?function(w,C){var E=typeof w!="string"?"sc":P4(w);Of[E]=(Of[E]||0)+1;var S="".concat(E,"-").concat(v6(Td+E+Of[E]));return C?"".concat(C,"-").concat(S):S}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(w){return $f(w)?"styled.".concat(w):"Styled(".concat(JP(w),")")}(t):u,f=e.displayName&&e.componentId?"".concat(P4(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var _=e.shouldForwardProp;g=function(w,C){return v(w,C)&&_(w,C)}}else g=v}var y=new DM(n,f,r?i.componentStyle:void 0);function p(w,C){return function(E,S,D){var T=E.attrs,b=E.componentStyle,N=E.defaultProps,M=E.foldedComponentIds,B=E.styledComponentId,q=E.target,K=In.useContext(T6),Z=U4(),re=E.shouldForwardProp||Z.shouldForwardProp,$=QP(S,K,N)||xa,V=function(me,ce,je){for(var ue,tn=_n(_n({},ce),{className:void 0,theme:je}),Un=0;Un<me.length;Un+=1){var Ze=va(ue=me[Un])?ue(tn):ue;for(var ht in Ze)tn[ht]=ht==="className"?bs(tn[ht],Ze[ht]):ht==="style"?_n(_n({},tn[ht]),Ze[ht]):Ze[ht]}return ce.className&&(tn.className=bs(tn.className,ce.className)),tn}(T,S,$),H=V.as||q,R={};for(var P in V)V[P]===void 0||P[0]==="$"||P==="as"||P==="theme"&&V.theme===$||(P==="forwardedAs"?R.as=V.forwardedAs:re&&!re(P,H)||(R[P]=V[P]));var O=function(me,ce){var je=U4(),ue=me.generateAndInjectStyles(ce,je.styleSheet,je.stylis);return ue}(b,V),j=bs(M,B);return O&&(j+=" "+O),V.className&&(j+=" "+V.className),R[$f(H)&&!m6.has(H)?"class":"className"]=j,R.ref=D,k.createElement(H,R)}(x,w,C)}p.displayName=h;var x=In.forwardRef(p);return x.attrs=m,x.componentStyle=y,x.displayName=h,x.shouldForwardProp=g,x.foldedComponentIds=r?bs(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=f,x.target=r?i.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(C){for(var E=[],S=1;S<arguments.length;S++)E[S-1]=arguments[S];for(var D=0,T=E;D<T.length;D++)v1(C,T[D],!0);return C}({},i.defaultProps,w):w}}),ox(x,function(){return".".concat(x.styledComponentId)}),s&&E6(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function H4(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var z4=function(t){return Object.assign(t,{isCss:!0})};function I6(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(va(t)||yc(t))return z4(Is(H4(Id,vc([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Is(r):z4(Is(H4(r,e)))}function _1(t,e,n){if(n===void 0&&(n=xa),!e)throw Qc(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,I6.apply(void 0,vc([i],s,!1)))};return r.attrs=function(i){return _1(t,e,_n(_n({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return _1(t,e,_n(_n({},n),i))},r}var R6=function(t){return _1(kM,t)},Zs=R6;m6.forEach(function(t){Zs[t]=R6(t)});function ax(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=x1(I6.apply(void 0,vc([t],e,!1))),i=v6(r);return new k6(i,r)}const AM="#4fa94d",NM={"aria-busy":!0,role:"progressbar"},TM=Zs.div`
  display: ${t=>t.$visible?"flex":"none"};
`,IM="http://www.w3.org/2000/svg",nr=242.776657104492,RM=1.6,FM=ax`
12.5% {
  stroke-dasharray: ${nr*.14}px, ${nr}px;
  stroke-dashoffset: -${nr*.11}px;
}
43.75% {
  stroke-dasharray: ${nr*.35}px, ${nr}px;
  stroke-dashoffset: -${nr*.35}px;
}
100% {
  stroke-dasharray: ${nr*.01}px, ${nr}px;
  stroke-dashoffset: -${nr*.99}px;
}
`;Zs.path`
  stroke-dasharray: ${nr*.01}px, ${nr};
  stroke-dashoffset: 0;
  animation: ${FM} ${RM}s linear infinite;
`;const PM=ax`
to {
   transform: rotate(360deg);
 }
`;Zs.svg`
  animation: ${PM} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Zs.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const MM="-3 -4 39 39",BM="16,0 32,32 0,32",jM=ax`
to {
   stroke-dashoffset: 136;
 }
`,LM=Zs.polygon`
  stroke-dasharray: 17;
  animation: ${jM} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`,$M=Zs.svg`
  transform-origin: 50% 65%;
`,lx=({height:t=80,width:e=80,color:n=AM,ariaLabel:r="triangle-loading",wrapperStyle:i,wrapperClass:s,visible:o=!0})=>d.jsx(TM,{style:i,$visible:o,className:`${s}`,"data-testid":"triangle-loading","aria-label":r,...NM,children:d.jsx($M,{id:"triangle",width:e,height:t,xmlns:IM,viewBox:MM,"data-testid":"triangle-svg",children:d.jsx(LM,{fill:"transparent",stroke:n,strokeWidth:"1",points:BM})})});function OM(){var c,u;let[t,e]=k.useState(!1),[n,r]=k.useState(!1),[i,s]=k.useState([]),[o,a]=k.useState("all");async function l(){const h=$t(ye,"information","info");return(await bn(h)).data()}return k.useEffect(()=>{l().then(f=>{const m=tt(ye,"machineStatus");let g=(f==null?void 0:f.forming_machine)||[],v=g.length,_=0;if(v===0){e(!0),r(!1);return}g.sort((y,p)=>parseInt(y,10)-parseInt(p,10)),g.forEach(y=>{const p=ei(m,le("machine_no","==",y),fr("time_end","desc"),$r(1));Ot(p).then(x=>{let w=!1,C="N/A";x.forEach(E=>{let S=E.data(),D=Math.floor(new Date().getTime()/1e3)-(S==null?void 0:S.time_end),T=Math.floor(D/3600),b=Math.floor(D%3600/60),N=D%60;C=`${T?`${T}h`:""}${b?` ${b}m`:""} ${N}s`,D<=600&&(w=!0)}),s(E=>[...E,{meta:"forming",machineNo:`${y}`,active:w,idleTime:C}]),_+=1,_===v&&(e(!0),r(g.length!==0))})})})},[]),console.log("formingMachine",i),d.jsxs("div",{className:"",children:[d.jsx(sD,{setPortion:a,portion:o}),t?n?d.jsx(d.Fragment,{children:d.jsx("div",{className:"grid grid-cols-4 gap-2",children:(u=(c=i==null?void 0:i.slice(0,16))==null?void 0:c.filter(h=>o==="all"?h:o==="active"?h==null?void 0:h.active:!(h!=null&&h.active)))==null?void 0:u.map(h=>d.jsx(AP,{meta:"forming",machineNo:h==null?void 0:h.machineNo,active:h==null?void 0:h.active,idleTime:h==null?void 0:h.idleTime}))})}):d.jsx("h1",{children:"Please Wait"}):d.jsx("div",{className:"min-w-screen min-h-screen flex justify-center items-center",children:d.jsx(lx,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"triangle-loading",visible:!0})})]})}const F6="/assets/Steeltech_Logo-BG1Fi9AY.svg",W4="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.54688%2010.2188C7.54688%209.95987%207.75674%209.75%208.01562%209.75H10.5938C10.6863%209.75%2010.7768%209.77739%2010.8538%209.82873L12%2010.5929L13.1462%209.82873C13.2232%209.77739%2013.3137%209.75%2013.4062%209.75H15.9844C16.2433%209.75%2016.4531%209.95987%2016.4531%2010.2188C16.4531%2010.4776%2016.2433%2010.6875%2015.9844%2010.6875H13.5482L12.26%2011.5463C12.1026%2011.6512%2011.8974%2011.6512%2011.74%2011.5463L10.4518%2010.6875H8.01562C7.75674%2010.6875%207.54688%2010.4776%207.54688%2010.2188Z'%20fill='black'/%3e%3cpath%20d='M13.1484%2019.3125C12.8896%2019.3125%2012.6797%2019.5224%2012.6797%2019.7812C12.6797%2020.0401%2012.8896%2020.25%2013.1484%2020.25H15.2578C15.5167%2020.25%2015.7266%2020.0401%2015.7266%2019.7812C15.7266%2019.5224%2015.5167%2019.3125%2015.2578%2019.3125H13.1484Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.2734%2017.4375C11.0146%2017.4375%2010.8047%2017.6474%2010.8047%2017.9062V21.6562C10.8047%2021.9151%2011.0146%2022.125%2011.2734%2022.125H17.1328C17.3917%2022.125%2017.6016%2021.9151%2017.6016%2021.6562V17.9062C17.6016%2017.6474%2017.3917%2017.4375%2017.1328%2017.4375H11.2734ZM11.7422%2021.1875V18.375H16.6641V21.1875H11.7422Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.89844%200C7.63955%200%207.42969%200.209867%207.42969%200.46875V1.28906H2.74219C2.4833%201.28906%202.27344%201.49893%202.27344%201.75781V3.63281C2.27344%203.8917%202.4833%204.10156%202.74219%204.10156H4.5V14.1562C4.5%2014.4151%204.70987%2014.625%204.96875%2014.625H5.67188V15.5625H4.96875C4.70987%2015.5625%204.5%2015.7724%204.5%2016.0312V23.5312C4.5%2023.7901%204.70987%2024%204.96875%2024H19.0312C19.2901%2024%2019.5%2023.7901%2019.5%2023.5312V16.0312C19.5%2015.7724%2019.2901%2015.5625%2019.0312%2015.5625H18.3281V14.625H19.0312C19.2901%2014.625%2019.5%2014.4151%2019.5%2014.1562V4.10156H21.2578C21.5167%204.10156%2021.7266%203.8917%2021.7266%203.63281V1.75781C21.7266%201.49893%2021.5167%201.28906%2021.2578%201.28906H16.5703V0.46875C16.5703%200.209867%2016.3604%200%2016.1016%200H7.89844ZM18.5625%204.10156H16.5703V4.92188C16.5703%205.18076%2016.3604%205.39062%2016.1016%205.39062H13.875V7.45312C13.875%207.57745%2013.8256%207.69667%2013.7377%207.78458L12.3315%209.19083C12.1484%209.37389%2011.8516%209.37389%2011.6685%209.19083L10.2623%207.78458C10.1744%207.69667%2010.125%207.57745%2010.125%207.45312V5.39062H7.89844C7.63955%205.39062%207.42969%205.18076%207.42969%204.92188V4.10156H5.4375V13.6875H7.54688V12.5156C7.54688%2012.2567%207.75674%2012.0469%208.01562%2012.0469H10.5938C10.6863%2012.0469%2010.7768%2012.0743%2010.8538%2012.1256L12%2012.8898L13.1462%2012.1256C13.2232%2012.0743%2013.3137%2012.0469%2013.4062%2012.0469H15.9844C16.2433%2012.0469%2016.4531%2012.2567%2016.4531%2012.5156V13.6875H18.5625V4.10156ZM20.7891%203.16406V2.22656H16.5703V3.16406H20.7891ZM15.6328%200.9375H8.36719V4.45312H15.6328V0.9375ZM7.42969%203.16406V2.22656H3.21094V3.16406H7.42969ZM12.9375%205.39062H11.0625V7.25896L12%208.19646L12.9375%207.25896V5.39062ZM15.5156%2012.9844H13.5482L12.26%2013.8431C12.1026%2013.9481%2011.8974%2013.9481%2011.74%2013.8431L10.4518%2012.9844H8.48438V15.5625H15.5156V12.9844ZM17.3906%2014.625H16.4531V15.5625H17.3906V14.625ZM6.60938%2015.5625H7.54688V14.625H6.60938V15.5625ZM5.4375%2016.5V23.0625H18.5625V16.5H5.4375Z'%20fill='black'/%3e%3c/svg%3e",q4="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4%207C4%204.23858%206.23858%202%209%202C11.7614%202%2014%204.23858%2014%207C14%209.76142%2011.7614%2012%209%2012C6.23858%2012%204%209.76142%204%207ZM9%204C7.34315%204%206%205.34315%206%207C6%208.65685%207.34315%2010%209%2010C10.6569%2010%2012%208.65685%2012%207C12%205.34315%2010.6569%204%209%204Z'%20fill='black'/%3e%3cpath%20d='M2.46447%2015.4645C3.40215%2014.5268%204.67392%2014%206%2014H12C13.3261%2014%2014.5979%2014.5268%2015.5355%2015.4645C16.4732%2016.4021%2017%2017.6739%2017%2019V21C17%2021.5523%2016.5523%2022%2016%2022C15.4477%2022%2015%2021.5523%2015%2021V19C15%2018.2043%2014.6839%2017.4413%2014.1213%2016.8787C13.5587%2016.3161%2012.7957%2016%2012%2016H6C5.20435%2016%204.44129%2016.3161%203.87868%2016.8787C3.31607%2017.4413%203%2018.2043%203%2019V21C3%2021.5523%202.55228%2022%202%2022C1.44772%2022%201%2021.5523%201%2021V19C1%2017.6739%201.52678%2016.4021%202.46447%2015.4645Z'%20fill='black'/%3e%3cpath%20d='M16.248%202.16125C15.713%202.02427%2015.1682%202.34694%2015.0313%202.88197C14.8943%203.41699%2015.2169%203.96177%2015.752%204.09875C16.3973%204.26398%2016.9692%204.63928%2017.3777%205.16549C17.7861%205.6917%2018.0078%206.33888%2018.0078%207.00501C18.0078%207.67113%2017.7861%208.31831%2017.3777%208.84452C16.9692%209.37073%2016.3973%209.74603%2015.752%209.91125C15.2169%2010.0482%2014.8943%2010.593%2015.0313%2011.128C15.1682%2011.6631%2015.713%2011.9857%2016.248%2011.8488C17.3236%2011.5734%2018.2768%2010.9479%2018.9576%2010.0709C19.6383%209.19386%2020.0078%208.11522%2020.0078%207.00501C20.0078%205.89479%2019.6383%204.81615%2018.9576%203.93914C18.2768%203.06213%2017.3236%202.43663%2016.248%202.16125Z'%20fill='black'/%3e%3cpath%20d='M19.25%2014.1618C18.7153%2014.0237%2018.1698%2014.3453%2018.0318%2014.88C17.8937%2015.4148%2018.2153%2015.9602%2018.75%2016.0983C19.3936%2016.2644%2019.9638%2016.6396%2020.371%2017.165C20.7782%2017.6902%2020.9994%2018.3358%2021%2019.0003L21%2019.0008L21%2021C21%2021.5523%2021.4477%2022%2022%2022C22.5523%2022%2023%2021.5523%2023%2021V18.9993C22.9992%2017.8914%2022.6305%2016.8152%2021.9517%2015.9397C21.273%2015.0641%2020.3227%2014.4387%2019.25%2014.1618Z'%20fill='black'/%3e%3c/svg%3e";var P6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G4=In.createContext&&In.createContext(P6),UM=["attr","size","title"];function VM(t,e){if(t==null)return{};var n=HM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0.apply(this,arguments)}function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){zM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zM(t,e,n){return e=WM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WM(t){var e=qM(t,"string");return typeof e=="symbol"?e:e+""}function qM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M6(t){return t&&t.map((e,n)=>In.createElement(e.tag,m0({key:n},e.attr),M6(e.child)))}function wr(t){return e=>In.createElement(GM,p0({attr:m0({},t.attr)},e),M6(t.child))}function GM(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=VM(t,UM),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),In.createElement("svg",p0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:m0(m0({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&In.createElement("title",null,s),t.children)};return G4!==void 0?In.createElement(G4.Consumer,null,n=>e(n)):e(P6)}function KM(t){return wr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 12C3 12.5523 3.44772 13 4 13H10C10.5523 13 11 12.5523 11 12V4C11 3.44772 10.5523 3 10 3H4C3.44772 3 3 3.44772 3 4V12ZM3 20C3 20.5523 3.44772 21 4 21H10C10.5523 21 11 20.5523 11 20V16C11 15.4477 10.5523 15 10 15H4C3.44772 15 3 15.4477 3 16V20ZM13 20C13 20.5523 13.4477 21 14 21H20C20.5523 21 21 20.5523 21 20V12C21 11.4477 20.5523 11 20 11H14C13.4477 11 13 11.4477 13 12V20ZM14 3C13.4477 3 13 3.44772 13 4V8C13 8.55228 13.4477 9 14 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H14Z"},child:[]}]})(t)}function QM(t){return wr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697"},child:[]},{tag:"path",attr:{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M8 11h4"},child:[]},{tag:"path",attr:{d:"M8 15h3"},child:[]},{tag:"path",attr:{d:"M16.5 17.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0"},child:[]},{tag:"path",attr:{d:"M18.5 19.5l2.5 2.5"},child:[]}]})(t)}function YM(t){return wr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11.445 20.913a1.665 1.665 0 0 1 -1.12 -1.23a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.31 .318 1.643 1.79 .997 2.694"},child:[]},{tag:"path",attr:{d:"M15 19l2 2l4 -4"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function B6(t){return wr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"},child:[]}]}]}]})(t)}function XM(t){return wr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Settings"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.6,20.936H11.3a.883.883,0,0,1-.852-.654l-.774-2.833-2.5,1.435a.886.886,0,0,1-1.06-.138l-.925-.919a.884.884,0,0,1-.143-1.066l1.469-2.545L6.509,14.2l-2.787-.747a.882.882,0,0,1-.654-.851V11.3a.882.882,0,0,1,.652-.85l2.839-.777L5.12,7.171a.885.885,0,0,1,.141-1.062l.918-.918A.885.885,0,0,1,7.24,5.049L9.792,6.514l.012,0,.745-2.79a.881.881,0,0,1,.851-.655h1.3a.883.883,0,0,1,.852.655l.762,2.838,2.509-1.441a.885.885,0,0,1,1.059.138l.926.919a.882.882,0,0,1,.141,1.067L17.483,9.777l.008.022,2.786.746a.883.883,0,0,1,.653.851v1.3a.883.883,0,0,1-.654.852l-2.837.774,1.439,2.505a.881.881,0,0,1-.141,1.063l-.917.917a.888.888,0,0,1-1.063.141l-2.539-1.462L14.2,17.5l-.745,2.785A.885.885,0,0,1,12.6,20.936Zm-1.21-1h1.119l.738-2.756a.888.888,0,0,1,.528-.592l.134-.052a.873.873,0,0,1,.76.057l2.51,1.445.789-.789-1.423-2.478a.881.881,0,0,1-.048-.78l.052-.125a.875.875,0,0,1,.584-.51l2.8-.749v-1.12l-2.755-.737a.885.885,0,0,1-.592-.529l-.052-.132a.882.882,0,0,1,.057-.763L18.04,6.818l-.8-.79-2.48,1.425a.878.878,0,0,1-.772.052l-.115-.047a.888.888,0,0,1-.518-.588l-.748-2.806H11.492l-.738,2.762a.883.883,0,0,1-.539.6l-.12.045a.874.874,0,0,1-.751-.058L6.822,5.962l-.789.789L7.455,9.227a.886.886,0,0,1,.046.785l-.051.12a.876.876,0,0,1-.579.5l-2.8.758v1.121l2.757.738a.889.889,0,0,1,.591.525l.048.121a.874.874,0,0,1-.055.77L5.958,17.181l.8.791,2.47-1.419a.878.878,0,0,1,.787-.045l.106.044a.874.874,0,0,1,.526.591ZM9.75,17.482l.008,0ZM9.6,17.421l.007,0ZM6.487,14.147h0Zm.044-4.411h0Zm7.724-3.2Z"},child:[]},{tag:"path",attr:{d:"M12,15a3,3,0,1,1,3-3A3,3,0,0,1,12,15Zm0-5a2,2,0,1,0,2,2A2,2,0,0,0,12,10Z"},child:[]}]}]}]})(t)}function ZM(t){return wr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"g",attr:{fillRule:"evenodd"},child:[{tag:"circle",attr:{cx:"17",cy:"15.5",r:"1.12"},child:[]},{tag:"path",attr:{d:"M17 17.5c-.73 0-2.19.36-2.24 1.08.5.71 1.32 1.17 2.24 1.17s1.74-.46 2.24-1.17c-.05-.72-1.51-1.08-2.24-1.08z"},child:[]},{tag:"path",attr:{d:"M18 11.09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55A5.973 5.973 0 0 0 17 23c3.31 0 6-2.69 6-6 0-2.97-2.16-5.43-5-5.91zM11 17c0 .56.08 1.11.23 1.62-.24.11-.48.22-.73.3-3.17-1-5.5-4.24-5.5-7.74v-3.6l5.5-2.4 5.5 2.4v3.51c-2.84.48-5 2.94-5 5.91zm6 4c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"},child:[]}]}]})(t)}function JM(t){return wr({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(t)}function eB(t){return wr({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"},child:[]}]})(t)}function Fa(t){return wr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function tB(){let[t,e]=k.useState(!1);return d.jsxs("div",{className:"max-w-[240px] w-full min-h-screen border-r border-r-gray-500",children:[d.jsx("div",{className:"w-full py-4 ",children:d.jsx("img",{src:F6,alt:"",className:"mx-auto"})}),d.jsxs("div",{className:"flex flex-col gap-4 px-4 mt-6",children:[d.jsx(Hn,{to:"/",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx(KM,{className:"w-6 h-6"}),d.jsx("p",{className:"",children:"Overview"})]})}),d.jsx(Hn,{to:"/machines",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx("img",{src:W4,alt:""}),d.jsx("p",{className:"",children:"Forming Machine"})]})}),d.jsx(Hn,{to:"/reports/dashboard",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx(QM,{className:"w-6 h-6"}),d.jsx("p",{className:"",children:"Reports"})]})}),d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",onClick:()=>e(!t),children:[d.jsx("img",{src:W4,alt:""}),d.jsx("p",{className:"",children:"Manage Products"}),t?d.jsx(eB,{}):d.jsx(JM,{})]}),t&&d.jsxs("div",{className:"flex flex-col gap-3 pl-8",children:[d.jsx(Hn,{to:"/manage/products",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsx("p",{className:"p-2 ",children:"All Products"})}),d.jsx(Hn,{to:"/products/add-product",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsx("p",{className:"p-2 ",children:"Add Product"})}),d.jsx(Hn,{to:"/products/add-shift",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsx("p",{className:"p-2 ",children:"Add Shift"})}),d.jsx(Hn,{to:"/products/add-damaged-product",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsx("p",{className:"p-2 ",children:"Add Damaged Product"})})]}),d.jsx(Hn,{to:"/manage/all-machines",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx("img",{src:q4,alt:""}),d.jsx("p",{className:"",children:"All Machines"})]})}),d.jsx(Hn,{to:"/manage/users",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx("img",{src:q4,alt:""}),d.jsx("p",{className:"",children:"Manage Users"})]})}),d.jsx(Hn,{to:"/incharge",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx(YM,{className:"w-6 h-6"}),d.jsx("p",{className:"",children:"Incharge Section"})]})}),d.jsx(Hn,{to:"/tare-crain-updates",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx(XM,{className:"w-6 h-6"}),d.jsx("p",{className:"",children:"Tare & Coil Changing "})]})}),d.jsx(Hn,{to:"/admin/machine-production",className:({isActive:n})=>n?"bg-primary rounded-md":"",children:d.jsxs("div",{className:"flex gap-3 items-center px-2 py-2 rounded-md hover:bg-primary cursor-pointer",children:[d.jsx(ZM,{className:"w-6 h-6"}),d.jsx("p",{className:"",children:"Admin"})]})})]})]})}async function cx(t,e,n){const r=tt(ye,t),i=ei(r,le("email","==",e),le("password","==",n),$r(1)),s=await Ot(i);let o=[];return s.forEach(a=>{o.push(a.data())}),[o.length!==0,o]}async function Rd(t,e=-1){const n=tt(ye,t);let r=null;e!==-1?r=ei(n,fr("creatingDate","desc"),$r(e)):r=ei(n,fr("creatingDate","desc"));const i=await Ot(r);let s=[];return i.forEach(o=>{s.push({id:o==null?void 0:o.id,...o.data()})}),s}const cr=t=>{const[e,n]=k.useState(!1),[r,i]=k.useReducer(rB,nB),s=tt(ye,t),o=c=>{e||i(c)},a=async c=>{i("IS_LOADING");try{const u=await jI(s,{...c,creatingDate:Qy()});o({type:"ADD_DOCUMENT",payload:u})}catch(u){i({type:"ERROR",payload:u.message})}},l=async(c,u)=>{i({type:"IS_PENDING"});let h={...u,updatedDate:Qy()};const f=$t(s,c);try{const m=await WC(f,h);o({type:"UPDATE_DOCUMENT",payload:m})}catch(m){i({type:"ERROR",payload:m.message}),BI(f,u)}};return k.useEffect(()=>()=>n(!0),[]),{addDocument:a,response:r,updateDocument:l}},nB={document:null,error:null,isLoading:null,success:null},rB=(t,{type:e,payload:n})=>{switch(e){case"IS_LOADING":return{document:null,error:null,isLoading:!0,success:null};case"ADD_DOCUMENT":return{document:n,error:null,isLoading:!1,success:!0};case"UPDATE_DOCUMENT":return{document:n,error:null,isLoading:!1,success:!0};case"ERROR":return{document:null,error:n,isLoading:!1,success:!1};default:return t}};var j6={exports:{}};function iB(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uf={exports:{}};const sB={},oB=Object.freeze(Object.defineProperty({__proto__:null,default:sB},Symbol.toStringTag,{value:"Module"})),aB=q6(oB);var Q4;function be(){return Q4||(Q4=1,function(t,e){(function(n,r){t.exports=r()})(ve,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ve<"u"&&ve.crypto&&(s=ve.crypto),!s&&typeof iB=="function")try{s=aB}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function p(){}return function(x){var w;return p.prototype=x,w=new p,p.prototype=null,w}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(p){var x=a(this);return p&&x.mixIn(p),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var x in p)p.hasOwnProperty(x)&&(this[x]=p[x]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=u.extend({init:function(p,x){p=this.words=p||[],x!=i?this.sigBytes=x:this.sigBytes=p.length*4},toString:function(p){return(p||m).stringify(this)},concat:function(p){var x=this.words,w=p.words,C=this.sigBytes,E=p.sigBytes;if(this.clamp(),C%4)for(var S=0;S<E;S++){var D=w[S>>>2]>>>24-S%4*8&255;x[C+S>>>2]|=D<<24-(C+S)%4*8}else for(var T=0;T<E;T+=4)x[C+T>>>2]=w[T>>>2];return this.sigBytes+=E,this},clamp:function(){var p=this.words,x=this.sigBytes;p[x>>>2]&=4294967295<<32-x%4*8,p.length=r.ceil(x/4)},clone:function(){var p=u.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var x=[],w=0;w<p;w+=4)x.push(o());return new h.init(x,p)}}),f=l.enc={},m=f.Hex={stringify:function(p){for(var x=p.words,w=p.sigBytes,C=[],E=0;E<w;E++){var S=x[E>>>2]>>>24-E%4*8&255;C.push((S>>>4).toString(16)),C.push((S&15).toString(16))}return C.join("")},parse:function(p){for(var x=p.length,w=[],C=0;C<x;C+=2)w[C>>>3]|=parseInt(p.substr(C,2),16)<<24-C%8*4;return new h.init(w,x/2)}},g=f.Latin1={stringify:function(p){for(var x=p.words,w=p.sigBytes,C=[],E=0;E<w;E++){var S=x[E>>>2]>>>24-E%4*8&255;C.push(String.fromCharCode(S))}return C.join("")},parse:function(p){for(var x=p.length,w=[],C=0;C<x;C++)w[C>>>2]|=(p.charCodeAt(C)&255)<<24-C%4*8;return new h.init(w,x)}},v=f.Utf8={stringify:function(p){try{return decodeURIComponent(escape(g.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return g.parse(unescape(encodeURIComponent(p)))}},_=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=v.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var x,w=this._data,C=w.words,E=w.sigBytes,S=this.blockSize,D=S*4,T=E/D;p?T=r.ceil(T):T=r.max((T|0)-this._minBufferSize,0);var b=T*S,N=r.min(b*4,E);if(b){for(var M=0;M<b;M+=S)this._doProcessBlock(C,M);x=C.splice(0,b),w.sigBytes-=N}return new h.init(x,N)},clone:function(){var p=u.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});c.Hasher=_.extend({cfg:u.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){p&&this._append(p);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(p){return function(x,w){return new p.init(w).finalize(x)}},_createHmacHelper:function(p){return function(x,w){return new y.HMAC.init(p,w).finalize(x)}}});var y=l.algo={};return l}(Math);return n})}(Uf)),Uf.exports}var Vf={exports:{}},Y4;function Fd(){return Y4||(Y4=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=o.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,h=[],f=0;f<u;f++){var m=c[f];h.push(m.high),h.push(m.low)}return a.create(h,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),u=c.words=this.words.slice(0),h=u.length,f=0;f<h;f++)u[f]=u[f].clone();return c}})}(),n})}(Vf)),Vf.exports}var Hf={exports:{}},X4;function lB(){return X4||(X4=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],h=0;h<c;h++)u[h>>>2]|=l[h]<<24-h%4*8;o.call(this,u,c)}else o.apply(this,arguments)};a.prototype=s}}(),n.lib.WordArray})}(Hf)),Hf.exports}var zf={exports:{}},Z4;function cB(){return Z4||(Z4=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var m=c[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(m))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return s.create(u,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var m=a(c[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(m))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=a(l.charCodeAt(h)<<16-h%2*16);return s.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(zf)),zf.exports}var Wf={exports:{}},J4;function Js(){return J4||(J4=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,h=this._map;l.clamp();for(var f=[],m=0;m<u;m+=3)for(var g=c[m>>>2]>>>24-m%4*8&255,v=c[m+1>>>2]>>>24-(m+1)%4*8&255,_=c[m+2>>>2]>>>24-(m+2)%4*8&255,y=g<<16|v<<8|_,p=0;p<4&&m+p*.75<u;p++)f.push(h.charAt(y>>>6*(3-p)&63));var x=h.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(l){var c=l.length,u=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<u.length;f++)h[u.charCodeAt(f)]=f}var m=u.charAt(64);if(m){var g=l.indexOf(m);g!==-1&&(c=g)}return a(l,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var h=[],f=0,m=0;m<c;m++)if(m%4){var g=u[l.charCodeAt(m-1)]<<m%4*2,v=u[l.charCodeAt(m)]>>>6-m%4*2,_=g|v;h[f>>>2]|=_<<24-f%4*8,f++}return s.create(h,f)}}(),n.enc.Base64})}(Wf)),Wf.exports}var qf={exports:{}},e_;function uB(){return e_||(e_=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,h=l.sigBytes,f=c?this._safe_map:this._map;l.clamp();for(var m=[],g=0;g<h;g+=3)for(var v=u[g>>>2]>>>24-g%4*8&255,_=u[g+1>>>2]>>>24-(g+1)%4*8&255,y=u[g+2>>>2]>>>24-(g+2)%4*8&255,p=v<<16|_<<8|y,x=0;x<4&&g+x*.75<h;x++)m.push(f.charAt(p>>>6*(3-x)&63));var w=f.charAt(64);if(w)for(;m.length%4;)m.push(w);return m.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,h=c?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<h.length;m++)f[h.charCodeAt(m)]=m}var g=h.charAt(64);if(g){var v=l.indexOf(g);v!==-1&&(u=v)}return a(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var h=[],f=0,m=0;m<c;m++)if(m%4){var g=u[l.charCodeAt(m-1)]<<m%4*2,v=u[l.charCodeAt(m)]>>>6-m%4*2,_=g|v;h[f>>>2]|=_<<24-f%4*8,f++}return s.create(h,f)}}(),n.enc.Base64url})}(qf)),qf.exports}var Gf={exports:{}},t_;function eo(){return t_||(t_=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[];(function(){for(var v=0;v<64;v++)c[v]=r.abs(r.sin(v+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,_){for(var y=0;y<16;y++){var p=_+y,x=v[p];v[p]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var w=this._hash.words,C=v[_+0],E=v[_+1],S=v[_+2],D=v[_+3],T=v[_+4],b=v[_+5],N=v[_+6],M=v[_+7],B=v[_+8],q=v[_+9],K=v[_+10],Z=v[_+11],re=v[_+12],$=v[_+13],V=v[_+14],H=v[_+15],R=w[0],P=w[1],O=w[2],j=w[3];R=h(R,P,O,j,C,7,c[0]),j=h(j,R,P,O,E,12,c[1]),O=h(O,j,R,P,S,17,c[2]),P=h(P,O,j,R,D,22,c[3]),R=h(R,P,O,j,T,7,c[4]),j=h(j,R,P,O,b,12,c[5]),O=h(O,j,R,P,N,17,c[6]),P=h(P,O,j,R,M,22,c[7]),R=h(R,P,O,j,B,7,c[8]),j=h(j,R,P,O,q,12,c[9]),O=h(O,j,R,P,K,17,c[10]),P=h(P,O,j,R,Z,22,c[11]),R=h(R,P,O,j,re,7,c[12]),j=h(j,R,P,O,$,12,c[13]),O=h(O,j,R,P,V,17,c[14]),P=h(P,O,j,R,H,22,c[15]),R=f(R,P,O,j,E,5,c[16]),j=f(j,R,P,O,N,9,c[17]),O=f(O,j,R,P,Z,14,c[18]),P=f(P,O,j,R,C,20,c[19]),R=f(R,P,O,j,b,5,c[20]),j=f(j,R,P,O,K,9,c[21]),O=f(O,j,R,P,H,14,c[22]),P=f(P,O,j,R,T,20,c[23]),R=f(R,P,O,j,q,5,c[24]),j=f(j,R,P,O,V,9,c[25]),O=f(O,j,R,P,D,14,c[26]),P=f(P,O,j,R,B,20,c[27]),R=f(R,P,O,j,$,5,c[28]),j=f(j,R,P,O,S,9,c[29]),O=f(O,j,R,P,M,14,c[30]),P=f(P,O,j,R,re,20,c[31]),R=m(R,P,O,j,b,4,c[32]),j=m(j,R,P,O,B,11,c[33]),O=m(O,j,R,P,Z,16,c[34]),P=m(P,O,j,R,V,23,c[35]),R=m(R,P,O,j,E,4,c[36]),j=m(j,R,P,O,T,11,c[37]),O=m(O,j,R,P,M,16,c[38]),P=m(P,O,j,R,K,23,c[39]),R=m(R,P,O,j,$,4,c[40]),j=m(j,R,P,O,C,11,c[41]),O=m(O,j,R,P,D,16,c[42]),P=m(P,O,j,R,N,23,c[43]),R=m(R,P,O,j,q,4,c[44]),j=m(j,R,P,O,re,11,c[45]),O=m(O,j,R,P,H,16,c[46]),P=m(P,O,j,R,S,23,c[47]),R=g(R,P,O,j,C,6,c[48]),j=g(j,R,P,O,M,10,c[49]),O=g(O,j,R,P,V,15,c[50]),P=g(P,O,j,R,b,21,c[51]),R=g(R,P,O,j,re,6,c[52]),j=g(j,R,P,O,D,10,c[53]),O=g(O,j,R,P,K,15,c[54]),P=g(P,O,j,R,E,21,c[55]),R=g(R,P,O,j,B,6,c[56]),j=g(j,R,P,O,H,10,c[57]),O=g(O,j,R,P,N,15,c[58]),P=g(P,O,j,R,$,21,c[59]),R=g(R,P,O,j,T,6,c[60]),j=g(j,R,P,O,Z,10,c[61]),O=g(O,j,R,P,S,15,c[62]),P=g(P,O,j,R,q,21,c[63]),w[0]=w[0]+R|0,w[1]=w[1]+P|0,w[2]=w[2]+O|0,w[3]=w[3]+j|0},_doFinalize:function(){var v=this._data,_=v.words,y=this._nDataBytes*8,p=v.sigBytes*8;_[p>>>5]|=128<<24-p%32;var x=r.floor(y/4294967296),w=y;_[(p+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_[(p+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,v.sigBytes=(_.length+1)*4,this._process();for(var C=this._hash,E=C.words,S=0;S<4;S++){var D=E[S];E[S]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return C},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});function h(v,_,y,p,x,w,C){var E=v+(_&y|~_&p)+x+C;return(E<<w|E>>>32-w)+_}function f(v,_,y,p,x,w,C){var E=v+(_&p|y&~p)+x+C;return(E<<w|E>>>32-w)+_}function m(v,_,y,p,x,w,C){var E=v+(_^y^p)+x+C;return(E<<w|E>>>32-w)+_}function g(v,_,y,p,x,w,C){var E=v+(y^(_|~p))+x+C;return(E<<w|E>>>32-w)+_}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5})}(Gf)),Gf.exports}var Kf={exports:{}},n_;function L6(){return n_||(n_=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,h){for(var f=this._hash.words,m=f[0],g=f[1],v=f[2],_=f[3],y=f[4],p=0;p<80;p++){if(p<16)l[p]=u[h+p]|0;else{var x=l[p-3]^l[p-8]^l[p-14]^l[p-16];l[p]=x<<1|x>>>31}var w=(m<<5|m>>>27)+y+l[p];p<20?w+=(g&v|~g&_)+1518500249:p<40?w+=(g^v^_)+1859775393:p<60?w+=(g&v|g&_|v&_)-1894007588:w+=(g^v^_)-899497514,y=_,_=v,v=g<<30|g>>>2,g=m,m=w}f[0]=f[0]+m|0,f[1]=f[1]+g|0,f[2]=f[2]+v|0,f[3]=f[3]+_|0,f[4]=f[4]+y|0},_doFinalize:function(){var u=this._data,h=u.words,f=this._nDataBytes*8,m=u.sigBytes*8;return h[m>>>5]|=128<<24-m%32,h[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(m+64>>>9<<4)+15]=f,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),n.SHA1})}(Kf)),Kf.exports}var Qf={exports:{}},r_;function ux(){return r_||(r_=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[],u=[];(function(){function m(y){for(var p=r.sqrt(y),x=2;x<=p;x++)if(!(y%x))return!1;return!0}function g(y){return(y-(y|0))*4294967296|0}for(var v=2,_=0;_<64;)m(v)&&(_<8&&(c[_]=g(r.pow(v,1/2))),u[_]=g(r.pow(v,1/3)),_++),v++})();var h=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(m,g){for(var v=this._hash.words,_=v[0],y=v[1],p=v[2],x=v[3],w=v[4],C=v[5],E=v[6],S=v[7],D=0;D<64;D++){if(D<16)h[D]=m[g+D]|0;else{var T=h[D-15],b=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,N=h[D-2],M=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;h[D]=b+h[D-7]+M+h[D-16]}var B=w&C^~w&E,q=_&y^_&p^y&p,K=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),Z=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),re=S+Z+B+u[D]+h[D],$=K+q;S=E,E=C,C=w,w=x+re|0,x=p,p=y,y=_,_=re+$|0}v[0]=v[0]+_|0,v[1]=v[1]+y|0,v[2]=v[2]+p|0,v[3]=v[3]+x|0,v[4]=v[4]+w|0,v[5]=v[5]+C|0,v[6]=v[6]+E|0,v[7]=v[7]+S|0},_doFinalize:function(){var m=this._data,g=m.words,v=this._nDataBytes*8,_=m.sigBytes*8;return g[_>>>5]|=128<<24-_%32,g[(_+64>>>9<<4)+14]=r.floor(v/4294967296),g[(_+64>>>9<<4)+15]=v,m.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)}(Math),n.SHA256})}(Qf)),Qf.exports}var Yf={exports:{}},i_;function hB(){return i_||(i_=1,function(t,e){(function(n,r,i){t.exports=r(be(),ux())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(Yf)),Yf.exports}var Xf={exports:{}},s_;function $6(){return s_||(s_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Fd())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,c=r.algo;function u(){return a.create.apply(a,arguments)}var h=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var g=0;g<80;g++)f[g]=u()})();var m=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,v){for(var _=this._hash.words,y=_[0],p=_[1],x=_[2],w=_[3],C=_[4],E=_[5],S=_[6],D=_[7],T=y.high,b=y.low,N=p.high,M=p.low,B=x.high,q=x.low,K=w.high,Z=w.low,re=C.high,$=C.low,V=E.high,H=E.low,R=S.high,P=S.low,O=D.high,j=D.low,me=T,ce=b,je=N,ue=M,tn=B,Un=q,Ze=K,ht=Z,hn=re,nn=$,Vn=V,ss=H,to=R,pi=P,Pa=O,os=j,Dn=0;Dn<80;Dn++){var dn,Ut,Er=f[Dn];if(Dn<16)Ut=Er.high=g[v+Dn*2]|0,dn=Er.low=g[v+Dn*2+1]|0;else{var Ma=f[Dn-15],Cr=Ma.high,fn=Ma.low,er=(Cr>>>1|fn<<31)^(Cr>>>8|fn<<24)^Cr>>>7,Ba=(fn>>>1|Cr<<31)^(fn>>>8|Cr<<24)^(fn>>>7|Cr<<25),as=f[Dn-2],mi=as.high,pn=as.low,Yc=(mi>>>19|pn<<13)^(mi<<3|pn>>>29)^mi>>>6,ja=(pn>>>19|mi<<13)^(pn<<3|mi>>>29)^(pn>>>6|mi<<26),La=f[Dn-7],Pd=La.high,Xc=La.low,ls=f[Dn-16],Zc=ls.high,no=ls.low;dn=Ba+Xc,Ut=er+Pd+(dn>>>0<Ba>>>0?1:0),dn=dn+ja,Ut=Ut+Yc+(dn>>>0<ja>>>0?1:0),dn=dn+no,Ut=Ut+Zc+(dn>>>0<no>>>0?1:0),Er.high=Ut,Er.low=dn}var $a=hn&Vn^~hn&to,Jc=nn&ss^~nn&pi,eu=me&je^me&tn^je&tn,Md=ce&ue^ce&Un^ue&Un,tu=(me>>>28|ce<<4)^(me<<30|ce>>>2)^(me<<25|ce>>>7),cs=(ce>>>28|me<<4)^(ce<<30|me>>>2)^(ce<<25|me>>>7),ro=(hn>>>14|nn<<18)^(hn>>>18|nn<<14)^(hn<<23|nn>>>9),Bd=(nn>>>14|hn<<18)^(nn>>>18|hn<<14)^(nn<<23|hn>>>9),nu=h[Dn],A=nu.high,I=nu.low,F=os+Bd,U=Pa+ro+(F>>>0<os>>>0?1:0),F=F+Jc,U=U+$a+(F>>>0<Jc>>>0?1:0),F=F+I,U=U+A+(F>>>0<I>>>0?1:0),F=F+dn,U=U+Ut+(F>>>0<dn>>>0?1:0),X=cs+Md,se=tu+eu+(X>>>0<cs>>>0?1:0);Pa=to,os=pi,to=Vn,pi=ss,Vn=hn,ss=nn,nn=ht+F|0,hn=Ze+U+(nn>>>0<ht>>>0?1:0)|0,Ze=tn,ht=Un,tn=je,Un=ue,je=me,ue=ce,ce=F+X|0,me=U+se+(ce>>>0<F>>>0?1:0)|0}b=y.low=b+ce,y.high=T+me+(b>>>0<ce>>>0?1:0),M=p.low=M+ue,p.high=N+je+(M>>>0<ue>>>0?1:0),q=x.low=q+Un,x.high=B+tn+(q>>>0<Un>>>0?1:0),Z=w.low=Z+ht,w.high=K+Ze+(Z>>>0<ht>>>0?1:0),$=C.low=$+nn,C.high=re+hn+($>>>0<nn>>>0?1:0),H=E.low=H+ss,E.high=V+Vn+(H>>>0<ss>>>0?1:0),P=S.low=P+pi,S.high=R+to+(P>>>0<pi>>>0?1:0),j=D.low=j+os,D.high=O+Pa+(j>>>0<os>>>0?1:0)},_doFinalize:function(){var g=this._data,v=g.words,_=this._nDataBytes*8,y=g.sigBytes*8;v[y>>>5]|=128<<24-y%32,v[(y+128>>>10<<5)+30]=Math.floor(_/4294967296),v[(y+128>>>10<<5)+31]=_,g.sigBytes=v.length*4,this._process();var p=this._hash.toX32();return p},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});r.SHA512=s._createHelper(m),r.HmacSHA512=s._createHmacHelper(m)}(),n.SHA512})}(Xf)),Xf.exports}var Zf={exports:{}},o_;function dB(){return o_||(o_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Fd(),$6())})(ve,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(Zf)),Zf.exports}var Jf={exports:{}},a_;function fB(){return a_||(a_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Fd())})(ve,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,c=l.Word,u=i.algo,h=[],f=[],m=[];(function(){for(var _=1,y=0,p=0;p<24;p++){h[_+5*y]=(p+1)*(p+2)/2%64;var x=y%5,w=(2*_+3*y)%5;_=x,y=w}for(var _=0;_<5;_++)for(var y=0;y<5;y++)f[_+5*y]=y+(2*_+3*y)%5*5;for(var C=1,E=0;E<24;E++){for(var S=0,D=0,T=0;T<7;T++){if(C&1){var b=(1<<T)-1;b<32?D^=1<<b:S^=1<<b-32}C&128?C=C<<1^113:C<<=1}m[E]=c.create(S,D)}})();var g=[];(function(){for(var _=0;_<25;_++)g[_]=c.create()})();var v=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],y=0;y<25;y++)_[y]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,y){for(var p=this._state,x=this.blockSize/2,w=0;w<x;w++){var C=_[y+2*w],E=_[y+2*w+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var S=p[w];S.high^=E,S.low^=C}for(var D=0;D<24;D++){for(var T=0;T<5;T++){for(var b=0,N=0,M=0;M<5;M++){var S=p[T+5*M];b^=S.high,N^=S.low}var B=g[T];B.high=b,B.low=N}for(var T=0;T<5;T++)for(var q=g[(T+4)%5],K=g[(T+1)%5],Z=K.high,re=K.low,b=q.high^(Z<<1|re>>>31),N=q.low^(re<<1|Z>>>31),M=0;M<5;M++){var S=p[T+5*M];S.high^=b,S.low^=N}for(var $=1;$<25;$++){var b,N,S=p[$],V=S.high,H=S.low,R=h[$];R<32?(b=V<<R|H>>>32-R,N=H<<R|V>>>32-R):(b=H<<R-32|V>>>64-R,N=V<<R-32|H>>>64-R);var P=g[f[$]];P.high=b,P.low=N}var O=g[0],j=p[0];O.high=j.high,O.low=j.low;for(var T=0;T<5;T++)for(var M=0;M<5;M++){var $=T+5*M,S=p[$],me=g[$],ce=g[(T+1)%5+5*M],je=g[(T+2)%5+5*M];S.high=me.high^~ce.high&je.high,S.low=me.low^~ce.low&je.low}var S=p[0],ue=m[D];S.high^=ue.high,S.low^=ue.low}},_doFinalize:function(){var _=this._data,y=_.words;this._nDataBytes*8;var p=_.sigBytes*8,x=this.blockSize*32;y[p>>>5]|=1<<24-p%32,y[(r.ceil((p+1)/x)*x>>>5)-1]|=128,_.sigBytes=y.length*4,this._process();for(var w=this._state,C=this.cfg.outputLength/8,E=C/8,S=[],D=0;D<E;D++){var T=w[D],b=T.high,N=T.low;b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,S.push(N),S.push(b)}return new o.init(S,C)},clone:function(){for(var _=a.clone.call(this),y=_._state=this._state.slice(0),p=0;p<25;p++)y[p]=y[p].clone();return _}});i.SHA3=a._createHelper(v),i.HmacSHA3=a._createHmacHelper(v)}(Math),n.SHA3})}(Jf)),Jf.exports}var ep={exports:{}},l_;function pB(){return l_||(l_=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,S){for(var D=0;D<16;D++){var T=S+D,b=E[T];E[T]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var N=this._hash.words,M=m.words,B=g.words,q=c.words,K=u.words,Z=h.words,re=f.words,$,V,H,R,P,O,j,me,ce,je;O=$=N[0],j=V=N[1],me=H=N[2],ce=R=N[3],je=P=N[4];for(var ue,D=0;D<80;D+=1)ue=$+E[S+q[D]]|0,D<16?ue+=_(V,H,R)+M[0]:D<32?ue+=y(V,H,R)+M[1]:D<48?ue+=p(V,H,R)+M[2]:D<64?ue+=x(V,H,R)+M[3]:ue+=w(V,H,R)+M[4],ue=ue|0,ue=C(ue,Z[D]),ue=ue+P|0,$=P,P=R,R=C(H,10),H=V,V=ue,ue=O+E[S+K[D]]|0,D<16?ue+=w(j,me,ce)+B[0]:D<32?ue+=x(j,me,ce)+B[1]:D<48?ue+=p(j,me,ce)+B[2]:D<64?ue+=y(j,me,ce)+B[3]:ue+=_(j,me,ce)+B[4],ue=ue|0,ue=C(ue,re[D]),ue=ue+je|0,O=je,je=ce,ce=C(me,10),me=j,j=ue;ue=N[1]+H+ce|0,N[1]=N[2]+R+je|0,N[2]=N[3]+P+O|0,N[3]=N[4]+$+j|0,N[4]=N[0]+V+me|0,N[0]=ue},_doFinalize:function(){var E=this._data,S=E.words,D=this._nDataBytes*8,T=E.sigBytes*8;S[T>>>5]|=128<<24-T%32,S[(T+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,E.sigBytes=(S.length+1)*4,this._process();for(var b=this._hash,N=b.words,M=0;M<5;M++){var B=N[M];N[M]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return b},clone:function(){var E=a.clone.call(this);return E._hash=this._hash.clone(),E}});function _(E,S,D){return E^S^D}function y(E,S,D){return E&S|~E&D}function p(E,S,D){return(E|~S)^D}function x(E,S,D){return E&D|S&~D}function w(E,S,D){return E^(S|~D)}function C(E,S){return E<<S|E>>>32-S}i.RIPEMD160=a._createHelper(v),i.HmacRIPEMD160=a._createHmacHelper(v)}(),n.RIPEMD160})}(ep)),ep.exports}var tp={exports:{}},c_;function hx(){return c_||(c_=1,function(t,e){(function(n,r){t.exports=r(be())})(ve,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var h=c.blockSize,f=h*4;u.sigBytes>f&&(u=c.finalize(u)),u.clamp();for(var m=this._oKey=u.clone(),g=this._iKey=u.clone(),v=m.words,_=g.words,y=0;y<h;y++)v[y]^=1549556828,_[y]^=909522486;m.sigBytes=g.sigBytes=f,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,h=u.finalize(c);u.reset();var f=u.finalize(this._oKey.clone().concat(h));return f}})})()})}(tp)),tp.exports}var np={exports:{}},u_;function mB(){return u_||(u_=1,function(t,e){(function(n,r,i){t.exports=r(be(),ux(),hx())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var m=this.cfg,g=c.create(m.hasher,h),v=o.create(),_=o.create([1]),y=v.words,p=_.words,x=m.keySize,w=m.iterations;y.length<x;){var C=g.update(f).finalize(_);g.reset();for(var E=C.words,S=E.length,D=C,T=1;T<w;T++){D=g.finalize(D),g.reset();for(var b=D.words,N=0;N<S;N++)E[N]^=b[N]}v.concat(C),p[0]++}return v.sigBytes=x*4,v}});r.PBKDF2=function(h,f,m){return u.create(m).compute(h,f)}}(),n.PBKDF2})}(np)),np.exports}var rp={exports:{}},h_;function is(){return h_||(h_=1,function(t,e){(function(n,r,i){t.exports=r(be(),L6(),hx())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,h){for(var f,m=this.cfg,g=m.hasher.create(),v=o.create(),_=v.words,y=m.keySize,p=m.iterations;_.length<y;){f&&g.update(f),f=g.update(u).finalize(h),g.reset();for(var x=1;x<p;x++)f=g.finalize(f),g.reset();v.concat(f)}return v.sigBytes=y*4,v}});r.EvpKDF=function(u,h,f){return c.create(f).compute(u,h)}}(),n.EvpKDF})}(rp)),rp.exports}var ip={exports:{}},d_;function It(){return d_||(d_=1,function(t,e){(function(n,r,i){t.exports=r(be(),is())})(ve,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,h=i.algo,f=h.EvpKDF,m=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(b,N){return this.create(this._ENC_XFORM_MODE,b,N)},createDecryptor:function(b,N){return this.create(this._DEC_XFORM_MODE,b,N)},init:function(b,N,M){this.cfg=this.cfg.extend(M),this._xformMode=b,this._key=N,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(b){return this._append(b),this._process()},finalize:function(b){b&&this._append(b);var N=this._doFinalize();return N},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function b(N){return typeof N=="string"?T:E}return function(N){return{encrypt:function(M,B,q){return b(B).encrypt(N,M,B,q)},decrypt:function(M,B,q){return b(B).decrypt(N,M,B,q)}}}}()});s.StreamCipher=m.extend({_doFinalize:function(){var b=this._process(!0);return b},blockSize:1});var g=i.mode={},v=s.BlockCipherMode=o.extend({createEncryptor:function(b,N){return this.Encryptor.create(b,N)},createDecryptor:function(b,N){return this.Decryptor.create(b,N)},init:function(b,N){this._cipher=b,this._iv=N}}),_=g.CBC=function(){var b=v.extend();b.Encryptor=b.extend({processBlock:function(M,B){var q=this._cipher,K=q.blockSize;N.call(this,M,B,K),q.encryptBlock(M,B),this._prevBlock=M.slice(B,B+K)}}),b.Decryptor=b.extend({processBlock:function(M,B){var q=this._cipher,K=q.blockSize,Z=M.slice(B,B+K);q.decryptBlock(M,B),N.call(this,M,B,K),this._prevBlock=Z}});function N(M,B,q){var K,Z=this._iv;Z?(K=Z,this._iv=r):K=this._prevBlock;for(var re=0;re<q;re++)M[B+re]^=K[re]}return b}(),y=i.pad={},p=y.Pkcs7={pad:function(b,N){for(var M=N*4,B=M-b.sigBytes%M,q=B<<24|B<<16|B<<8|B,K=[],Z=0;Z<B;Z+=4)K.push(q);var re=a.create(K,B);b.concat(re)},unpad:function(b){var N=b.words[b.sigBytes-1>>>2]&255;b.sigBytes-=N}};s.BlockCipher=m.extend({cfg:m.cfg.extend({mode:_,padding:p}),reset:function(){var b;m.reset.call(this);var N=this.cfg,M=N.iv,B=N.mode;this._xformMode==this._ENC_XFORM_MODE?b=B.createEncryptor:(b=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==b?this._mode.init(this,M&&M.words):(this._mode=b.call(B,this,M&&M.words),this._mode.__creator=b)},_doProcessBlock:function(b,N){this._mode.processBlock(b,N)},_doFinalize:function(){var b,N=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(N.pad(this._data,this.blockSize),b=this._process(!0)):(b=this._process(!0),N.unpad(b)),b},blockSize:128/32});var x=s.CipherParams=o.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),w=i.format={},C=w.OpenSSL={stringify:function(b){var N,M=b.ciphertext,B=b.salt;return B?N=a.create([1398893684,1701076831]).concat(B).concat(M):N=M,N.toString(u)},parse:function(b){var N,M=u.parse(b),B=M.words;return B[0]==1398893684&&B[1]==1701076831&&(N=a.create(B.slice(2,4)),B.splice(0,4),M.sigBytes-=16),x.create({ciphertext:M,salt:N})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(b,N,M,B){B=this.cfg.extend(B);var q=b.createEncryptor(M,B),K=q.finalize(N),Z=q.cfg;return x.create({ciphertext:K,key:M,iv:Z.iv,algorithm:b,mode:Z.mode,padding:Z.padding,blockSize:b.blockSize,formatter:B.format})},decrypt:function(b,N,M,B){B=this.cfg.extend(B),N=this._parse(N,B.format);var q=b.createDecryptor(M,B).finalize(N.ciphertext);return q},_parse:function(b,N){return typeof b=="string"?N.parse(b,this):b}}),S=i.kdf={},D=S.OpenSSL={execute:function(b,N,M,B,q){if(B||(B=a.random(64/8)),q)var K=f.create({keySize:N+M,hasher:q}).compute(b,B);else var K=f.create({keySize:N+M}).compute(b,B);var Z=a.create(K.words.slice(N),M*4);return K.sigBytes=N*4,x.create({key:K,iv:Z,salt:B})}},T=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:D}),encrypt:function(b,N,M,B){B=this.cfg.extend(B);var q=B.kdf.execute(M,b.keySize,b.ivSize,B.salt,B.hasher);B.iv=q.iv;var K=E.encrypt.call(this,b,N,q.key,B);return K.mixIn(q),K},decrypt:function(b,N,M,B){B=this.cfg.extend(B),N=this._parse(N,B.format);var q=B.kdf.execute(M,b.keySize,b.ivSize,N.salt,B.hasher);B.iv=q.iv;var K=E.decrypt.call(this,b,N,q.key,B);return K}})}()})}(ip)),ip.exports}var sp={exports:{}},f_;function gB(){return f_||(f_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=c}});function i(s,o,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var h=0;h<a;h++)s[o+h]^=c[h]}return r}(),n.mode.CFB})}(sp)),sp.exports}var op={exports:{}},p_;function xB(){return p_||(p_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var h=u.slice(0);a.encryptBlock(h,0),u[l-1]=u[l-1]+1|0;for(var f=0;f<l;f++)s[o+f]^=h[f]}});return r.Decryptor=i,r}(),n.mode.CTR})}(op)),op.exports}var ap={exports:{}},m_;function vB(){return m_||(m_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),s(f);var m=f.slice(0);c.encryptBlock(m,0);for(var g=0;g<u;g++)a[l+g]^=m[g]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(ap)),ap.exports}var lp={exports:{}},g_;function yB(){return g_||(g_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var h=0;h<l;h++)s[o+h]^=u[h]}});return r.Decryptor=i,r}(),n.mode.OFB})}(lp)),lp.exports}var cp={exports:{}},x_;function _B(){return x_||(x_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(cp)),cp.exports}var up={exports:{}},v_;function wB(){return v_||(v_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(up)),up.exports}var hp={exports:{}},y_;function EB(){return y_||(y_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(hp)),hp.exports}var dp={exports:{}},__;function CB(){return __||(__=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(dp)),dp.exports}var fp={exports:{}},w_;function SB(){return w_||(w_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(fp)),fp.exports}var pp={exports:{}},E_;function bB(){return E_||(E_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(pp)),pp.exports}var mp={exports:{}},C_;function DB(){return C_||(C_=1,function(t,e){(function(n,r,i){t.exports=r(be(),It())})(ve,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var h=l.parse(u);return o.create({ciphertext:h})}}}(),n.format.Hex})}(mp)),mp.exports}var gp={exports:{}},S_;function kB(){return S_||(S_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),It())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],c=[],u=[],h=[],f=[],m=[],g=[],v=[],_=[];(function(){for(var x=[],w=0;w<256;w++)w<128?x[w]=w<<1:x[w]=w<<1^283;for(var C=0,E=0,w=0;w<256;w++){var S=E^E<<1^E<<2^E<<3^E<<4;S=S>>>8^S&255^99,a[C]=S,l[S]=C;var D=x[C],T=x[D],b=x[T],N=x[S]*257^S*16843008;c[C]=N<<24|N>>>8,u[C]=N<<16|N>>>16,h[C]=N<<8|N>>>24,f[C]=N;var N=b*16843009^T*65537^D*257^C*16843008;m[S]=N<<24|N>>>8,g[S]=N<<16|N>>>16,v[S]=N<<8|N>>>24,_[S]=N,C?(C=D^x[x[x[b^D]]],E^=x[x[E]]):C=E=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],p=o.AES=s.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,C=w.words,E=w.sigBytes/4,S=this._nRounds=E+6,D=(S+1)*4,T=this._keySchedule=[],b=0;b<D;b++)b<E?T[b]=C[b]:(x=T[b-1],b%E?E>6&&b%E==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=y[b/E|0]<<24),T[b]=T[b-E]^x);for(var N=this._invKeySchedule=[],M=0;M<D;M++){var b=D-M;if(M%4)var x=T[b];else var x=T[b-4];M<4||b<=4?N[M]=x:N[M]=m[a[x>>>24]]^g[a[x>>>16&255]]^v[a[x>>>8&255]]^_[a[x&255]]}}},encryptBlock:function(x,w){this._doCryptBlock(x,w,this._keySchedule,c,u,h,f,a)},decryptBlock:function(x,w){var C=x[w+1];x[w+1]=x[w+3],x[w+3]=C,this._doCryptBlock(x,w,this._invKeySchedule,m,g,v,_,l);var C=x[w+1];x[w+1]=x[w+3],x[w+3]=C},_doCryptBlock:function(x,w,C,E,S,D,T,b){for(var N=this._nRounds,M=x[w]^C[0],B=x[w+1]^C[1],q=x[w+2]^C[2],K=x[w+3]^C[3],Z=4,re=1;re<N;re++){var $=E[M>>>24]^S[B>>>16&255]^D[q>>>8&255]^T[K&255]^C[Z++],V=E[B>>>24]^S[q>>>16&255]^D[K>>>8&255]^T[M&255]^C[Z++],H=E[q>>>24]^S[K>>>16&255]^D[M>>>8&255]^T[B&255]^C[Z++],R=E[K>>>24]^S[M>>>16&255]^D[B>>>8&255]^T[q&255]^C[Z++];M=$,B=V,q=H,K=R}var $=(b[M>>>24]<<24|b[B>>>16&255]<<16|b[q>>>8&255]<<8|b[K&255])^C[Z++],V=(b[B>>>24]<<24|b[q>>>16&255]<<16|b[K>>>8&255]<<8|b[M&255])^C[Z++],H=(b[q>>>24]<<24|b[K>>>16&255]<<16|b[M>>>8&255]<<8|b[B&255])^C[Z++],R=(b[K>>>24]<<24|b[M>>>16&255]<<16|b[B>>>8&255]<<8|b[q&255])^C[Z++];x[w]=$,x[w+1]=V,x[w+2]=H,x[w+3]=R},keySize:256/32});r.AES=s._createHelper(p)}(),n.AES})}(gp)),gp.exports}var xp={exports:{}},b_;function AB(){return b_||(b_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),It())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=a.DES=o.extend({_doReset:function(){for(var y=this._key,p=y.words,x=[],w=0;w<56;w++){var C=l[w]-1;x[w]=p[C>>>5]>>>31-C%32&1}for(var E=this._subKeys=[],S=0;S<16;S++){for(var D=E[S]=[],T=u[S],w=0;w<24;w++)D[w/6|0]|=x[(c[w]-1+T)%28]<<31-w%6,D[4+(w/6|0)]|=x[28+(c[w+24]-1+T)%28]<<31-w%6;D[0]=D[0]<<1|D[0]>>>31;for(var w=1;w<7;w++)D[w]=D[w]>>>(w-1)*4+3;D[7]=D[7]<<5|D[7]>>>27}for(var b=this._invSubKeys=[],w=0;w<16;w++)b[w]=E[15-w]},encryptBlock:function(y,p){this._doCryptBlock(y,p,this._subKeys)},decryptBlock:function(y,p){this._doCryptBlock(y,p,this._invSubKeys)},_doCryptBlock:function(y,p,x){this._lBlock=y[p],this._rBlock=y[p+1],g.call(this,4,252645135),g.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),g.call(this,1,1431655765);for(var w=0;w<16;w++){for(var C=x[w],E=this._lBlock,S=this._rBlock,D=0,T=0;T<8;T++)D|=h[T][((S^C[T])&f[T])>>>0];this._lBlock=S,this._rBlock=E^D}var b=this._lBlock;this._lBlock=this._rBlock,this._rBlock=b,g.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),y[p]=this._lBlock,y[p+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(y,p){var x=(this._lBlock>>>y^this._rBlock)&p;this._rBlock^=x,this._lBlock^=x<<y}function v(y,p){var x=(this._rBlock>>>y^this._lBlock)&p;this._lBlock^=x,this._rBlock^=x<<y}r.DES=o._createHelper(m);var _=a.TripleDES=o.extend({_doReset:function(){var y=this._key,p=y.words;if(p.length!==2&&p.length!==4&&p.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=p.slice(0,2),w=p.length<4?p.slice(0,2):p.slice(2,4),C=p.length<6?p.slice(0,2):p.slice(4,6);this._des1=m.createEncryptor(s.create(x)),this._des2=m.createEncryptor(s.create(w)),this._des3=m.createEncryptor(s.create(C))},encryptBlock:function(y,p){this._des1.encryptBlock(y,p),this._des2.decryptBlock(y,p),this._des3.encryptBlock(y,p)},decryptBlock:function(y,p){this._des3.decryptBlock(y,p),this._des2.encryptBlock(y,p),this._des1.decryptBlock(y,p)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(_)}(),n.TripleDES})}(xp)),xp.exports}var vp={exports:{}},D_;function NB(){return D_||(D_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),It())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var u=this._key,h=u.words,f=u.sigBytes,m=this._S=[],g=0;g<256;g++)m[g]=g;for(var g=0,v=0;g<256;g++){var _=g%f,y=h[_>>>2]>>>24-_%4*8&255;v=(v+m[g]+y)%256;var p=m[g];m[g]=m[v],m[v]=p}this._i=this._j=0},_doProcessBlock:function(u,h){u[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,h=this._i,f=this._j,m=0,g=0;g<4;g++){h=(h+1)%256,f=(f+u[h])%256;var v=u[h];u[h]=u[f],u[f]=v,m|=u[(u[h]+u[f])%256]<<24-g*8}return this._i=h,this._j=f,m}r.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=s._createHelper(c)}(),n.RC4})}(vp)),vp.exports}var yp={exports:{}},k_;function TB(){return k_||(k_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),It())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,m=this.cfg.iv,g=0;g<4;g++)f[g]=(f[g]<<8|f[g]>>>24)&16711935|(f[g]<<24|f[g]>>>8)&4278255360;var v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],_=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)h.call(this);for(var g=0;g<8;g++)_[g]^=v[g+4&7];if(m){var y=m.words,p=y[0],x=y[1],w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,E=w>>>16|C&4294901760,S=C<<16|w&65535;_[0]^=w,_[1]^=E,_[2]^=C,_[3]^=S,_[4]^=w,_[5]^=E,_[6]^=C,_[7]^=S;for(var g=0;g<4;g++)h.call(this)}},_doProcessBlock:function(f,m){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,f[m+v]^=a[v]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,m=this._C,g=0;g<8;g++)l[g]=m[g];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var v=f[g]+m[g],_=v&65535,y=v>>>16,p=((_*_>>>17)+_*y>>>15)+y*y,x=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=p^x}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=s._createHelper(u)}(),n.Rabbit})}(yp)),yp.exports}var _p={exports:{}},A_;function IB(){return A_||(A_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),It())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,m=this.cfg.iv,g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var _=0;_<4;_++)h.call(this);for(var _=0;_<8;_++)v[_]^=g[_+4&7];if(m){var y=m.words,p=y[0],x=y[1],w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,E=w>>>16|C&4294901760,S=C<<16|w&65535;v[0]^=w,v[1]^=E,v[2]^=C,v[3]^=S,v[4]^=w,v[5]^=E,v[6]^=C,v[7]^=S;for(var _=0;_<4;_++)h.call(this)}},_doProcessBlock:function(f,m){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,f[m+v]^=a[v]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,m=this._C,g=0;g<8;g++)l[g]=m[g];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var v=f[g]+m[g],_=v&65535,y=v>>>16,p=((_*_>>>17)+_*y>>>15)+y*y,x=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=p^x}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=s._createHelper(u)}(),n.RabbitLegacy})}(_p)),_p.exports}var wp={exports:{}},N_;function RB(){return N_||(N_=1,function(t,e){(function(n,r,i){t.exports=r(be(),Js(),eo(),is(),It())})(ve,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function h(_,y){let p=y>>24&255,x=y>>16&255,w=y>>8&255,C=y&255,E=_.sbox[0][p]+_.sbox[1][x];return E=E^_.sbox[2][w],E=E+_.sbox[3][C],E}function f(_,y,p){let x=y,w=p,C;for(let E=0;E<a;++E)x=x^_.pbox[E],w=h(_,x)^w,C=x,x=w,w=C;return C=x,x=w,w=C,w=w^_.pbox[a],x=x^_.pbox[a+1],{left:x,right:w}}function m(_,y,p){let x=y,w=p,C;for(let E=a+1;E>1;--E)x=x^_.pbox[E],w=h(_,x)^w,C=x,x=w,w=C;return C=x,x=w,w=C,w=w^_.pbox[1],x=x^_.pbox[0],{left:x,right:w}}function g(_,y,p){for(let S=0;S<4;S++){_.sbox[S]=[];for(let D=0;D<256;D++)_.sbox[S][D]=c[S][D]}let x=0;for(let S=0;S<a+2;S++)_.pbox[S]=l[S]^y[x],x++,x>=p&&(x=0);let w=0,C=0,E=0;for(let S=0;S<a+2;S+=2)E=f(_,w,C),w=E.left,C=E.right,_.pbox[S]=w,_.pbox[S+1]=C;for(let S=0;S<4;S++)for(let D=0;D<256;D+=2)E=f(_,w,C),w=E.left,C=E.right,_.sbox[S][D]=w,_.sbox[S][D+1]=C;return!0}var v=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var _=this._keyPriorReset=this._key,y=_.words,p=_.sigBytes/4;g(u,y,p)}},encryptBlock:function(_,y){var p=f(u,_[y],_[y+1]);_[y]=p.left,_[y+1]=p.right},decryptBlock:function(_,y){var p=m(u,_[y],_[y+1]);_[y]=p.left,_[y+1]=p.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(v)}(),n.Blowfish})}(wp)),wp.exports}(function(t,e){(function(n,r,i){t.exports=r(be(),Fd(),lB(),cB(),Js(),uB(),eo(),L6(),ux(),hB(),$6(),dB(),fB(),pB(),hx(),mB(),is(),It(),gB(),xB(),vB(),yB(),_B(),wB(),EB(),CB(),SB(),bB(),DB(),kB(),AB(),NB(),TB(),IB(),RB())})(ve,function(n){return n})})(j6);var FB=j6.exports;const w1=E1(FB);function T_(t,e,n){const r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let i="expires="+r.toUTCString();e=w1.AES.encrypt(e,"@#$ *IlO0Oo0_-"),document.cookie=t+"="+e+"; "+i+"; SameSite=None; Secure; path=/"}function g0(t){let e=t+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0){let s=i.substring(e.length,i.length);return s=w1.AES.decrypt(s,"@#$ *IlO0Oo0_-").toString(w1.enc.Utf8),s}}return""}const PB=()=>{let[t,e]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState("");const o=a=>{if(a.preventDefault(),t===""||n===""){s("Can't login with empty credentials!");return}cx("users",t,n).then(l=>{l[0]?(T_("email",t,30),T_("pswd",n,30),window.location.reload()):s("Wrong Credentials!")})};return d.jsx("div",{className:"max-w-[500px] mx-auto min-h-screen p-20 flex justify-center items-center",children:d.jsxs("form",{className:"w-full",children:[d.jsx("div",{className:" pb-10",children:d.jsx("img",{src:F6,alt:"",className:"w-[250px] mx-auto"})}),d.jsxs("div",{className:"loginDivCont",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{children:"Employee ID"}),d.jsx("input",{type:"text",placeholder:"Your Email",className:"p-2 rounded-full bg-gray-200 outline-none focus:outline-none border border-gray-400",value:t,onChange:a=>e(a.target.value),required:!0})," "]}),d.jsx("br",{}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{children:"Password"}),d.jsx("input",{placeholder:"Your Password",type:"password",className:"p-2 rounded-full bg-gray-200 outline-none focus:outline-none border border-gray-400",value:n,onChange:a=>r(a.target.value),required:!0})]}),d.jsx("br",{}),d.jsx("button",{className:"btn-primary mx-auto",onClick:o,children:"LOG IN"}),d.jsx("p",{className:"loginMsg",children:i})]})]})})};function MB(){let[t,e]=k.useState("unknown"),[n,r]=k.useState(d.jsx(d.Fragment,{}));return k.useEffect(()=>{cx("users",g0("email"),g0("pswd")).then(i=>{i[0]?e("is_user"):e("not_user")})},[]),k.useEffect(()=>{t==="unknown"?r(d.jsx("div",{className:"min-h-screen flex justify-center items-center",children:d.jsx(lx,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"triangle-loading",visible:!0})})):t==="not_user"&&r(d.jsx(PB,{}))},[t]),console.log("isUser",t),t!=="is_user"?d.jsx(d.Fragment,{children:n}):d.jsxs("div",{className:"flex gap-6",children:[d.jsx(tB,{}),d.jsx("div",{className:"container mx-auto w-full p-4",children:d.jsx(Mb,{})})]})}function O6(t){const e=new Date(t*1e3),n={year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleString("en-US",n)}function BB({ReportData:t}){return d.jsxs("div",{className:"border border-gray-600 rounded-t-lg",children:[d.jsxs("div",{className:"border flex gap-4 items-center justify-between p-4 bg-primary text-white rounded-t-lg",children:[d.jsx("p",{className:"w-full",children:"ID"}),d.jsx("p",{className:"w-full",children:"Machine Number"}),d.jsx("p",{className:"w-full",children:"Tared On"})]}),t.map((e,n)=>d.jsxs("div",{className:"border border-gray-600 flex gap-4 items-center justify-between p-4",children:[d.jsx("p",{className:"w-full",children:n+1}),d.jsxs("p",{className:"w-full",children:["FM ",e==null?void 0:e.machine_no]}),d.jsx("p",{className:"w-full",children:O6(e==null?void 0:e.unix_time)})]},e.id))]})}function jB({coilWeight:t,ReportData:e,handleWeightChange:n,handleUpdate:r}){return d.jsxs("div",{className:"border border-gray-600 rounded-t-lg",children:[d.jsxs("div",{className:"border flex gap-4 items-center justify-between p-4 bg-primary text-white rounded-t-lg",children:[d.jsx("p",{className:"w-full",children:"ID"}),d.jsx("p",{className:"w-full",children:"Machine Number"}),d.jsx("p",{className:"w-full",children:"Changed On"}),d.jsx("p",{className:"w-full",children:"Coil Weight"}),d.jsx("p",{className:"w-full",children:"Coil Weight"})]}),e.map((i,s)=>d.jsxs("div",{className:"border border-gray-600 flex gap-4 items-center justify-between p-4",children:[d.jsx("p",{className:"w-full",children:s+1}),d.jsxs("p",{className:"w-full",children:["FM ",i==null?void 0:i.machine_no]}),d.jsx("p",{className:"w-full",children:O6(i==null?void 0:i.unix_time)}),d.jsx("div",{className:"w-full",children:d.jsx("input",{className:" border px-4 py-2 rounded-md border-gray-500 outline-none focus:outline-none",type:"text",placeholder:"Enter coil weight",value:t[i.id]||"",onChange:o=>n(i.id,o.target.value)})}),d.jsx("p",{className:"w-full",children:d.jsx("button",{onClick:o=>r(o,i.id),className:"bg-primary px-4 py-2 rounded-md text-white",children:"Update"})})]},i.id))]})}function LB(){let[t,e]=k.useState([]),[n,r]=k.useState(!0),[i,s]=k.useState(!1),[o,a]=k.useState({});k.useEffect(()=>{s(!1);const u=tt(ye,n?"tareUpdates":"coilChangeUpdate"),h=ei(u,fr("unix_time","desc"),$r(50));_d(h,f=>{let m=[];f.forEach(g=>{m.push({id:g.id,...g.data()}),n||a(v=>({...v,[g.id]:g.data().weight}))}),e(m),s(!0)})},[n]);const l=async(u,h)=>{const f=$t(ye,"coilChangeUpdate",h),m=o[h];if(console.log(h,m),m)try{u.target.innerText="wait...",await WC(f,{weight:parseFloat(m)}),u.target.innerText="Updated"}catch{u.target.innerText="error!"}else u.target.innerText="Invalid!";setTimeout(()=>{u.target.innerText="Update"},1500)},c=(u,h)=>{a(f=>({...f,[u]:h}))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex  flex-col gap-10 pb-6",children:[d.jsx("h2",{className:"text-4xl font-sans font-medium",children:"Tare and Coil Changing Updates"}),d.jsxs("div",{className:"flex gap-8 items-center text-white",children:[d.jsx("button",{className:`px-6 py-2 rounded-md ${n?"bg-primary":"text-black bg-primary/20"}`,onClick:()=>r(!0),children:"Tare Updates"}),d.jsx("button",{className:`px-6 py-2 rounded-md ${n?"text-black bg-primary/20":"bg-primary"}`,onClick:()=>r(!1),children:"Coil Changing Updates"})]})]}),n?i&&d.jsx(BB,{ReportData:t}):i&&d.jsx("div",{children:d.jsx(jB,{ReportData:t,handleUpdate:l,handleWeightChange:c,coilWeight:o})})]})}const $B="/assets/realtime_reports-CvrCL2Xo.svg",OB="/assets/daily_report-ChCnQ_ll.svg",UB="/assets/Weekly_Report-Cg7tGW6d.svg",VB="/assets/Monthly_Report-DcZqTp8z.svg",HB="/assets/Quarterly_Report-B3UWh9YE.svg",zB="/assets/Yearly_Report-Dkqe5c6n.svg",WB="/assets/Machine_Efficiency-DTJmyKtf.svg";function qB(){return d.jsxs("div",{className:"py-4",children:[d.jsx("h2",{className:"text-3xl py-10 font-bold ",children:"Reports"}),d.jsxs("div",{className:"grid grid-cols1 md:grid-cols-4 gap-x-10 gap-y-20",children:[d.jsx(zr,{to:"/reports/realtime-reports",children:d.jsxs("div",{className:"rounded-lg shadow-xl cursor-pointer px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[d.jsx("img",{src:$B,alt:"",className:"h-[100px] w-auto"}),d.jsx("p",{className:"text-2xl",children:"Realtime Report "})]})}),d.jsx(zr,{to:"/reports/daily-reports",children:d.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[d.jsx("img",{src:OB,alt:"",className:"h-[100px] w-auto"}),d.jsx("p",{className:"text-2xl",children:"Daily Report "})]})}),d.jsx(zr,{to:"/reports/weekly-reports",children:d.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[d.jsx("img",{src:UB,alt:"",className:"h-[100px] w-auto"}),d.jsx("p",{className:"text-2xl",children:"Weekly Report "})]})}),d.jsx(zr,{to:"/reports/monthly-reports",children:d.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[d.jsx("img",{src:VB,alt:"",className:"h-[100px] w-auto"}),d.jsx("p",{className:"text-2xl",children:"Monthly Report "})]})}),d.jsx(zr,{to:"/reports/quarterly-reports",children:d.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[d.jsx("img",{src:HB,alt:"",className:"h-[100px] w-auto"}),d.jsx("p",{className:"text-2xl",children:"Quarterly Report "})]})}),d.jsx(zr,{to:"/reports/yearly-reports",children:d.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[d.jsx("img",{src:zB,alt:"",className:"h-[100px] w-auto"}),d.jsx("p",{className:"text-2xl",children:"Yearly Report "})]})}),d.jsx(zr,{to:"/reports/machine-efficiency",children:d.jsxs("div",{className:"rounded-lg shadow-xl px-4 py-8 flex justify-center items-center flex-col gap-4 ",children:[d.jsx("img",{src:WB,alt:"",className:"h-[100px] w-auto"}),d.jsx("p",{className:"text-2xl",children:"Machine Efficiency "})]})})]})]})}function GB({ReportData:t,startIndex:e}){return d.jsxs("div",{className:"border border-gray-800 rounded-t-lg",children:[d.jsxs("div",{className:"border grid grid-cols-8 justify-between bg-primary text-white rounded-t-lg",children:[d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"ID"}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Machine Number"}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Product Type"}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Thickness"}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Product Count"}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Total weight"}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:"Shift"}),d.jsx("p",{className:"w-full p-4",children:"Last Production Time"})]}),t.map((n,r)=>d.jsxs("div",{className:`border border-gray-800 grid grid-cols-8  justify-between ${(n==null?void 0:n.status)=="new"?"bg-green-100":""}`,children:[d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:r+1+parseInt(e)}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.machine_no}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.product_type}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.thickness}),d.jsxs("p",{className:"w-full border-r border-r-gray-800 p-4",children:[n==null?void 0:n.count," "]}),d.jsxs("p",{className:"w-full border-r border-r-gray-800 p-4",children:[n==null?void 0:n.weight," KG"]}),d.jsx("p",{className:"w-full border-r border-r-gray-800 p-4",children:n==null?void 0:n.shift}),d.jsxs("p",{className:"w-full p-4",children:[n.date," ",`${n.time.toString().slice(0,2)}:${n.time.toString().slice(2,4)}:${n.time.toString().slice(4,6)}`]})]},n.id))]})}function KB(){let[t,e]=k.useState([]),[n,r]=k.useState(null),[i,s]=k.useState(0),[o,a]=k.useState(0);const l=30,c="machines";k.useEffect(()=>{const m=tt(ye,c),g=ei(m,fr("unix_time","desc"),$r(l));u(g,0)},[]);const u=(m,g)=>{_d(m,v=>{e(_=>{let y=[];return v.forEach(p=>{const x={id:p==null?void 0:p.id,...p==null?void 0:p.data()},w=_.some(C=>C.id==x.id);x.status=(_==null?void 0:_.length)===0||w?"old":"new",y.push(x)}),y.length>0&&(r(v),a(y.length),s(p=>p+g)),y})})},h=()=>{if(!n){console.error("Snapshot is not available yet.");return}console.log("CLicked");let m=tt(ye,c);const g=ei(m,fr("unix_time","desc"),RI(n.docs[t.length-1]),$r(l));u(g,1)},f=()=>{if(!n){console.error("Snapshot is not available yet.");return}let m=tt(ye,c);const g=ei(m,fr("unix_time","desc"),FI(n.docs[0]),II(l));u(g,-1)};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold py-8",children:"Realtime Report "}),d.jsx(GB,{ReportData:t,startIndex:i*l}),d.jsxs("div",{className:"flex justify-center items-center py-20 gap-10",children:[d.jsx("button",{className:`px-6 py-2 rounded-full text-xl ${i===0?"bg-gray-500":"bg-yellow-500"}`,onClick:f,disabled:i===0,children:"Previous"}),d.jsx("button",{className:`px-6 py-2 rounded-full  text-xl ${o<l?"bg-gray-500":"bg-yellow-500"}`,onClick:h,disabled:o<l,children:"Next"})]})]})}const yr=["Round Pipe","Rectangular Pipe","Square Pipe","Design Pipe","Spiral Pipe","Half Round Pipe","Schedule Pipe"],lh=["Morning","Night"],QB=["manager","admin","owner","in-charge","machine-operator"],xo=["0.4mm","0.5mm","0.6mm","0.7mm","0.8mm","1.0mm","1.2mm","1.5mm","2.0mm","2.5mm"],YB=["3/8 inch","5/8 inch","1 inch","11/2 inch","21/2 inch","3/8 inch x 3/8 inch","1/2 inch x 3/4 inch","1/2 inchx11/2 inch","5/8 inch x 5/8 inch","3/4 inch x 11/2 inch","1 inch x 11/2 inch","11/2 inch x 11/2 inch","2 inch x 1 inch","21/2 inch x 1 inch","3 inch x 1 inch","3 inch x 2 inch","3 inch x 3 inch","3 inch x 11/2 inch","1/2 inch","3/4 inch","11/4 inch","2 inch","3 inch","4 inch","1/2 inch x 1/2 inch","1/2 inch x 1 inch","1/2 inch x 2 inch","3/4 inch x 3/4 inch","1 inch x 1 inch","11/4 inch x 11/4 inch","11/2 inch x 2 inch","2 inch x 2 inch","21/2 inch x 11/2 inch","3 inch x 11/4 inch","61 inch x 29.5 inch","4 inch x 2 inch"];function XB(){const t="machinesIndividual",e="damagedProducts";let n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),[s,o]=k.useState(!0),[a,l]=k.useState(new Set([]));k.useEffect(()=>{r.current.valueAsDate=new Date;let f=new Set([]);const m=$t(ye,"information","info");bn(m).then(g=>{let v=g.data();v.forming_machine.forEach(_=>{f.add(_)}),v.polish_machine.forEach(_=>{f.add(_)}),l(f)})},[]);function c(){let f=0,m=new Date(n.current.value),g=new Date(r.current.value);if(n.current.value===""||r.current.value==="")return u("Invalid Parameters!"),null;if(m.getTime()>g.getTime())return u("Start date should be less than End Date"),null;u("Please be Patient ..."),o(!1);async function v(_){let y=new Date(_);y.setHours(0),y.setMinutes(0),y.setSeconds(0);let p=new Date(_);p.setHours(23),p.setMinutes(59),p.setSeconds(59);let x=tt(ye,t);Array.from(a).map((w,C)=>{yr.map((E,S)=>{let D=0,T=0,b=0,N=0,M=0,B=0,q=0,K=0,Z=0,re=ln(x,le("unix_time",">=",Math.floor(y.getTime()/1e3)),le("unix_time","<=",Math.floor(p.getTime()/1e3)),le("machine_no","==",w),le("product_type","==",E));Ot(re).then($=>{$.forEach(R=>{q++,f++;const P=R.data();P.shift==="Morning"?parseFloat(P.weight)>0&&(D+=Math.abs(parseInt(P.count)),T+=parseFloat(P.weight)):parseFloat(P.weight)>0&&(b+=Math.abs(parseInt(P.count)),N+=parseFloat(P.weight))}),M=(D+b).toFixed(2),B=(N+T).toFixed(2);let V=tt(ye,e),H=ln(V,le("unix_time",">=",Math.floor(y.getTime()/1e3)),le("unix_time","<=",Math.floor(p.getTime()/1e3)),le("machine_no","==",w),le("product_type","==",E));Ot(H).then(R=>{R.forEach(P=>{const O=P.data();O.shift==="Morning"?K+=parseInt(O.damagedProductCount):Z+=parseInt(O.damagedProductCount)}),q!==0&&h(`${y.getDate()}/${y.getMonth()+1}/${y.getFullYear()}`,w,E,K,D,T.toFixed(2),D-K,Z,b,N.toFixed(2),b-Z,M-K-Z,B),(C+1)*(S+1)===a.size*yr.length&&(f===0&&u("No Data Available in this Date Range"),o(!0))})})})})}for(;v(g),m.getTime()!==g.getTime();)g.setDate(g.getDate()-1)}const u=f=>{i.current.innerHTML=`<tr id="reportStatus" >
              <td class="border border-gray-500 text-center py-4 " colSpan="13">
                ${f}
            </td>
        </tr>`},h=(f,m,g,v,_,y,p,x,w,C,E,S,D)=>{const T=document.createElement("tr");T.innerHTML=`
      <tr>
        <td class="border border-black p-4">${f}</td>
        <td class="border border-black p-4">${m}</td>
        <td class="border border-black p-4">${g}</td>
        
        <td class="border border-black p-4">${_}</td>
        <td class="border border-black p-4">${v}</td>
        <td class="border border-black p-4">${p}</td>
        <td class="border border-black p-4">${y}</td>
        
        <td class="border border-black p-4">${w}</td>
        <td class="border border-black p-4">${x}</td>
        <td class="border border-black p-4">${E}</td>
        <td class="border border-black p-4">${C}</td>
        
        <td class="border border-black p-4">${S}</td>
        <td class="border border-black p-4">${D}</td>
      </tr>
    `;let b=document.getElementById("reportStatus");b!==null&&b.remove(),i.current.appendChild(T)};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold py-8",children:"Daily Report "}),d.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsx("h2",{children:"From"}),d.jsx("input",{type:"date",ref:n,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"From"})," ",d.jsx("h2",{children:"To"}),d.jsx("input",{type:"date",ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"To"})]}),d.jsx("button",{onClick:c,disabled:!s,className:"px-6 py-2 rounded-full bg-black text-white",children:s?"Generate":"Please Wait ..."}),d.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),d.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",d.jsx(Fa,{})]})]}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{id:"table-to-xls",className:"w-full",children:[d.jsxs("thead",{className:"bg-primary text-white font-light rounded-lg",children:[d.jsxs("tr",{children:[d.jsx("th",{rowSpan:"2",className:"border border-black",children:"Date"}),d.jsx("th",{rowSpan:"2",className:"border border-black",children:"Machine No."}),d.jsx("th",{rowSpan:"2",className:"border border-black",children:"Product Type"}),d.jsx("th",{colSpan:"4",className:"border border-black",children:"Morning"}),d.jsx("th",{colSpan:"4",className:"border border-black",children:"Night"}),d.jsx("th",{rowSpan:"2",className:"border border-black",children:"Total Product"}),d.jsx("th",{rowSpan:"2",className:"border border-black",children:"Total Weight"})]}),d.jsxs("tr",{className:"border border-black",children:[d.jsx("th",{className:"border border-black",children:"Total"}),d.jsx("th",{style:{color:"#bd0000"},className:"border border-black",children:"Damaged"}),d.jsx("th",{className:"border border-black",children:"Net"}),d.jsx("th",{className:"border border-black",children:"Weight"}),d.jsx("th",{className:"border border-black",children:"Total"}),d.jsx("th",{style:{color:"#bd0000"},className:"border border-black",children:"Damaged"}),d.jsx("th",{className:"border border-black",children:"Net"}),d.jsx("th",{className:"border border-black",children:"Weight"})]})]}),d.jsx("tbody",{ref:i,children:d.jsx("tr",{children:d.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function ZB(){const t="machinesIndividual",e="damagedProducts";let n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),[s,o]=k.useState(!0),[a,l]=k.useState(new Set([]));k.useEffect(()=>{r.current.valueAsDate=new Date;let f=new Set([]);const m=$t(ye,"information","info");bn(m).then(g=>{let v=g.data();v.forming_machine.forEach(_=>{f.add(_)}),v.polish_machine.forEach(_=>{f.add(_)}),l(f)})},[]);const c=()=>{let f=0,m=new Date(r.current.value);m.setHours(0),m.setMinutes(0),m.setMilliseconds(0),m.setSeconds(0);let g=parseInt(n.current.value);if(n.current.value===""||n.current.value<=0)return u("Week Range cannot be empty"),null;if(r.current.value==="")return u("Date is Empty!"),null;u("Please be Patient ..."),o(!1);async function v(_,y=!1){let p=new Date(_);p.setHours(23),p.setMinutes(59),p.setSeconds(59);let x=new Date(_);x.setDate(x.getDate()-6),x.setHours(0),x.setMinutes(0),x.setSeconds(0),console.log(p,x);let w=tt(ye,t);Array.from(a).map((C,E)=>{yr.map((S,D)=>{let T=0,b=0,N=0,M=0,B=0,q=ln(w,le("unix_time",">=",Math.floor(x.getTime()/1e3)),le("unix_time","<=",Math.floor(p.getTime()/1e3)),le("machine_no","==",C),le("product_type","==",S));Ot(q).then(K=>{K.forEach($=>{N++,f++;const V=$.data();parseFloat(V.weight)>0&&(b+=parseFloat(V.weight),T+=Math.abs(parseInt(V.count)))});let Z=tt(ye,e),re=ln(Z,le("unix_time",">=",Math.floor(x.getTime()/1e3)),le("unix_time","<=",Math.floor(p.getTime()/1e3)),le("machine_no","==",C),le("product_type","==",S));Ot(re).then($=>{$.forEach(V=>{const H=V.data();H.shift==="Morning"?M+=parseInt(H.damagedProductCount):B+=parseInt(H.damagedProductCount),console.log("Morning Damaged",M,"Night Damaged",B)}),N!==0&&h(`${p.getDate()}/${p.getMonth()+1}/${p.getFullYear()} - 
                                      ${x.getDate()}/${x.getMonth()+1}/${x.getFullYear()}`,C,S,M+B,T,T-M-B,parseFloat(b).toFixed(2)),(E+1)*(D+1)===a.size*yr.length&&(f===0&&u("No Data Available in this Date Range"),o(!0))})})})})}for(let _=0;_<g;_++)v(m,_+1===g),m.setDate(m.getDate()-7)},u=f=>{i.current.innerHTML=`<tr>
              <td class="border border-black p-4 text-center" id='reportStatus' colSpan="9">
                  ${f}
              </td>
          </tr>`},h=(f,m,g,v,_,y,p)=>{const x=document.createElement("tr");x.innerHTML=`<tr>
          <td class="border border-black p-4">${f}</td>
          <td class="border border-black p-4">${m}</td>
          <td class="border border-black p-4">${g}</td>
          <td class="border border-black p-4">${v}</td>
          <td class="border border-black p-4">${_}</td>
          <td class="border border-black p-4">${y}</td>
          <td class="border border-black p-4">${p}</td>
          </tr>`;let w=document.getElementById("reportStatus");w&&w.remove(),i.current.appendChild(x)};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold py-8",children:"Weekly Report "}),d.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsx("h2",{children:"Date"}),d.jsx("input",{type:"number",ref:n,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"Weeks"})," ",d.jsx("h2",{children:"To"}),d.jsx("input",{type:"date",ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",placeholder:"To"})]}),d.jsx("button",{onClick:c,disabled:!s,className:"px-6 py-2 rounded-full bg-black text-white",children:s?"Generate":"Please Wait ..."}),d.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),d.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",d.jsx(Fa,{})]})]}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{id:"table-to-xls",className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border border-black p-2",children:"Week"}),d.jsx("th",{className:"border border-black p-2",children:"Machine No."}),d.jsx("th",{className:"border border-black p-2",children:"Product Type"}),d.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged Product"}),d.jsx("th",{className:"border border-black p-2",children:"Total Product"}),d.jsx("th",{className:"border border-black p-2",children:"Net"}),d.jsx("th",{className:"border border-black p-2",children:"Total Weight"})]})}),d.jsx("tbody",{ref:i,children:d.jsx("tr",{children:d.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function JB(){const t="machinesIndividual",e="damagedProducts";let n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),s=k.useRef(null);const o=parseInt(new Date().getFullYear());let[a,l]=k.useState(!0),[c,u]=k.useState(new Set([]));k.useEffect(()=>{let g=new Set([]);const v=$t(ye,"information","info");bn(v).then(_=>{let y=_.data();y.forming_machine.forEach(p=>{g.add(p)}),y.polish_machine.forEach(p=>{g.add(p)}),u(g)})},[]);function h(){let g=new Date;g.setMilliseconds(0),g.setSeconds(0),g.setMinutes(0),g.setHours(0),g.setDate(1),g.setMonth(parseInt(i.current.value)),g.setFullYear(parseInt(r.current.value));let v=0;if(s.current.value===""||i.current.value==="")return f("Month Range cannot be empty!"),null;if(s.current.value<i.current.value)return f("Start month should be less than end month!"),null;f("Please Be Patient ..."),l(!1);const _=y=>{let p=new Date(y),x=new Date(r.current.value,p.getMonth()+1,0);x.setHours(23),x.setMinutes(59),x.setSeconds(59);const w=tt(ye,t);Array.from(c).map((C,E)=>{yr.map((S,D)=>{let T=0,b=0,N=0,M=0,B=0;const q=ln(w,le("unix_time",">=",Math.floor(p.getTime()/1e3)),le("unix_time","<=",Math.floor(x.getTime()/1e3)),le("machine_no","==",C),le("product_type","==",S));Ot(q).then(K=>{K.forEach($=>{N++,v++;const V=$.data();parseFloat(V.weight)>0&&(b+=parseFloat(V.weight),T+=Math.abs(parseInt(V.count)))});let Z=tt(ye,e),re=ln(Z,le("unix_time",">=",Math.floor(p.getTime()/1e3)),le("unix_time","<=",Math.floor(x.getTime()/1e3)),le("machine_no","==",C),le("product_type","==",S));Ot(re).then($=>{$.forEach(V=>{const H=V.data();H.shift==="Morning"?M+=parseInt(H.damagedProductCount):B+=parseInt(H.damagedProductCount),console.log("Morning Damaged",M,"Night Damaged",B)}),N!==0&&m(p.toLocaleString("default",{month:"long"}),C,S,M+B,T,T-M-B,parseFloat(b).toFixed(2)),(E+1)*(D+1)===c.size*yr.length&&(v===0&&f("No Data Available in this Date Range"),l(!0))})})})})};for(;g.getMonth()<=s.current.value;)_(g),g.setMonth(g.getMonth()+1)}const f=g=>{n.current.innerHTML=`<tr>
              <td class='border border-black text-center py-4' id='reportStatus' colSpan="9">
                  ${g}
              </td>
          </tr>`},m=(g,v,_,y,p,x,w)=>{const C=document.createElement("tr");C.innerHTML=`<tr>
          <td class="border border-black p-4">${g}</td>
          <td class="border border-black p-4">${v}</td>
          <td class="border border-black p-4">${_}</td>
          <td class="border border-black p-4">${y}</td>
          <td class="border border-black p-4">${p}</td>
          <td class="border border-black p-4">${x}</td>
          <td class="border border-black p-4">${w}</td>
          </tr>`;let E=document.getElementById("reportStatus");E&&E.remove(),n.current.appendChild(C)};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold py-8",children:"Monthly Report "}),d.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[d.jsx("h2",{children:"Date"}),d.jsxs("select",{ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[d.jsx("option",{value:o,children:o}),d.jsx("option",{value:o-1,children:o-1}),d.jsx("option",{value:o-2,children:o-2}),d.jsx("option",{value:o-3,children:o-3}),d.jsx("option",{value:o-4,children:o-4})]}),d.jsxs("select",{ref:i,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"From"}),d.jsx("option",{value:0,children:"January"}),d.jsx("option",{value:1,children:"February"}),d.jsx("option",{value:2,children:"March"}),d.jsx("option",{value:3,children:"April"}),d.jsx("option",{value:4,children:"May"}),d.jsx("option",{value:5,children:"June"}),d.jsx("option",{value:6,children:"July"}),d.jsx("option",{value:7,children:"August"}),d.jsx("option",{value:8,children:"September"}),d.jsx("option",{value:9,children:"October"}),d.jsx("option",{value:10,children:"November"}),d.jsx("option",{value:11,children:"December"})]}),d.jsxs("select",{ref:s,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"To"}),d.jsx("option",{value:0,children:"January"}),d.jsx("option",{value:1,children:"February"}),d.jsx("option",{value:2,children:"March"}),d.jsx("option",{value:3,children:"April"}),d.jsx("option",{value:4,children:"May"}),d.jsx("option",{value:5,children:"June"}),d.jsx("option",{value:6,children:"July"}),d.jsx("option",{value:7,children:"August"}),d.jsx("option",{value:8,children:"September"}),d.jsx("option",{value:9,children:"October"}),d.jsx("option",{value:10,children:"November"}),d.jsx("option",{value:11,children:"December"})]}),d.jsx("button",{onClick:h,disabled:!a,className:"px-6 py-2 rounded-full bg-black text-white",children:a?"Generate":"Please Wait ..."}),d.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),d.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",d.jsx(Fa,{})]})]}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{id:"table-to-xls",className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border border-black p-2",children:"Week"}),d.jsx("th",{className:"border border-black p-2",children:"Machine No."}),d.jsx("th",{className:"border border-black p-2",children:"Product Type"}),d.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged Product"}),d.jsx("th",{className:"border border-black p-2",children:"Total Product"}),d.jsx("th",{className:"border border-black p-2",children:"Net"}),d.jsx("th",{className:"border border-black p-2",children:"Total Weight"})]})}),d.jsx("tbody",{ref:n,children:d.jsx("tr",{children:d.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function ej(){const t="damagedProducts",e="machinesIndividual";let n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),s=k.useRef(null);const o=parseInt(new Date().getFullYear());let[a,l]=k.useState(!0),[c,u]=k.useState(new Set([]));k.useEffect(()=>{let g=new Set([]);const v=$t(ye,"information","info");bn(v).then(_=>{let y=_.data();y.forming_machine.forEach(p=>{g.add(p)}),y.polish_machine.forEach(p=>{g.add(p)}),u(g)})},[]);const h=()=>{let g=0,v=new Date;if(v.setDate(1),v.setHours(0),v.setMinutes(0),v.setMilliseconds(0),v.setSeconds(0),v.setMonth(r.current.value),v.setFullYear(i.current.value),n.current.value===""||n.current.value<=0)return f("Quarter Range cannot be empty!"),null;if(r.current.value==="")return f("Start month cannot be empty!"),null;f("Please Be Patient ..."),l(!1);const _=y=>{let p=new Date(y),x=new Date(y);x.setSeconds(59),x.setHours(23),x.setMinutes(59),x.setDate(0),x.setMonth(x.getMonth()+4);const w=tt(ye,e);Array.from(c).map((C,E)=>{yr.map((S,D)=>{let T=0,b=0,N=0,M=0,B=0;const q=ln(w,le("unix_time",">=",Math.floor(p.getTime()/1e3)),le("unix_time","<=",Math.floor(x.getTime()/1e3)),le("machine_no","==",C),le("product_type","==",S));Ot(q).then(K=>{K.forEach($=>{N++,g++;const V=$.data();parseFloat(V.weight)>0&&(b+=parseFloat(V.weight),T+=Math.abs(parseInt(V.count)))});let Z=tt(ye,t),re=ln(Z,le("unix_time",">=",Math.floor(p.getTime()/1e3)),le("unix_time","<=",Math.floor(x.getTime()/1e3)),le("machine_no","==",C),le("product_type","==",S));Ot(re).then($=>{$.forEach(V=>{const H=V.data();H.shift==="Morning"?M+=parseInt(H.damagedProductCount):B+=parseInt(H.damagedProductCount),console.log("Morning Damaged",M,"Night Damaged",B)}),N!==0&&m(`${p.toLocaleString("default",{month:"long"})}, ${p.getFullYear()} - 
                                      ${x.toLocaleString("default",{month:"long"})}, ${x.getFullYear()}`,C,S,M+B,T,T-M-B,parseFloat(b).toFixed(2)),(E+1)*(D+1)===c.size*yr.length&&(g===0&&f("No Data Available in this Date Range"),l(!0))})})})})};for(let y=0;y<n.current.value;y++)_(v),v.setMonth(v.getMonth()+4)},f=g=>{s.current.innerHTML=`<tr>
              <td class="border border-black p-2" id='reportStatus' colSpan="9">
                  ${g}
              </td>
          </tr>`},m=(g,v,_,y,p,x,w)=>{const C=document.createElement("tr");C.innerHTML=`<tr>
          <td  class="border border-black p-4">${g}</td>
          <td  class="border border-black p-4">${v}</td>
          <td  class="border border-black p-4">${_}</td>
          <td  class="border border-black p-4">${y}</td>
          <td  class="border border-black p-4">${p}</td>
          <td  class="border border-black p-4">${x}</td>
          <td  class="border border-black p-4">${w}</td>
          </tr>`;let E=document.getElementById("reportStatus");E&&E.remove(),s.current.appendChild(C)};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold py-8",children:"Quarterly Report "}),d.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[d.jsx("h2",{children:"Date"}),d.jsx("input",{type:"number",ref:n,placeholder:"Quarters",style:{width:"9rem"},className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400"}),"From",d.jsxs("select",{ref:r,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Start Month"}),d.jsx("option",{value:0,children:"January"}),d.jsx("option",{value:1,children:"February"}),d.jsx("option",{value:2,children:"March"}),d.jsx("option",{value:3,children:"April"}),d.jsx("option",{value:4,children:"May"}),d.jsx("option",{value:5,children:"June"}),d.jsx("option",{value:6,children:"July"}),d.jsx("option",{value:7,children:"August"}),d.jsx("option",{value:8,children:"September"}),d.jsx("option",{value:9,children:"October"}),d.jsx("option",{value:10,children:"November"}),d.jsx("option",{value:11,children:"December"})]}),d.jsxs("select",{ref:i,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[d.jsx("option",{value:o,children:o}),d.jsx("option",{value:o-1,children:o-1}),d.jsx("option",{value:o-2,children:o-2}),d.jsx("option",{value:o-3,children:o-3}),d.jsx("option",{value:o-4,children:o-4})]}),d.jsx("button",{onClick:h,disabled:!a,className:"px-6 py-2 rounded-full bg-black text-white",children:a?"Generate":"Please Wait ..."}),d.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),d.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",d.jsx(Fa,{})]})]}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{id:"table-to-xls",className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border border-black p-2",children:"Quarter"}),d.jsx("th",{className:"border border-black p-2",children:"Machine No."}),d.jsx("th",{className:"border border-black p-2",children:"Product Type"}),d.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged Product"}),d.jsx("th",{className:"border border-black p-2",children:"Total Product"}),d.jsx("th",{className:"border border-black p-2",children:"Net"}),d.jsx("th",{className:"border border-black p-2",children:"Total Weight"})]})}),d.jsx("tbody",{ref:s,children:d.jsx("tr",{children:d.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function tj(){const t="machinesIndividual",e="damagedProducts";let n=k.useRef(null);const r=parseInt(new Date().getFullYear());let i=k.useRef(null),s=k.useRef(null),[o,a]=k.useState(!0),[l,c]=k.useState(new Set([]));k.useEffect(()=>{let m=new Set([]);const g=$t(ye,"information","info");bn(g).then(v=>{let _=v.data();_.forming_machine.forEach(y=>{m.add(y)}),_.polish_machine.forEach(y=>{m.add(y)}),c(m)})},[]);const u=()=>{let m=0,g=new Date;g.setMilliseconds(0),g.setSeconds(0),g.setHours(0),g.setMinutes(0),g.setDate(1),g.setMonth(0),g.setFullYear(i.current.value),h("Please Be Patient ..."),a(!1);const v=_=>{let y=new Date(_);y.setHours(0),y.setMinutes(0),y.setSeconds(0);let p=new Date(_);p.setMonth(11),p.setDate(31),p.setHours(23),p.setMinutes(59),p.setSeconds(59),console.log(y,p);const x=tt(ye,t);Array.from(l).map((w,C)=>{yr.map((E,S)=>{let D=0,T=0,b=0,N=0,M=0,B=0,q=0,K=0,Z=0;const re=ln(x,le("unix_time",">=",Math.floor(y.getTime()/1e3)),le("unix_time","<=",Math.floor(p.getTime()/1e3)),le("machine_no","==",w),le("product_type","==",E));Ot(re).then($=>{$.forEach(R=>{q++,m++;const P=R.data();P.shift==="Morning"?parseFloat(P.weight)>0&&(D+=Math.abs(parseInt(P.count)),T+=parseFloat(P.weight)):parseFloat(P.weight)>0&&(b+=Math.abs(parseInt(P.count)),N+=parseFloat(P.weight))}),M=D+b,B=(N+T).toFixed(2);let V=tt(ye,e),H=ln(V,le("unix_time",">=",Math.floor(y.getTime()/1e3)),le("unix_time","<=",Math.floor(p.getTime()/1e3)),le("machine_no","==",w),le("product_type","==",E));Ot(H).then(R=>{R.forEach(P=>{const O=P.data();O.shift==="Morning"?K+=parseInt(O.damagedProductCount):Z+=parseInt(O.damagedProductCount)}),q!==0&&f(y.getFullYear(),w,E,K,D,T.toFixed(2),D-K,Z,b,N.toFixed(2),b-Z,M-K-Z,B),(C+1)*(S+1)===l.size*yr.length&&(m===0&&h("No Data Available in this Date Range"),a(!0))})})})})};for(let _=0;_<s.current.value-i.current.value+1;_++)v(g),g.setFullYear(g.getFullYear()+1)},h=m=>{n.current.innerHTML=`<tr>
              <td class="border border-black p-2 text-center" id='reportStatus' colSpan="13">
                  ${m}
              </td>
          </tr>`},f=(m,g,v,_,y,p,x,w,C,E,S,D,T)=>{const b=document.createElement("tr");b.innerHTML=`<tr>
          <td class="border border-black p-2">${m}</td>
          <td class="border border-black p-2">${g}</td>
          <td class="border border-black p-2">${v}</td>

          <td class="border border-black p-2">${y}</td>
          <td class="border border-black p-2">${_}</td>
          <td class="border border-black p-2">${x}</td>
          <td class="border border-black p-2">${p}</td>

          <td class="border border-black p-2">${C}</td>
          <td class="border border-black p-2">${w}</td>
          <td class="border border-black p-2">${S}</td>
          <td class="border border-black p-2">${E}</td>

          <td class="border border-black p-2">${D}</td>
          <td class="border border-black p-2">${T}</td>
          </tr>`;let N=document.getElementById("reportStatus");N!==null&&N.remove(),n.current.appendChild(b)};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold py-8",children:"Yearly Report "}),d.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[d.jsx("h2",{children:"From"}),d.jsxs("select",{ref:i,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[d.jsx("option",{value:r,children:r}),d.jsx("option",{value:r-1,children:r-1}),d.jsx("option",{value:r-2,children:r-2}),d.jsx("option",{value:r-3,children:r-3}),d.jsx("option",{value:r-4,children:r-4})]}),"to",d.jsxs("select",{ref:s,className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400",children:[d.jsx("option",{value:r,children:r}),d.jsx("option",{value:r-1,children:r-1}),d.jsx("option",{value:r-2,children:r-2}),d.jsx("option",{value:r-3,children:r-3}),d.jsx("option",{value:r-4,children:r-4})]}),d.jsx("button",{onClick:u,disabled:!o,className:"px-6 py-2 rounded-full bg-black text-white",children:o?"Generate":"Please Wait ..."}),d.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),d.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",d.jsx(Fa,{})]})]}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{id:"table-to-xls",className:"w-full",children:[d.jsxs("thead",{className:"bg-primary text-white font-light rounded-lg",children:[d.jsxs("tr",{children:[d.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Date"}),d.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Machine No."}),d.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Product Type"}),d.jsx("th",{className:"border border-black p-2",colSpan:"4",children:"Morning"}),d.jsx("th",{className:"border border-black p-2",colSpan:"4",children:"Night"}),d.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Total Product"}),d.jsx("th",{className:"border border-black p-2",rowSpan:"2",children:"Total Weight"})]}),d.jsxs("tr",{children:[d.jsx("th",{className:"border border-black p-2",children:"Total"}),d.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged"}),d.jsx("th",{className:"border border-black p-2",children:"Net"}),d.jsx("th",{className:"border border-black p-2",children:"Weight"}),d.jsx("th",{className:"border border-black p-2",children:"Total"}),d.jsx("th",{style:{color:"#bd0000"},className:"border border-black p-2",children:"Damaged"}),d.jsx("th",{className:"border border-black p-2",children:"Net"}),d.jsx("th",{className:"border border-black p-2",children:"Weight"})]})]}),d.jsx("tbody",{ref:n,children:d.jsx("tr",{children:d.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}function nj(){const t="machinesIndividual";let e=k.useRef(null),n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),[s,o]=k.useState(new Set([])),[a,l]=k.useState(!0);k.useEffect(()=>{n.current.valueAsDate=new Date;let m="<th></th>",g=new Set([]);const v=$t(ye,"information","info");bn(v).then(_=>{let y=_.data();y.forming_machine.forEach(p=>{g.add(p)}),y.polish_machine.forEach(p=>{g.add(p)}),o(g),xo.forEach(p=>{m+=`<th class="border border-black p-2">${p}</th>`}),i.current.innerHTML=`<tr>${m}<tr>`})},[]);const c=()=>{let m=new Date(e.current.value);m.setHours(0),m.setMinutes(0),m.setSeconds(1),m.setMilliseconds(0);let g=new Date(n.current.value);if(g.setHours(23),g.setMinutes(59),g.setMilliseconds(99),g.setSeconds(59),n.current.value===""||e.current.value==="")return u("Date Ranges cannot be empty!"),null;if(m.getTime()>g.getTime())return u("Start date should be less than end date"),null;u("Please be Patient ..."),l(!1),h(m,g)},u=m=>{r.current.innerHTML=`<tr>
              <td class='border border-black p-2' id='reportStatus' colSpan=${xo.length+1}>
                  ${m}
              </td>
          </tr>`};async function h(m,g){const v=tt(ye,"machineStatus"),_=tt(ye,t);Array.from(s).forEach((y,p)=>{let x=0,w=ln(v,le("time_start",">=",Math.floor(m.getTime()/1e3)),le("time_start","<=",Math.floor(g.getTime()/1e3)),le("machine_no","==",`${y}`),le("isRunning","==",!0));Ot(w).then(C=>{y==="03"&&console.log("03",Math.floor(m.getTime()/1e3),Math.floor(g.getTime()/1e3)),C.forEach(S=>{x+=S.data().time_end-S.data().time_start,console.log("-------------------"),console.log(S.data())});let E=[];for(const S of xo){let D=0;w=ln(_,le("unix_time",">=",Math.floor(m.getTime()/1e3)),le("unix_time","<=",Math.floor(g.getTime()/1e3)),le("machine_no","==",`${y}`),le("thickness","==",S)),Ot(w).then(T=>{T.forEach(b=>{D+=parseInt(b.data().count)}),D!==0?E.push(`${(x/D).toFixed(2)} sec`):E.push("N/A"),E.length===xo.length&&f(y,E),p+1===s.size&&E.length===xo.length&&l(!0)})}})})}const f=(m,g)=>{let v=g.map(p=>`<td>${p}</td>`);v=v.join("");const _=document.createElement("tr");_.innerHTML=`<tr class="border border-black p-2">
          <td class="border border-black p-2"><b>FM ${m}</b></td>
          ${v}
          </tr>`;let y=document.getElementById("reportStatus");y&&y.remove(),r.current.appendChild(_)};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold py-8",children:"Machine Efficiency "}),d.jsxs("div",{className:"container mx-auto flex gap-4 justify-center items-center mb-10",children:[d.jsx("h2",{children:"From"}),d.jsx("input",{type:"date",ref:e,placeholder:"Quarters",style:{width:"9rem"},className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400"}),"To",d.jsx("input",{type:"date",ref:n,placeholder:"Quarters",style:{width:"9rem"},className:"p-2 rounded-md outline-none focus:outline-none border border-gray-400"}),d.jsx("button",{onClick:c,disabled:!a,className:"px-6 py-2 rounded-full bg-black text-white",children:a?"Generate":"Please Wait ..."}),d.jsx("button",{onClick:()=>{window.print()},className:"px-6 py-2 rounded-full bg-primary text-white",children:"Print"}),d.jsxs("button",{className:"px-6 py-2 rounded-full bg-primary text-white flex gap-3 items-center",children:["Download Excel Report ",d.jsx(Fa,{})]})]}),d.jsx("div",{className:"w-full",children:d.jsxs("table",{id:"table-to-xls",className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",ref:i}),d.jsx("tbody",{ref:r,children:d.jsx("tr",{children:d.jsx("td",{className:"border border-gray-500 text-center py-4 ",colSpan:"13",children:"Plase Select a Date Range"})})})]})})]})}const rj="/assets/rafi_professional-BjLSv3OK.png";function ij(){return d.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[d.jsxs("h2",{className:"text-xl",children:["Welcome Back, ",d.jsx("span",{className:"text-primary",children:"Shahjalal Rafi!"})]}),d.jsxs("div",{className:" flex gap-4 items-center",children:[d.jsx("img",{src:rj,alt:"",className:"w-10 h-10 rounded-full"}),d.jsx("p",{children:"Shahjalal Rafi"})]})]})}function Ep(t){return wr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 160c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32s-32-14.3-32-32V205.3L342.6 374.6c-12.5 12.5-32.8 12.5-45.3 0L192 269.3 54.6 406.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160c12.5-12.5 32.8-12.5 45.3 0L320 306.7 466.7 160H384z"},child:[]}]})(t)}const sj="data:image/svg+xml,%3csvg%20width='139'%20height='79'%20viewBox='0%200%20139%2079'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25.9728%2039.469L1%2043.8541V79H138V2.54224L114.166%2039.2242C113.72%2039.9102%20112.901%2040.2556%20112.099%2040.0962L93.1174%2036.3271C92.8591%2036.2758%2092.6133%2036.174%2092.3944%2036.0274L71.5655%2022.0847C70.6882%2021.4975%2069.5055%2021.6932%2068.8642%2022.5319L47.4015%2050.6008C46.7656%2051.4324%2045.5961%2051.6329%2044.7195%2051.0608L27.4119%2039.764C26.987%2039.4867%2026.4726%2039.3812%2025.9728%2039.469Z'%20fill='url(%23paint0_linear_604_5713)'%20fill-opacity='0.25'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='%232CF619'%20stroke-width='2'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='white'%20stroke-opacity='0.05'%20stroke-width='2'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_604_5713'%20x1='69.5'%20y1='2.54224'%20x2='69.5'%20y2='79'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232CF619'%20stop-opacity='0.7'/%3e%3cstop%20offset='1'%20stop-color='%232CF619'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",oj="data:image/svg+xml,%3csvg%20width='139'%20height='79'%20viewBox='0%200%20139%2079'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25.9728%2039.469L1%2043.8541V79H138V2.54224L114.166%2039.2242C113.72%2039.9102%20112.901%2040.2556%20112.099%2040.0962L93.1174%2036.3271C92.8591%2036.2758%2092.6133%2036.174%2092.3944%2036.0274L71.5655%2022.0847C70.6882%2021.4975%2069.5055%2021.6932%2068.8642%2022.5319L47.4015%2050.6008C46.7656%2051.4324%2045.5961%2051.6329%2044.7195%2051.0608L27.4119%2039.764C26.987%2039.4867%2026.4726%2039.3812%2025.9728%2039.469Z'%20fill='url(%23paint0_linear_604_5722)'%20fill-opacity='0.25'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='%23ED1C24'%20stroke-width='2'/%3e%3cpath%20d='M1%2043.6415L26.0033%2039.2433C26.5038%2039.1553%2027.019%2039.261%2027.4443%2039.5391L44.7735%2050.8698C45.6507%2051.4434%2046.8219%2051.2425%2047.4578%2050.4094L68.9485%2022.2545C69.5898%2021.4143%2070.7742%2021.2182%2071.6521%2021.8069L92.507%2035.7916C92.7261%2035.9385%2092.972%2036.0406%2093.2307%2036.092L112.228%2039.8708C113.035%2040.0314%20113.858%2039.6811%20114.302%2038.9882L138%202'%20stroke='white'%20stroke-opacity='0.05'%20stroke-width='2'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_604_5722'%20x1='69.5'%20y1='2.54224'%20x2='69.5'%20y2='79'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23ED1C24'%20stop-opacity='0.7'/%3e%3cstop%20offset='1'%20stop-color='%23ED1C24'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",aj="data:image/svg+xml,%3csvg%20width='139'%20height='78'%20viewBox='0%200%20139%2078'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25.9728%2038.469L1%2042.8541V78H138V1.54224L114.166%2038.2242C113.72%2038.9102%20112.901%2039.2556%20112.099%2039.0962L93.1174%2035.3271C92.8591%2035.2758%2092.6133%2035.174%2092.3944%2035.0274L71.5655%2021.0847C70.6882%2020.4975%2069.5055%2020.6932%2068.8642%2021.5319L47.4015%2049.6008C46.7656%2050.4324%2045.5961%2050.6329%2044.7195%2050.0608L27.4119%2038.764C26.987%2038.4867%2026.4726%2038.3812%2025.9728%2038.469Z'%20fill='url(%23paint0_linear_604_5731)'%20fill-opacity='0.25'/%3e%3cpath%20d='M1%2042.6415L26.0033%2038.2433C26.5038%2038.1553%2027.019%2038.261%2027.4443%2038.5391L44.7735%2049.8698C45.6507%2050.4434%2046.8219%2050.2425%2047.4578%2049.4094L68.9485%2021.2545C69.5898%2020.4143%2070.7742%2020.2182%2071.6521%2020.8069L92.507%2034.7916C92.7261%2034.9385%2092.972%2035.0406%2093.2307%2035.092L112.228%2038.8708C113.035%2039.0314%20113.858%2038.6811%20114.302%2037.9882L138%201'%20stroke='%2316B1FF'%20stroke-width='2'/%3e%3cpath%20d='M1%2042.6415L26.0033%2038.2433C26.5038%2038.1553%2027.019%2038.261%2027.4443%2038.5391L44.7735%2049.8698C45.6507%2050.4434%2046.8219%2050.2425%2047.4578%2049.4094L68.9485%2021.2545C69.5898%2020.4143%2070.7742%2020.2182%2071.6521%2020.8069L92.507%2034.7916C92.7261%2034.9385%2092.972%2035.0406%2093.2307%2035.092L112.228%2038.8708C113.035%2039.0314%20113.858%2038.6811%20114.302%2037.9882L138%201'%20stroke='white'%20stroke-opacity='0.05'%20stroke-width='2'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_604_5731'%20x1='69.5'%20y1='1.54224'%20x2='69.5'%20y2='78'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2322B5FF'%20stop-opacity='0.7'/%3e%3cstop%20offset='1'%20stop-color='%2322B5FF'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";function lj(){let[t,e]=k.useState(!1),[n,r]=k.useState(!1),[i,s]=k.useState([]),[o,a]=k.useState([]),[l,c]=k.useState([]);k.useState("all");async function u(){const h=$t(ye,"information","info");return(await bn(h)).data()}return k.useEffect(()=>{u().then(f=>{const m=tt(ye,"machineStatus");let g=(f==null?void 0:f.forming_machine)||[],v=g.length,_=0;if(v===0){e(!0),r(!1);return}g.sort((y,p)=>parseInt(y,10)-parseInt(p,10)),g.forEach(y=>{const p=ln(m,le("machine_no","==",y),fr("time_end","desc"),$r(1));Ot(p).then(x=>{let w=!1,C="N/A";x.forEach(E=>{let S=E.data(),D=Math.floor(new Date().getTime()/1e3)-(S==null?void 0:S.time_end),T=Math.floor(D/3600),b=Math.floor(D%3600/60),N=D%60;C=`${T?`${T}h`:""}${b?` ${b}m`:""} ${N}s`,D<=600&&(w=!0)}),s(E=>[...E,{meta:"forming",machineNo:`${y}`,active:w,idleTime:C}]),_+=1,_===v&&(e(!0),r(g.length!==0))})})})},[]),k.useEffect(()=>{var m,g,v,_;let h=(g=(m=i==null?void 0:i.slice(0,16))==null?void 0:m.filter(y=>y==null?void 0:y.active))==null?void 0:g.length,f=(_=(v=i==null?void 0:i.slice(0,16))==null?void 0:v.filter(y=>!(y!=null&&y.active)))==null?void 0:_.length;a(h),c(f)},[i]),console.log("formingMachine",i),d.jsxs("div",{className:"py-10 flex gap-10 items-center",children:[d.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] w-full p-4 rounded-lg flex flex-col gap-6",children:[d.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[d.jsx("p",{children:"Active Machines"}),d.jsxs("div",{className:"flex gap-2 items-center text-[#2CF619]",children:[d.jsx(Ep,{className:"fill-[#2CF619]"}),d.jsx("p",{children:"+17%"})]})]}),d.jsxs("div",{className:"flex gap-4 items-end  justify-between",children:[d.jsxs("h2",{children:[d.jsx("span",{className:"text-2xl font-bold",children:o})," Machines Active"]}),d.jsx("img",{src:sj,alt:""})]})]}),d.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] w-full p-4 rounded-lg flex flex-col gap-6",children:[d.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[d.jsx("p",{children:"Idle Machines"}),d.jsxs("div",{className:"flex gap-2 items-center text-[#ED1C24]",children:[d.jsx(Ep,{className:"fill-[#ED1C24]"}),d.jsx("p",{children:"+17%"})]})]}),d.jsxs("div",{className:"flex gap-4 items-end  justify-between",children:[d.jsxs("h2",{children:[d.jsx("span",{className:"text-2xl font-bold",children:l})," ","Machines Idle"]}),d.jsx("img",{src:oj,alt:""})]})]}),d.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] w-full p-4 rounded-lg flex flex-col gap-6",children:[d.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[d.jsx("p",{children:"Total Current Production"}),d.jsxs("div",{className:"flex gap-2 items-center text-[##16B1FF]",children:[d.jsx(Ep,{className:"fill-[##16B1FF]"}),d.jsx("p",{children:"+17%"})]})]}),d.jsxs("div",{className:"flex gap-4 items-end  justify-between",children:[d.jsxs("h2",{children:[d.jsx("span",{className:"text-2xl font-bold",children:"1300"})," kg"]}),d.jsx("img",{src:aj,alt:""})]})]})]})}const U6="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cpath%20d='M20.125%2027.25C20.125%2026.5596%2020.6846%2026%2021.375%2026H28.25C28.4968%2026%2028.738%2026.073%2028.9434%2026.2099L32%2028.2477L35.0566%2026.2099C35.262%2026.073%2035.5032%2026%2035.75%2026H42.625C43.3154%2026%2043.875%2026.5596%2043.875%2027.25C43.875%2027.9404%2043.3154%2028.5%2042.625%2028.5H36.1285L32.6934%2030.7901C32.2735%2031.07%2031.7265%2031.07%2031.3066%2030.7901L27.8715%2028.5H21.375C20.6846%2028.5%2020.125%2027.9404%2020.125%2027.25Z'%20fill='black'/%3e%3cpath%20d='M35.0625%2051.5C34.3721%2051.5%2033.8125%2052.0596%2033.8125%2052.75C33.8125%2053.4404%2034.3721%2054%2035.0625%2054H40.6875C41.3779%2054%2041.9375%2053.4404%2041.9375%2052.75C41.9375%2052.0596%2041.3779%2051.5%2040.6875%2051.5H35.0625Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M30.0625%2046.5C29.3721%2046.5%2028.8125%2047.0596%2028.8125%2047.75V57.75C28.8125%2058.4404%2029.3721%2059%2030.0625%2059H45.6875C46.3779%2059%2046.9375%2058.4404%2046.9375%2057.75V47.75C46.9375%2047.0596%2046.3779%2046.5%2045.6875%2046.5H30.0625ZM31.3125%2056.5V49H44.4375V56.5H31.3125Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M21.0625%200C20.3721%200%2019.8125%200.559644%2019.8125%201.25V3.4375H7.3125C6.62214%203.4375%206.0625%203.99714%206.0625%204.6875V9.6875C6.0625%2010.3779%206.62214%2010.9375%207.3125%2010.9375H12V37.75C12%2038.4404%2012.5596%2039%2013.25%2039H15.125V41.5H13.25C12.5596%2041.5%2012%2042.0596%2012%2042.75V62.75C12%2063.4404%2012.5596%2064%2013.25%2064H50.75C51.4404%2064%2052%2063.4404%2052%2062.75V42.75C52%2042.0596%2051.4404%2041.5%2050.75%2041.5H48.875V39H50.75C51.4404%2039%2052%2038.4404%2052%2037.75V10.9375H56.6875C57.3779%2010.9375%2057.9375%2010.3779%2057.9375%209.6875V4.6875C57.9375%203.99714%2057.3779%203.4375%2056.6875%203.4375H44.1875V1.25C44.1875%200.559644%2043.6279%200%2042.9375%200H21.0625ZM49.5%2010.9375H44.1875V13.125C44.1875%2013.8154%2043.6279%2014.375%2042.9375%2014.375H37V19.875C37%2020.2065%2036.8683%2020.5245%2036.6339%2020.7589L32.8839%2024.5089C32.3957%2024.997%2031.6043%2024.997%2031.1161%2024.5089L27.3661%2020.7589C27.1317%2020.5245%2027%2020.2065%2027%2019.875V14.375H21.0625C20.3721%2014.375%2019.8125%2013.8154%2019.8125%2013.125V10.9375H14.5V36.5H20.125V33.375C20.125%2032.6846%2020.6846%2032.125%2021.375%2032.125H28.25C28.4968%2032.125%2028.738%2032.198%2028.9434%2032.3349L32%2034.3727L35.0566%2032.3349C35.262%2032.198%2035.5032%2032.125%2035.75%2032.125H42.625C43.3154%2032.125%2043.875%2032.6846%2043.875%2033.375V36.5H49.5V10.9375ZM55.4375%208.4375V5.9375H44.1875V8.4375H55.4375ZM41.6875%202.5H22.3125V11.875H41.6875V2.5ZM19.8125%208.4375V5.9375H8.5625V8.4375H19.8125ZM34.5%2014.375H29.5V19.3572L32%2021.8572L34.5%2019.3572V14.375ZM41.375%2034.625H36.1285L32.6934%2036.9151C32.2735%2037.195%2031.7265%2037.195%2031.3066%2036.9151L27.8715%2034.625H22.625V41.5H41.375V34.625ZM46.375%2039H43.875V41.5H46.375V39ZM17.625%2041.5H20.125V39H17.625V41.5ZM14.5%2044V61.5H49.5V44H14.5Z'%20fill='black'/%3e%3c/g%3e%3c/svg%3e";function cj(){var s;let[t,e]=k.useState([]);const n=30,r="machines";k.useEffect(()=>{const o=tt(ye,r),a=ln(o,fr("unix_time","desc"),$r(n));i(a)},[]);const i=(o,a)=>{_d(o,l=>{e(c=>{let u=[];return l.forEach(h=>{const f={id:h==null?void 0:h.id,...h==null?void 0:h.data()},m=c.some(g=>g.id==f.id);f.status=(c==null?void 0:c.length)===0||m?"old":"new",u.push(f)}),u})})};return console.log("ReportData",t),d.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] p-8 rounded-lg",children:[d.jsx("h2",{className:"text-3xl",children:"Real-Time Machine Data"}),d.jsxs("div",{className:"grid grid-cols-6 items-center gap-6 bg-primary rounded-full p-4 text-white mt-6",children:[d.jsx("p",{children:"Machine Names"}),d.jsx("p",{children:"Status"}),d.jsx("p",{children:"Shift"}),d.jsx("p",{children:"Product Type"}),d.jsx("p",{children:"Production weight"}),d.jsx("p",{children:"Production Count"})]}),(s=t==null?void 0:t.slice(0,5))==null?void 0:s.map(o=>d.jsxs("div",{className:`grid grid-cols-6 items-center gap-6  rounded-md p-2 text-black mt-6 ${(o==null?void 0:o.status)=="new"?"bg-green-100":""}`,children:[d.jsxs("p",{className:"flex gap-2 items-center",children:[d.jsx("img",{src:U6,alt:"",className:"w-10 h-10"}),"FM ",o==null?void 0:o.machine_no]}),d.jsx("p",{children:"Active"}),d.jsx("p",{children:o==null?void 0:o.shift}),d.jsxs("p",{children:[o==null?void 0:o.product_type,", ",o==null?void 0:o.product_dimensions]}),d.jsxs("p",{children:[o==null?void 0:o.weight," KG"]}),d.jsx("p",{children:o==null?void 0:o.count})]}))]})}function uj(){var r,i;let[t,e]=k.useState([]);k.useState([]),k.useState([]),k.useState("all");async function n(){const s=$t(ye,"information","info");return(await bn(s)).data()}return k.useEffect(()=>{n().then(o=>{const a=tt(ye,"machineStatus");let l=(o==null?void 0:o.forming_machine)||[],c=l.length,u=0;if(c===0){setDataLoaded(!0),setDataAvailable(!1);return}l.sort((h,f)=>parseInt(h,10)-parseInt(f,10)),l.forEach(h=>{const f=ln(a,le("machine_no","==",h),fr("time_end","desc"),$r(1));Ot(f).then(m=>{let g=!1,v="N/A";m.forEach(_=>{let y=_.data(),p=Math.floor(new Date().getTime()/1e3)-(y==null?void 0:y.time_end),x=Math.floor(p/3600),w=Math.floor(p%3600/60),C=p%60;v=`${x?`${x}h`:""}${w?` ${w}m`:""} ${C}s`,p<=600&&(g=!0)}),e(_=>[..._,{meta:"forming",machineNo:`${h}`,active:g,idleTime:v}]),u+=1,u===c&&(setDataLoaded(!0),setDataAvailable(l.length!==0))})})})},[]),console.log("formingMachine",t),d.jsxs("div",{className:"bg-white shadow-[5px_5px_20px_1px_rgba(0,0,0,0.2)] p-8 rounded-lg",children:[d.jsx("h2",{className:"text-3xl",children:"List of idle machine"}),d.jsxs("div",{className:"grid grid-cols-2 items-center gap-6 bg-primary rounded-full p-4 text-white mt-6",children:[d.jsx("p",{children:"Machine Names"}),d.jsx("p",{children:"Idle Time"})]}),(i=(r=t==null?void 0:t.slice(0,16))==null?void 0:r.filter(s=>!(s!=null&&s.active)))==null?void 0:i.map(s=>d.jsxs("div",{className:"grid grid-cols-2 items-center gap-6  rounded-full p-2 text-black mt-6",children:[d.jsxs("p",{className:"flex gap-2 items-center",children:[d.jsx("img",{src:U6,alt:"",className:"w-10 h-10"}),"FM ",s==null?void 0:s.machineNo]}),d.jsx("p",{children:s==null?void 0:s.idleTime})]}))]})}function hj(){return d.jsx("div",{className:"grid grid-cols-2 gap-8 mt-10",children:d.jsx(uj,{})})}function dj(){return d.jsxs("div",{children:[d.jsx(ij,{}),d.jsx(lj,{}),d.jsx(cj,{}),d.jsx(hj,{})]})}function fj({setshowProductModal:t,setshowShiftModal:e,setdamagedProductModal:n}){return d.jsxs("div",{className:"mb-10",children:[d.jsx("h2",{className:"text-3xl font-bold ",children:"Manage Products"}),d.jsx("div",{className:"flex gap-4 justify-end items-center",children:d.jsx(zr,{to:"/products/add-product",children:d.jsxs("button",{className:"bg-primary px-4 py-2 rounded-full text-white flex gap-2 items-center",children:["Add Product",d.jsx(B6,{className:"w-6 h-6"})]})})})]})}function pj(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return d.jsxs("p",{children:[`${e}/${n}/${r}`,d.jsx("br",{}),t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]})}function mj({productData:t}){var e;return d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:d.jsxs("tr",{className:" rounded-tl-lg",children:[d.jsx("th",{className:"border border-black p-2",children:"Sl No."}),d.jsx("th",{className:"border border-black p-2",children:"Mazchine No."}),d.jsx("th",{className:"border border-black p-2",children:"Thickness"}),d.jsx("th",{className:"border border-black p-2",children:"Dimension"}),d.jsx("th",{className:"border border-black p-2",children:"Product Type"}),d.jsx("th",{className:"border border-black p-2",children:"Added On"})]})}),d.jsx("tbody",{children:(e=t==null?void 0:t.filter(n=>(n==null?void 0:n.status)=="approved"))==null?void 0:e.map((n,r)=>d.jsxs("tr",{children:[d.jsx("td",{class:"border border-black p-4",children:r+1}),d.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.machine_no}),d.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.thickness}),d.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.product_dimensions}),d.jsx("td",{class:"border border-black p-4",children:n==null?void 0:n.product_type}),d.jsx("td",{class:"border border-black p-4",children:n!=null&&n.creatingDate?pj(n.creatingDate.toDate()):d.jsx("p",{children:"No date"})})]}))})]})}function V6({setFormData:t}){let[e,n]=k.useState([]),[r,i]=k.useState(""),[s,o]=k.useState(""),[a,l]=k.useState(""),[c,u]=k.useState(""),[h,f]=k.useState("");const m=g=>{if(g.preventDefault(),s===""||a===""||c===""||h==="")return i("Please fill up this form properly"),!1;t({machine_no:s,thickness:a,product_type:c,product_dimensions:h})};return k.useEffect(()=>{const g=$t(ye,"information","info");bn(g).then(v=>{let _=[];v.data().forming_machine.forEach((p,x)=>{_.push(p)}),n(_)})},[]),d.jsxs("form",{className:"flex flex-col gap-8",onSubmit:m,children:[d.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Add Product"}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Machine No*"}),d.jsxs("select",{value:s,onChange:g=>o(g.target.value),className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Machine No."}),e==null?void 0:e.map(g=>d.jsx("option",{value:g,children:g}))]})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Dimension*"}),d.jsxs("select",{className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:h,onChange:g=>f(g.target.value),children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Dimension"}),YB.map(g=>d.jsx("option",{value:g,children:g}))]})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Thickness*"}),d.jsxs("select",{className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:a,onChange:g=>l(g.target.value),children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Product Thickness"}),xo.map(g=>d.jsx("option",{value:g,children:g}))]})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Product Type*"}),d.jsxs("select",{className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",value:c,onChange:g=>u(g.target.value),children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Product Type"}),yr.map(g=>d.jsx("option",{value:g,children:g}))]})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"})}),d.jsx("span",{className:"msgSpan",children:r})]})}function gj(t){return wr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(t)}function ch({open:t,control:e,children:n,width:r,bg:i,padding:s}){return t&&d.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black/70 z-50 flex justify-center items-center",children:d.jsxs("div",{className:`relative bg-white max-h-[550px] md:max-h-[750px] max-w-[600px] ${r||"w-full"}  h- mx-4 shadow-xl ${s||"p-4 md:p-8"} rounded overflow-y-scroll`,children:[d.jsx("span",{className:"absolute top-2 right-2 z-50 cursor-pointer  rounded-full  p-2 ",onClick:e,children:d.jsx(gj,{className:"p-1  w-6  h-6  z-50 bg-primary rounded-full fill-white"})}),n]})})}function H6({setShiftData:t,setshowProductModal:e}){let[n,r]=k.useState(""),[i,s]=k.useState(lh[0]),[o,a]=k.useState({}),l=k.useRef(""),c=k.useRef(""),u=k.useRef("");const h=f=>{if(f.preventDefault(),l.current.value===""||c.current.value===""||u.current.value==="")return r("Please fill up this form properly"),!1;let m=l.current.valueAsNumber/1e3,g=c.current.valueAsNumber/1e3;t({starts:m,ends:g,shift:u.current.value}),e(!1)};return k.useEffect(()=>{lh.forEach(f=>{let m=$t(ye,"shiftTime",f);bn(m).then(g=>{a(v=>({...v,[f]:g.data()}))})})},[]),k.useEffect(()=>{if(Object.keys(o).length!==0){let f=parseInt(o[i].starts/3600),m=parseInt(o[i].starts%3600/60),g=parseInt(o[i].ends/3600),v=parseInt(o[i].ends%3600/60);l.current.value=`${f<9?`0${f}`:f}:${m<9?`0${m}`:m}`,c.current.value=`${g<9?`0${g}`:g}:${v<9?`0${v}`:v}`}},[i,o]),d.jsxs("form",{className:"flex flex-col gap-4",onSubmit:h,children:[d.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Choose Shift"}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Machine No*"}),d.jsxs("select",{ref:u,onChange:f=>s(f.target.value),className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Shift."}),lh.map(f=>d.jsx("option",{value:f,children:f}))]})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Starts*"}),d.jsx("input",{type:"time",ref:l,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Ends*"}),d.jsx("input",{type:"time",ref:c,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"})}),d.jsx("span",{className:"msgSpan",children:n})]})}function z6({setFormData:t,setshowProductModal:e}){let[n,r]=k.useState([]),[i,s]=k.useState(!1),[o,a]=k.useState(""),[l,c]=k.useState({machine_no:"",thickness:"N/A",product_type:"N/A",product_dimensions:"N/A",shift:""}),u=k.useRef(""),h=k.useRef(""),f=k.useRef(""),[m,g]=k.useState("");const v=p=>{const x=$t(ye,"latest_product",`machine_${p}`);bn(x).then(w=>{c(w.data())})},_=()=>u.current.value===""||f.current.value===""||h.current.value===""||m===""?(a("Please fill up this form properly"),!1):!0,y=p=>{p.preventDefault(),_()&&(t({damagedProductCount:parseInt(h.current.value),machine_no:u.current.value,product_dimensions:l.product_dimensions,product_type:l.product_type,shift:f.current.value,thickness:l.thickness,unix_time:Math.floor(Date.now()/1e3),damagedCategory:m}),e(!1),s(!1))};return k.useEffect(()=>{const p=$t(ye,"information","info");bn(p).then(x=>{let w=[];const C=x.data();w.push(d.jsx("optgroup",{label:"Forming Machines"})),C.forming_machine.forEach((E,S)=>{w.push(d.jsx("option",{value:E,children:E},S))}),w.push(d.jsx("optgroup",{label:"Polish Machines"})),C.polish_machine.forEach((E,S)=>{w.push(d.jsx("option",{value:E,children:E},S+w.length))}),r(w)})},[]),d.jsxs("form",{className:`flex flex-col gap-4 ${i?"":"#ddd"}`,onSubmit:y,children:[d.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Add Product"}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Machine No*"}),d.jsxs("select",{ref:u,onChange:p=>{v(p.target.value)},className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Machine No."}),n]})]}),d.jsxs("label",{className:"flex gap-6 items-center",style:{paddingBottom:"10px",borderBottom:"1px solid #000"},children:[d.jsx("p",{className:"w-[180px]",children:"Dimension:"}),l.product_dimensions]}),d.jsxs("label",{className:"flex gap-6 items-center",style:{paddingBottom:"10px",borderBottom:"1px solid #000"},children:[d.jsx("p",{className:"w-[180px]",children:"Thickness:"}),l.thickness]}),d.jsxs("label",{className:"flex gap-6 items-center",style:{paddingBottom:"10px",borderBottom:"1px solid #000"},children:[d.jsx("p",{className:"w-[180px]",children:"Product Type:"}),l.product_type]}),d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsx("p",{className:`${m=="damaged_product"?"btn-primary":"btn-primary opacity-50"}`,onClick:()=>g("damaged_product"),children:"Damaged Product"}),d.jsx("p",{className:` ${m=="scrap_product"?"btn-primary":"btn-primary opacity-50"}`,onClick:()=>g("scrap_product"),children:"Scrap Product"}),d.jsx("p",{className:` ${m=="cut_piece_product"?"btn-primary":"btn-primary opacity-50"}`,onClick:()=>g("cut_piece_product"),children:"Cut-Piece Product"}),d.jsx("p",{className:`${m=="b_grade_product"?"btn-primary opacity-100":"btn-primary opacity-50"}`,onClick:()=>g("b_grade_product"),children:"B-Grade Product"})]}),d.jsxs("label",{className:"flex gap-6 items-center",style:{marginBottom:"0px"},children:[d.jsx("p",{className:"w-[180px]",children:"Shift*"}),d.jsxs("select",{ref:f,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:[d.jsx("option",{selected:!0,disabled:!0,value:"",children:"Select Shift"}),lh.map(p=>d.jsx("option",{value:p,children:p}))]})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Count*"}),d.jsx("input",{ref:h,type:"number",min:"1",required:!0,placeholder:"Damaged Product Count",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),d.jsx("div",{className:"flex justify-center",children:i?d.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"}):d.jsx("input",{value:"Review",type:"button",className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",onClick:()=>{_()&&(s(!0),a("Please Review the form before submitting"))}})}),d.jsx("span",{className:"msgSpan",children:o})]})}function xj({setshowProductModal:t,showProductModal:e,setshowShiftModal:n,showShiftModal:r,damagedProductModal:i,setdamagedProductModal:s}){let[o,a]=k.useState([]),[l,c]=k.useState({}),[u,h]=k.useState({}),[f,m]=k.useState({});Rd("products",65).then(x=>{a(x)});const{addDocument:g}=cr("products"),{updateDocument:v,response:_}=cr("latest_product");k.useEffect(()=>{Object.keys(l).length!==0&&(g({...l,status:"pending"}),v(`machine_${l.machine_no}`,{...l,status:"pending"}))},[l]);const{updateDocument:y}=cr("shiftTime");k.useEffect(()=>{Object.keys(u).length!==0&&(y(u.shift,u),n(!1))},[u]);const{addDocument:p}=cr("damagedProducts");return k.useEffect(()=>{Object.keys(f).length!==0&&(p(f),s(!1))},[f]),d.jsxs("div",{children:[d.jsx(mj,{productData:o}),e&&d.jsx(ch,{open:e,control:()=>t(!1),children:d.jsx(V6,{setFormData:c,setshowProductModal:t})}),r&&d.jsx(ch,{open:r,control:()=>n(!1),children:d.jsx(H6,{setShiftData:h,setshowProductModal:t})}),i&&d.jsx(ch,{open:i,control:()=>s(!1),children:d.jsx(z6,{setFormData:m,setshowProductModal:s})})]})}function vj(){let[t,e]=k.useState(!1),[n,r]=k.useState(!1),[i,s]=k.useState(!1);return d.jsxs("div",{children:[d.jsx(fj,{setshowProductModal:e,setshowShiftModal:r,setdamagedProductModal:s}),d.jsx(xj,{setshowProductModal:e,showProductModal:t,setshowShiftModal:r,showShiftModal:n,damagedProductModal:i,setdamagedProductModal:s})]})}function yj(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return d.jsxs("p",{children:[`${e}/${n}/${r}`,d.jsx("br",{}),t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]})}function _j(){var a;let[t,e]=k.useState([]);Rd("products",65).then(l=>{e(l)}),console.log("incharge",t);const{updateDocument:n,response:r}=cr("latest_product"),{updateDocument:i}=cr("products"),s=l=>{i(l==null?void 0:l.id,{...l,status:"approved"}),n(`machine_${l.machine_no}`,{...l,status:"approved"})},o=l=>{i(l==null?void 0:l.id,{...l,status:"declined"}),n(`machine_${l.machine_no}`,{...l,status:"declined"})};return d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:d.jsxs("tr",{className:" rounded-tl-lg",children:[d.jsx("th",{className:"border border-black p-2",children:"Sl No."}),d.jsx("th",{className:"border border-black p-2",children:"Mazchine No."}),d.jsx("th",{className:"border border-black p-2",children:"Thickness"}),d.jsx("th",{className:"border border-black p-2",children:"Dimension"}),d.jsx("th",{className:"border border-black p-2",children:"Product Type"}),d.jsx("th",{className:"border border-black p-2",children:"Added On"}),d.jsx("th",{className:"border border-black p-2",children:"Action"})]})}),d.jsx("tbody",{children:(a=t==null?void 0:t.filter(l=>(l==null?void 0:l.status)=="pending"))==null?void 0:a.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{class:"border border-black p-4",children:c+1}),d.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.machine_no}),d.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.thickness}),d.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.product_dimensions}),d.jsx("td",{class:"border border-black p-4",children:l==null?void 0:l.product_type}),d.jsx("td",{class:"border border-black p-4",children:l!=null&&l.creatingDate?yj(l.creatingDate.toDate()):d.jsx("p",{children:"No date"})}),d.jsx("td",{class:"border border-black p-4",children:d.jsxs("div",{className:"max-w-[140px] flex gap-2 items-center",children:[d.jsx("button",{className:"btn-primary bg-red-500",onClick:()=>o(l),children:"Decline"}),d.jsx("button",{className:"btn-primary bg-green-500",onClick:()=>s(l),children:"Approve"})]})})]}))})]})}function wj(){return d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Incharge Section"}),d.jsx(_j,{})]})}function I_(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return d.jsxs("p",{children:[`${e}/${n}/${r}`,d.jsx("br",{}),t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]})}function Ej(){let[t,e]=k.useState([]);return Rd("products",65).then(n=>{e(n)}),console.log("admin",t),d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:d.jsxs("tr",{className:" rounded-tl-lg",children:[d.jsx("th",{className:"border border-black p-2",children:"Sl No."}),d.jsx("th",{className:"border border-black p-2",children:"Mazchine No."}),d.jsx("th",{className:"border border-black p-2",children:"Production Plan Change Request"}),d.jsx("th",{className:"border border-black p-2",children:"Production Plan Change Approve"}),d.jsx("th",{className:"border border-black p-2",children:"Status"}),d.jsx("th",{className:"border border-black p-2",children:"Details"})]})}),d.jsx("tbody",{children:t==null?void 0:t.map((n,r)=>d.jsxs("tr",{children:[d.jsx("td",{class:"border border-black p-4",children:r+1}),d.jsxs("td",{class:"border border-black p-4",children:["FM ",n==null?void 0:n.machine_no]}),d.jsx("td",{class:"border border-black p-4",children:n!=null&&n.creatingDate?I_(n==null?void 0:n.creatingDate.toDate()):d.jsx("p",{children:"No date"})}),d.jsx("td",{class:"border border-black p-4",children:n!=null&&n.updatedDate?I_(n==null?void 0:n.updatedDate.toDate()):d.jsx("p",{children:"No date"})}),d.jsx("td",{class:"border border-black p-4",children:d.jsx("p",{className:`text-center ${(n==null?void 0:n.status)=="pending"?"text-primary":(n==null?void 0:n.status)=="approved"?"text-green-500":(n==null?void 0:n.status)=="declined"?"text-red-500":""}`,children:n==null?void 0:n.status})}),d.jsx("td",{class:"border border-black p-4",children:d.jsxs("div",{className:"",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-bold",children:"Production Type:"})," ",n==null?void 0:n.product_type]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-bold",children:"Dimension:"})," ",n==null?void 0:n.product_dimensions]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-bold",children:"Thickness:"})," ",n==null?void 0:n.thickness]})]})})]}))})]})}function Cj(){return d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Admin Section"}),d.jsx(Ej,{})]})}const Ur=({permission:t,children:e})=>{let[n,r]=k.useState({});return k.useEffect(()=>{cx("users",g0("email"),g0("pswd")).then(i=>{if(i[0]){let s=i[1][0].access;console.log("access",s);const o=$t(ye,"permissions",s);bn(o).then(a=>{a.exists()&&r(a.data())})}})},[]),console.log("UserPermissions",n),n[t]?e:d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsx(lx,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"triangle-loading",visible:!0})})};function Sj({setshowUserModal:t}){return d.jsxs("div",{className:"mb-10",children:[d.jsx("h2",{className:"text-3xl font-bold ",children:"Manage Users"}),d.jsx("div",{className:"flex gap-4 justify-end items-center",children:d.jsxs("button",{className:"bg-primary px-4 py-2 rounded-full text-white flex gap-2 items-center",onClick:()=>{t(!0)},children:["Add User",d.jsx(B6,{className:"w-6 h-6"})]})})]})}function bj({userdata:t}){return d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-primary text-white font-light rounded-lg",children:d.jsxs("tr",{className:" rounded-tl-lg",children:[d.jsx("th",{className:"border border-black p-2",children:"ID."}),d.jsx("th",{className:"border border-black p-2",children:" Name"}),d.jsx("th",{className:"border border-black p-2",children:"User Name"}),d.jsx("th",{className:"border border-black p-2",children:"Email"}),d.jsx("th",{className:"border border-black p-2",children:"Access"})]})}),d.jsx("tbody",{children:t==null?void 0:t.map((e,n)=>d.jsxs("tr",{children:[d.jsx("td",{class:"border border-black p-4",children:n+1}),d.jsx("td",{class:"border border-black p-4",children:e.name}),d.jsx("td",{class:"border border-black p-4",children:e.username}),d.jsx("td",{class:"border border-black p-4",children:e.email}),d.jsx("td",{class:"border border-black p-4",children:e.access})]}))})]})}function Dj({setFormData:t,setshowUserModal:e}){let n=k.useRef(""),r=k.useRef(""),i=k.useRef(""),s=k.useRef(""),o=k.useRef(""),[a,l]=k.useState("");const c=u=>{if(u.preventDefault(),n.current.value===""||r.current.value===""||i.current.value===""||s.current.value==="")return l("Please fill up this form properly"),!1;t({username:n.current.value,name:r.current.value,email:s.current.value,password:i.current.value,access:o.current.value}),e(!1)};return d.jsxs("form",{className:"flex flex-col gap-4",onSubmit:c,children:[d.jsx("h2",{className:"text-2xl font-bold pb-6",children:"Add Product"}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"User Name*"}),d.jsx("input",{type:"text",ref:n,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Name*"}),d.jsx("input",{type:"text",ref:r,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Password*"}),d.jsx("input",{type:"password",ref:i,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Email*"}),d.jsx("input",{type:"email",ref:s,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none"})]}),d.jsxs("label",{className:"flex gap-6 items-center",children:[d.jsx("p",{className:"w-[180px]",children:"Access*"}),d.jsx("select",{ref:o,className:"w-full p-2 rounded-md border border-black outline-none focus:outline-none",children:QB.map(u=>d.jsx("option",{value:u,children:u}))})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{className:"btn-primary ",type:"submit",children:"Submit"})}),d.jsx("span",{className:"msgSpan",children:a})]})}function kj({showUserModal:t,setshowUserModal:e}){let[n,r]=k.useState({}),[i,s]=k.useState([]);Rd("users").then(a=>{s(a)});const{addDocument:o}=cr("users");return k.useEffect(()=>{Object.keys(n).length!==0&&o(n)},[n]),d.jsxs("div",{children:[d.jsx(bj,{userdata:i}),t&&d.jsx(ch,{open:t,control:()=>e(!1),children:d.jsx(Dj,{setFormData:r,setshowUserModal:e})})]})}function Aj(){let[t,e]=k.useState(!1);return d.jsxs("div",{children:[d.jsx(Sj,{setshowUserModal:e}),d.jsx(kj,{showUserModal:t,setshowUserModal:e})]})}function Nj(){let[t,e]=k.useState({});const{addDocument:n}=cr("products"),{updateDocument:r,response:i}=cr("latest_product");return k.useEffect(()=>{Object.keys(t).length!==0&&(n({...t,status:"pending"}),r(`machine_${t.machine_no}`,{...t,status:"pending"}),e({}))},[t]),d.jsx("div",{children:d.jsx(V6,{setFormData:e})})}function Tj(){let[t,e]=k.useState({});const{updateDocument:n}=cr("shiftTime");return k.useEffect(()=>{Object.keys(t).length!==0&&(n(t.shift,t),setshowShiftModal(!1))},[t]),d.jsx("div",{children:d.jsx(H6,{setShiftData:e})})}function Ij(){let[t,e]=k.useState({});const{addDocument:n}=cr("damagedProducts");return k.useEffect(()=>{Object.keys(t).length!==0&&n(t)},[t]),d.jsx("div",{children:d.jsx(z6,{setFormData:e})})}function Rj(){return d.jsx("div",{children:"AllMachine"})}const Fj=Hb([{element:d.jsx(MB,{}),children:[{path:"/",element:d.jsx(dj,{})},{path:"/machines",element:d.jsx(OM,{})},{path:"/tare-crain-updates",element:d.jsx(LB,{})},{path:"/reports/dashboard",element:d.jsx(qB,{})},{path:"/reports/realtime-reports",element:d.jsx(Ur,{permission:"manageRealtime",children:d.jsx(KB,{})})},{path:"/reports/daily-reports",element:d.jsx(XB,{})},{path:"/reports/weekly-reports",element:d.jsx(ZB,{})},{path:"/reports/monthly-reports",element:d.jsx(JB,{})},{path:"/reports/quarterly-reports",element:d.jsx(ej,{})},{path:"/reports/yearly-reports",element:d.jsx(tj,{})},{path:"/reports/machine-efficiency",element:d.jsx(nj,{})},{path:"/manage/all-machines",element:d.jsx(Ur,{permission:"manageProduct",children:d.jsx(Rj,{})})},{path:"/manage/products",element:d.jsx(Ur,{permission:"manageProduct",children:d.jsx(vj,{})})},{path:"/products/add-product",element:d.jsx(Ur,{permission:"addProduct",children:d.jsx(Nj,{})})},{path:"/products/add-shift",element:d.jsx(Ur,{permission:"setShiftTime",children:d.jsx(Tj,{})})},{path:"/products/add-damaged-product",element:d.jsx(Ur,{permission:"addDamagedProduct",children:d.jsx(Ij,{})})},{path:"/manage/users",element:d.jsxs(Ur,{permission:"manageUser",children:[d.jsx(Aj,{}),","]})},{path:"/incharge",element:d.jsx(Ur,{permission:"manageIncharge",children:d.jsx(wj,{})})},{path:"/admin/machine-production",element:d.jsx(Ur,{permission:"adminSection",children:d.jsx(Cj,{})})}]}]);function Pj(){return d.jsx(d.Fragment,{children:d.jsx(Xb,{router:Fj})})}W3(document.getElementById("root")).render(d.jsx(Pj,{}));
